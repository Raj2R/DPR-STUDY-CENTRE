function Ab(n,e){for(var i=0;i<e.length;i++){const r=e[i];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in n)){const l=Object.getOwnPropertyDescriptor(r,a);l&&Object.defineProperty(n,a,l.get?l:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=i(a);fetch(a.href,l)}})();function nf(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function zo(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var i=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};i.prototype=e.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var a=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(i,r,a.get?a:{enumerable:!0,get:function(){return n[r]}})}),i}var ld={exports:{}},Io={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ig;function Cb(){if(ig)return Io;ig=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:n,type:r,key:c,ref:a!==void 0?a:null,props:l}}return Io.Fragment=e,Io.jsx=i,Io.jsxs=i,Io}var sg;function Nb(){return sg||(sg=1,ld.exports=Cb()),ld.exports}var v=Nb(),ud={exports:{}},be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rg;function Rb(){if(rg)return be;rg=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),b=Symbol.iterator;function T(M){return M===null||typeof M!="object"?null:(M=b&&M[b]||M["@@iterator"],typeof M=="function"?M:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,R={};function P(M,z,te){this.props=M,this.context=z,this.refs=R,this.updater=te||A}P.prototype.isReactComponent={},P.prototype.setState=function(M,z){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,z,"setState")},P.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function L(){}L.prototype=P.prototype;function k(M,z,te){this.props=M,this.context=z,this.refs=R,this.updater=te||A}var j=k.prototype=new L;j.constructor=k,N(j,P.prototype),j.isPureReactComponent=!0;var Y=Array.isArray;function Q(){}var $={H:null,A:null,T:null,S:null},ae=Object.prototype.hasOwnProperty;function ee(M,z,te){var X=te.ref;return{$$typeof:n,type:M,key:z,ref:X!==void 0?X:null,props:te}}function fe(M,z){return ee(M.type,z,M.props)}function Z(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function ne(M){var z={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(te){return z[te]})}var ye=/\/+/g;function Be(M,z){return typeof M=="object"&&M!==null&&M.key!=null?ne(""+M.key):z.toString(36)}function Pe(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Q,Q):(M.status="pending",M.then(function(z){M.status==="pending"&&(M.status="fulfilled",M.value=z)},function(z){M.status==="pending"&&(M.status="rejected",M.reason=z)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function H(M,z,te,X,he){var ce=typeof M;(ce==="undefined"||ce==="boolean")&&(M=null);var Oe=!1;if(M===null)Oe=!0;else switch(ce){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(M.$$typeof){case n:case e:Oe=!0;break;case _:return Oe=M._init,H(Oe(M._payload),z,te,X,he)}}if(Oe)return he=he(M),Oe=X===""?"."+Be(M,0):X,Y(he)?(te="",Oe!=null&&(te=Oe.replace(ye,"$&/")+"/"),H(he,z,te,"",function($i){return $i})):he!=null&&(Z(he)&&(he=fe(he,te+(he.key==null||M&&M.key===he.key?"":(""+he.key).replace(ye,"$&/")+"/")+Oe)),z.push(he)),1;Oe=0;var Ye=X===""?".":X+":";if(Y(M))for(var it=0;it<M.length;it++)X=M[it],ce=Ye+Be(X,it),Oe+=H(X,z,te,ce,he);else if(it=T(M),typeof it=="function")for(M=it.call(M),it=0;!(X=M.next()).done;)X=X.value,ce=Ye+Be(X,it++),Oe+=H(X,z,te,ce,he);else if(ce==="object"){if(typeof M.then=="function")return H(Pe(M),z,te,X,he);throw z=String(M),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function W(M,z,te){if(M==null)return M;var X=[],he=0;return H(M,X,"","",function(ce){return z.call(te,ce,he++)}),X}function ie(M){if(M._status===-1){var z=M._result;z=z(),z.then(function(te){(M._status===0||M._status===-1)&&(M._status=1,M._result=te)},function(te){(M._status===0||M._status===-1)&&(M._status=2,M._result=te)}),M._status===-1&&(M._status=0,M._result=z)}if(M._status===1)return M._result.default;throw M._result}var Ce=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},ke={map:W,forEach:function(M,z,te){W(M,function(){z.apply(this,arguments)},te)},count:function(M){var z=0;return W(M,function(){z++}),z},toArray:function(M){return W(M,function(z){return z})||[]},only:function(M){if(!Z(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return be.Activity=E,be.Children=ke,be.Component=P,be.Fragment=i,be.Profiler=a,be.PureComponent=k,be.StrictMode=r,be.Suspense=g,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,be.__COMPILER_RUNTIME={__proto__:null,c:function(M){return $.H.useMemoCache(M)}},be.cache=function(M){return function(){return M.apply(null,arguments)}},be.cacheSignal=function(){return null},be.cloneElement=function(M,z,te){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var X=N({},M.props),he=M.key;if(z!=null)for(ce in z.key!==void 0&&(he=""+z.key),z)!ae.call(z,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&z.ref===void 0||(X[ce]=z[ce]);var ce=arguments.length-2;if(ce===1)X.children=te;else if(1<ce){for(var Oe=Array(ce),Ye=0;Ye<ce;Ye++)Oe[Ye]=arguments[Ye+2];X.children=Oe}return ee(M.type,he,X)},be.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:l,_context:M},M},be.createElement=function(M,z,te){var X,he={},ce=null;if(z!=null)for(X in z.key!==void 0&&(ce=""+z.key),z)ae.call(z,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(he[X]=z[X]);var Oe=arguments.length-2;if(Oe===1)he.children=te;else if(1<Oe){for(var Ye=Array(Oe),it=0;it<Oe;it++)Ye[it]=arguments[it+2];he.children=Ye}if(M&&M.defaultProps)for(X in Oe=M.defaultProps,Oe)he[X]===void 0&&(he[X]=Oe[X]);return ee(M,ce,he)},be.createRef=function(){return{current:null}},be.forwardRef=function(M){return{$$typeof:h,render:M}},be.isValidElement=Z,be.lazy=function(M){return{$$typeof:_,_payload:{_status:-1,_result:M},_init:ie}},be.memo=function(M,z){return{$$typeof:m,type:M,compare:z===void 0?null:z}},be.startTransition=function(M){var z=$.T,te={};$.T=te;try{var X=M(),he=$.S;he!==null&&he(te,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(Q,Ce)}catch(ce){Ce(ce)}finally{z!==null&&te.types!==null&&(z.types=te.types),$.T=z}},be.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},be.use=function(M){return $.H.use(M)},be.useActionState=function(M,z,te){return $.H.useActionState(M,z,te)},be.useCallback=function(M,z){return $.H.useCallback(M,z)},be.useContext=function(M){return $.H.useContext(M)},be.useDebugValue=function(){},be.useDeferredValue=function(M,z){return $.H.useDeferredValue(M,z)},be.useEffect=function(M,z){return $.H.useEffect(M,z)},be.useEffectEvent=function(M){return $.H.useEffectEvent(M)},be.useId=function(){return $.H.useId()},be.useImperativeHandle=function(M,z,te){return $.H.useImperativeHandle(M,z,te)},be.useInsertionEffect=function(M,z){return $.H.useInsertionEffect(M,z)},be.useLayoutEffect=function(M,z){return $.H.useLayoutEffect(M,z)},be.useMemo=function(M,z){return $.H.useMemo(M,z)},be.useOptimistic=function(M,z){return $.H.useOptimistic(M,z)},be.useReducer=function(M,z,te){return $.H.useReducer(M,z,te)},be.useRef=function(M){return $.H.useRef(M)},be.useState=function(M){return $.H.useState(M)},be.useSyncExternalStore=function(M,z,te){return $.H.useSyncExternalStore(M,z,te)},be.useTransition=function(){return $.H.useTransition()},be.version="19.2.1",be}var og;function sf(){return og||(og=1,ud.exports=Rb()),ud.exports}var K=sf();const Mb=nf(K);var cd={exports:{}},Do={},dd={exports:{}},fd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ag;function Ib(){return ag||(ag=1,(function(n){function e(H,W){var ie=H.length;H.push(W);e:for(;0<ie;){var Ce=ie-1>>>1,ke=H[Ce];if(0<a(ke,W))H[Ce]=W,H[ie]=ke,ie=Ce;else break e}}function i(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var W=H[0],ie=H.pop();if(ie!==W){H[0]=ie;e:for(var Ce=0,ke=H.length,M=ke>>>1;Ce<M;){var z=2*(Ce+1)-1,te=H[z],X=z+1,he=H[X];if(0>a(te,ie))X<ke&&0>a(he,te)?(H[Ce]=he,H[X]=ie,Ce=X):(H[Ce]=te,H[z]=ie,Ce=z);else if(X<ke&&0>a(he,ie))H[Ce]=he,H[X]=ie,Ce=X;else break e}}return W}function a(H,W){var ie=H.sortIndex-W.sortIndex;return ie!==0?ie:H.id-W.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var g=[],m=[],_=1,E=null,b=3,T=!1,A=!1,N=!1,R=!1,P=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function j(H){for(var W=i(m);W!==null;){if(W.callback===null)r(m);else if(W.startTime<=H)r(m),W.sortIndex=W.expirationTime,e(g,W);else break;W=i(m)}}function Y(H){if(N=!1,j(H),!A)if(i(g)!==null)A=!0,Q||(Q=!0,ne());else{var W=i(m);W!==null&&Pe(Y,W.startTime-H)}}var Q=!1,$=-1,ae=5,ee=-1;function fe(){return R?!0:!(n.unstable_now()-ee<ae)}function Z(){if(R=!1,Q){var H=n.unstable_now();ee=H;var W=!0;try{e:{A=!1,N&&(N=!1,L($),$=-1),T=!0;var ie=b;try{t:{for(j(H),E=i(g);E!==null&&!(E.expirationTime>H&&fe());){var Ce=E.callback;if(typeof Ce=="function"){E.callback=null,b=E.priorityLevel;var ke=Ce(E.expirationTime<=H);if(H=n.unstable_now(),typeof ke=="function"){E.callback=ke,j(H),W=!0;break t}E===i(g)&&r(g),j(H)}else r(g);E=i(g)}if(E!==null)W=!0;else{var M=i(m);M!==null&&Pe(Y,M.startTime-H),W=!1}}break e}finally{E=null,b=ie,T=!1}W=void 0}}finally{W?ne():Q=!1}}}var ne;if(typeof k=="function")ne=function(){k(Z)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,Be=ye.port2;ye.port1.onmessage=Z,ne=function(){Be.postMessage(null)}}else ne=function(){P(Z,0)};function Pe(H,W){$=P(function(){H(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(H){switch(b){case 1:case 2:case 3:var W=3;break;default:W=b}var ie=b;b=W;try{return H()}finally{b=ie}},n.unstable_requestPaint=function(){R=!0},n.unstable_runWithPriority=function(H,W){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ie=b;b=H;try{return W()}finally{b=ie}},n.unstable_scheduleCallback=function(H,W,ie){var Ce=n.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?Ce+ie:Ce):ie=Ce,H){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=ie+ke,H={id:_++,callback:W,priorityLevel:H,startTime:ie,expirationTime:ke,sortIndex:-1},ie>Ce?(H.sortIndex=ie,e(m,H),i(g)===null&&H===i(m)&&(N?(L($),$=-1):N=!0,Pe(Y,ie-Ce))):(H.sortIndex=ke,e(g,H),A||T||(A=!0,Q||(Q=!0,ne()))),H},n.unstable_shouldYield=fe,n.unstable_wrapCallback=function(H){var W=b;return function(){var ie=b;b=W;try{return H.apply(this,arguments)}finally{b=ie}}}})(fd)),fd}var lg;function Db(){return lg||(lg=1,dd.exports=Ib()),dd.exports}var hd={exports:{}},Dt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ug;function kb(){if(ug)return Dt;ug=1;var n=sf();function e(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(g,m,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:E==null?null:""+E,children:g,containerInfo:m,implementation:_}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Dt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Dt.createPortal=function(g,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(g,m,null,_)},Dt.flushSync=function(g){var m=c.T,_=r.p;try{if(c.T=null,r.p=2,g)return g()}finally{c.T=m,r.p=_,r.d.f()}},Dt.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(g,m))},Dt.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Dt.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var _=m.as,E=h(_,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,T=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?r.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:E,integrity:b,fetchPriority:T}):_==="script"&&r.d.X(g,{crossOrigin:E,integrity:b,fetchPriority:T,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Dt.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=h(m.as,m.crossOrigin);r.d.M(g,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(g)},Dt.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,E=h(_,m.crossOrigin);r.d.L(g,_,{crossOrigin:E,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Dt.preloadModule=function(g,m){if(typeof g=="string")if(m){var _=h(m.as,m.crossOrigin);r.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(g)},Dt.requestFormReset=function(g){r.d.r(g)},Dt.unstable_batchedUpdates=function(g,m){return g(m)},Dt.useFormState=function(g,m,_){return c.H.useFormState(g,m,_)},Dt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Dt.version="19.2.1",Dt}var cg;function Ub(){if(cg)return hd.exports;cg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),hd.exports=kb(),hd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dg;function Pb(){if(dg)return Do;dg=1;var n=Db(),e=sf(),i=Ub();function r(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function l(t){var s=t,o=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(o=s.return),t=s.return;while(t)}return s.tag===3?o:null}function c(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function h(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function g(t){if(l(t)!==t)throw Error(r(188))}function m(t){var s=t.alternate;if(!s){if(s=l(t),s===null)throw Error(r(188));return s!==t?null:t}for(var o=t,u=s;;){var p=o.return;if(p===null)break;var y=p.alternate;if(y===null){if(u=p.return,u!==null){o=u;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===o)return g(p),t;if(y===u)return g(p),s;y=y.sibling}throw Error(r(188))}if(o.return!==u.return)o=p,u=y;else{for(var S=!1,x=p.child;x;){if(x===o){S=!0,o=p,u=y;break}if(x===u){S=!0,u=p,o=y;break}x=x.sibling}if(!S){for(x=y.child;x;){if(x===o){S=!0,o=y,u=p;break}if(x===u){S=!0,u=y,o=p;break}x=x.sibling}if(!S)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?t:s}function _(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=_(t),s!==null)return s;t=t.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),k=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),ee=Symbol.for("react.activity"),fe=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function ne(t){return t===null||typeof t!="object"?null:(t=Z&&t[Z]||t["@@iterator"],typeof t=="function"?t:null)}var ye=Symbol.for("react.client.reference");function Be(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ye?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case N:return"Fragment";case P:return"Profiler";case R:return"StrictMode";case Y:return"Suspense";case Q:return"SuspenseList";case ee:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case A:return"Portal";case k:return t.displayName||"Context";case L:return(t._context.displayName||"Context")+".Consumer";case j:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $:return s=t.displayName||null,s!==null?s:Be(t.type)||"Memo";case ae:s=t._payload,t=t._init;try{return Be(t(s))}catch{}}return null}var Pe=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},Ce=[],ke=-1;function M(t){return{current:t}}function z(t){0>ke||(t.current=Ce[ke],Ce[ke]=null,ke--)}function te(t,s){ke++,Ce[ke]=t.current,t.current=s}var X=M(null),he=M(null),ce=M(null),Oe=M(null);function Ye(t,s){switch(te(ce,s),te(he,t),te(X,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?Am(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=Am(s),t=Cm(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}z(X),te(X,t)}function it(){z(X),z(he),z(ce)}function $i(t){t.memoizedState!==null&&te(Oe,t);var s=X.current,o=Cm(s,t.type);s!==o&&(te(he,t),te(X,o))}function Un(t){he.current===t&&(z(X),z(he)),Oe.current===t&&(z(Oe),Co._currentValue=ie)}var ws,Rr;function Pn(t){if(ws===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);ws=s&&s[1]||"",Rr=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ws+t+Rr}var On=!1;function sn(t,s){if(!t||On)return"";On=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(G){var q=G}Reflect.construct(t,[],F)}else{try{F.call()}catch(G){q=G}t.call(F.prototype)}}else{try{throw Error()}catch(G){q=G}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),S=y[0],x=y[1];if(S&&x){var C=S.split(`
`),O=x.split(`
`);for(p=u=0;u<C.length&&!C[u].includes("DetermineComponentFrameRoot");)u++;for(;p<O.length&&!O[p].includes("DetermineComponentFrameRoot");)p++;if(u===C.length||p===O.length)for(u=C.length-1,p=O.length-1;1<=u&&0<=p&&C[u]!==O[p];)p--;for(;1<=u&&0<=p;u--,p--)if(C[u]!==O[p]){if(u!==1||p!==1)do if(u--,p--,0>p||C[u]!==O[p]){var B=`
`+C[u].replace(" at new "," at ");return t.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",t.displayName)),B}while(1<=u&&0<=p);break}}}finally{On=!1,Error.prepareStackTrace=o}return(o=t?t.displayName||t.name:"")?Pn(o):""}function Mr(t,s){switch(t.tag){case 26:case 27:case 5:return Pn(t.type);case 16:return Pn("Lazy");case 13:return t.child!==s&&s!==null?Pn("Suspense Fallback"):Pn("Suspense");case 19:return Pn("SuspenseList");case 0:case 15:return sn(t.type,!1);case 11:return sn(t.type.render,!1);case 1:return sn(t.type,!0);case 31:return Pn("Activity");default:return""}}function _e(t){try{var s="",o=null;do s+=Mr(t,o),o=t,t=t.return;while(t);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Pt=Object.prototype.hasOwnProperty,Ir=n.unstable_scheduleCallback,Dr=n.unstable_cancelCallback,St=n.unstable_shouldYield,Ji=n.unstable_requestPaint,Rt=n.unstable_now,eu=n.unstable_getCurrentPriorityLevel,di=n.unstable_ImmediatePriority,As=n.unstable_UserBlockingPriority,je=n.unstable_NormalPriority,rn=n.unstable_LowPriority,fi=n.unstable_IdlePriority,kr=n.log,Fo=n.unstable_setDisableYieldValue,Ln=null,Mt=null;function mn(t){if(typeof kr=="function"&&Fo(t),Mt&&typeof Mt.setStrictMode=="function")try{Mt.setStrictMode(Ln,t)}catch{}}var dt=Math.clz32?Math.clz32:Yo,$o=Math.log,Jo=Math.LN2;function Yo(t){return t>>>=0,t===0?32:31-($o(t)/Jo|0)|0}var Yi=256,An=262144,hi=4194304;function Ue(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ot(t,s,o){var u=t.pendingLanes;if(u===0)return 0;var p=0,y=t.suspendedLanes,S=t.pingedLanes;t=t.warmLanes;var x=u&134217727;return x!==0?(u=x&~y,u!==0?p=Ue(u):(S&=x,S!==0?p=Ue(S):o||(o=x&~t,o!==0&&(p=Ue(o))))):(x=u&~y,x!==0?p=Ue(x):S!==0?p=Ue(S):o||(o=u&~t,o!==0&&(p=Ue(o)))),p===0?0:s!==0&&s!==p&&(s&y)===0&&(y=p&-p,o=s&-s,y>=o||y===32&&(o&4194048)!==0)?s:p}function pi(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function gn(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ur(){var t=hi;return hi<<=1,(hi&62914560)===0&&(hi=4194304),t}function mi(t){for(var s=[],o=0;31>o;o++)s.push(t);return s}function Cn(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Cs(t,s,o,u,p,y){var S=t.pendingLanes;t.pendingLanes=o,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=o,t.entangledLanes&=o,t.errorRecoveryDisabledLanes&=o,t.shellSuspendCounter=0;var x=t.entanglements,C=t.expirationTimes,O=t.hiddenUpdates;for(o=S&~o;0<o;){var B=31-dt(o),F=1<<B;x[B]=0,C[B]=-1;var q=O[B];if(q!==null)for(O[B]=null,B=0;B<q.length;B++){var G=q[B];G!==null&&(G.lane&=-536870913)}o&=~F}u!==0&&Ki(t,u,0),y!==0&&p===0&&t.tag!==0&&(t.suspendedLanes|=y&~(S&~s))}function Ki(t,s,o){t.pendingLanes|=s,t.suspendedLanes&=~s;var u=31-dt(s);t.entangledLanes|=s,t.entanglements[u]=t.entanglements[u]|1073741824|o&261930}function Qi(t,s){var o=t.entangledLanes|=s;for(t=t.entanglements;o;){var u=31-dt(o),p=1<<u;p&s|t[u]&s&&(t[u]|=s),o&=~p}}function Xi(t,s){var o=s&-s;return o=(o&42)!==0?1:qn(o),(o&(t.suspendedLanes|s))!==0?0:o}function qn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Hn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Pr(){var t=W.p;return t!==0?t:(t=window.event,t===void 0?32:Qm(t.type))}function Or(t,s){var o=W.p;try{return W.p=t,s()}finally{W.p=o}}var yn=Math.random().toString(36).slice(2),Xe="__reactFiber$"+yn,Se="__reactProps$"+yn,Gn="__reactContainer$"+yn,Lr="__reactEvents$"+yn,Ko="__reactListeners$"+yn,Qo="__reactHandles$"+yn,Xo="__reactResources$"+yn,Wi="__reactMarker$"+yn;function qr(t){delete t[Xe],delete t[Se],delete t[Lr],delete t[Ko],delete t[Qo]}function gi(t){var s=t[Xe];if(s)return s;for(var o=t.parentNode;o;){if(s=o[Gn]||o[Xe]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(t=Um(t);t!==null;){if(o=t[Xe])return o;t=Um(t)}return s}t=o,o=t.parentNode}return null}function yi(t){if(t=t[Xe]||t[Gn]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function Zi(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(r(33))}function vi(t){var s=t[Xo];return s||(s=t[Xo]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ft(t){t[Wi]=!0}var Wo=new Set,Zo={};function Bn(t,s){_i(t,s),_i(t+"Capture",s)}function _i(t,s){for(Zo[t]=s,t=0;t<s.length;t++)Wo.add(s[t])}var tu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hr={},ea={};function nu(t){return Pt.call(ea,t)?!0:Pt.call(Hr,t)?!1:tu.test(t)?ea[t]=!0:(Hr[t]=!0,!1)}function Ns(t,s,o){if(nu(s))if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+o)}}function Rs(t,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+o)}}function vn(t,s,o,u){if(u===null)t.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(o);return}t.setAttributeNS(s,o,""+u)}}function Ht(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ta(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function iu(t,s,o){var u=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,y=u.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return p.call(this)},set:function(S){o=""+S,y.call(this,S)}}),Object.defineProperty(t,s,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(S){o=""+S},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Gr(t){if(!t._valueTracker){var s=ta(t)?"checked":"value";t._valueTracker=iu(t,s,""+t[s])}}function na(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return t&&(u=ta(t)?t.checked?"true":"false":t.value),t=u,t!==o?(s.setValue(t),!0):!1}function Ms(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var su=/[\n"\\]/g;function Gt(t){return t.replace(su,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Br(t,s,o,u,p,y,S,x){t.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.type=S:t.removeAttribute("type"),s!=null?S==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Ht(s)):t.value!==""+Ht(s)&&(t.value=""+Ht(s)):S!=="submit"&&S!=="reset"||t.removeAttribute("value"),s!=null?J(t,S,Ht(s)):o!=null?J(t,S,Ht(o)):u!=null&&t.removeAttribute("value"),p==null&&y!=null&&(t.defaultChecked=!!y),p!=null&&(t.checked=p&&typeof p!="function"&&typeof p!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+Ht(x):t.removeAttribute("name")}function w(t,s,o,u,p,y,S,x){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.type=y),s!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||s!=null)){Gr(t);return}o=o!=null?""+Ht(o):"",s=s!=null?""+Ht(s):o,x||s===t.value||(t.value=s),t.defaultValue=s}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=x?t.checked:!!u,t.defaultChecked=!!u,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(t.name=S),Gr(t)}function J(t,s,o){s==="number"&&Ms(t.ownerDocument)===t||t.defaultValue===""+o||(t.defaultValue=""+o)}function Te(t,s,o,u){if(t=t.options,s){s={};for(var p=0;p<o.length;p++)s["$"+o[p]]=!0;for(o=0;o<t.length;o++)p=s.hasOwnProperty("$"+t[o].value),t[o].selected!==p&&(t[o].selected=p),p&&u&&(t[o].defaultSelected=!0)}else{for(o=""+Ht(o),s=null,p=0;p<t.length;p++){if(t[p].value===o){t[p].selected=!0,u&&(t[p].defaultSelected=!0);return}s!==null||t[p].disabled||(s=t[p])}s!==null&&(s.selected=!0)}}function ve(t,s,o){if(s!=null&&(s=""+Ht(s),s!==t.value&&(t.value=s),o==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=o!=null?""+Ht(o):""}function It(t,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(Pe(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=Ht(s),t.defaultValue=o,u=t.textContent,u===o&&u!==""&&u!==null&&(t.value=u),Gr(t)}function Lt(t,s){if(s){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=s;return}}t.textContent=s}var We=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Is(t,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":u?t.setProperty(s,o):typeof o!="number"||o===0||We.has(s)?s==="float"?t.cssFloat=o:t[s]=(""+o).trim():t[s]=o+"px"}function zr(t,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(t=t.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var p in s)u=s[p],s.hasOwnProperty(p)&&o[p]!==u&&Is(t,p,u)}else for(var y in s)s.hasOwnProperty(y)&&Is(t,y,s[y])}function ia(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var S_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),T_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sa(t){return T_.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function zn(){}var ru=null;function ou(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ds=null,ks=null;function wf(t){var s=yi(t);if(s&&(t=s.stateNode)){var o=t[Se]||null;e:switch(t=s.stateNode,s.type){case"input":if(Br(t,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Gt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==t&&u.form===t.form){var p=u[Se]||null;if(!p)throw Error(r(90));Br(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===t.form&&na(u)}break e;case"textarea":ve(t,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Te(t,!!o.multiple,s,!1)}}}var au=!1;function Af(t,s,o){if(au)return t(s,o);au=!0;try{var u=t(s);return u}finally{if(au=!1,(Ds!==null||ks!==null)&&(Fa(),Ds&&(s=Ds,t=ks,ks=Ds=null,wf(s),t)))for(s=0;s<t.length;s++)wf(t[s])}}function Vr(t,s){var o=t.stateNode;if(o===null)return null;var u=o[Se]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lu=!1;if(Vn)try{var jr={};Object.defineProperty(jr,"passive",{get:function(){lu=!0}}),window.addEventListener("test",jr,jr),window.removeEventListener("test",jr,jr)}catch{lu=!1}var Ei=null,uu=null,ra=null;function Cf(){if(ra)return ra;var t,s=uu,o=s.length,u,p="value"in Ei?Ei.value:Ei.textContent,y=p.length;for(t=0;t<o&&s[t]===p[t];t++);var S=o-t;for(u=1;u<=S&&s[o-u]===p[y-u];u++);return ra=p.slice(t,1<u?1-u:void 0)}function oa(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function aa(){return!0}function Nf(){return!1}function Bt(t){function s(o,u,p,y,S){this._reactName=o,this._targetInst=p,this.type=u,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(o=t[x],this[x]=o?o(y):y[x]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?aa:Nf,this.isPropagationStopped=Nf,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=aa)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=aa)},persist:function(){},isPersistent:aa}),s}var es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},la=Bt(es),Fr=E({},es,{view:0,detail:0}),x_=Bt(Fr),cu,du,$r,ua=E({},Fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$r&&($r&&t.type==="mousemove"?(cu=t.screenX-$r.screenX,du=t.screenY-$r.screenY):du=cu=0,$r=t),cu)},movementY:function(t){return"movementY"in t?t.movementY:du}}),Rf=Bt(ua),w_=E({},ua,{dataTransfer:0}),A_=Bt(w_),C_=E({},Fr,{relatedTarget:0}),fu=Bt(C_),N_=E({},es,{animationName:0,elapsedTime:0,pseudoElement:0}),R_=Bt(N_),M_=E({},es,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),I_=Bt(M_),D_=E({},es,{data:0}),Mf=Bt(D_),k_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},U_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},P_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function O_(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=P_[t])?!!s[t]:!1}function hu(){return O_}var L_=E({},Fr,{key:function(t){if(t.key){var s=k_[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=oa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?U_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hu,charCode:function(t){return t.type==="keypress"?oa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?oa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),q_=Bt(L_),H_=E({},ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),If=Bt(H_),G_=E({},Fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hu}),B_=Bt(G_),z_=E({},es,{propertyName:0,elapsedTime:0,pseudoElement:0}),V_=Bt(z_),j_=E({},ua,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),F_=Bt(j_),$_=E({},es,{newState:0,oldState:0}),J_=Bt($_),Y_=[9,13,27,32],pu=Vn&&"CompositionEvent"in window,Jr=null;Vn&&"documentMode"in document&&(Jr=document.documentMode);var K_=Vn&&"TextEvent"in window&&!Jr,Df=Vn&&(!pu||Jr&&8<Jr&&11>=Jr),kf=" ",Uf=!1;function Pf(t,s){switch(t){case"keyup":return Y_.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Of(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Us=!1;function Q_(t,s){switch(t){case"compositionend":return Of(s);case"keypress":return s.which!==32?null:(Uf=!0,kf);case"textInput":return t=s.data,t===kf&&Uf?null:t;default:return null}}function X_(t,s){if(Us)return t==="compositionend"||!pu&&Pf(t,s)?(t=Cf(),ra=uu=Ei=null,Us=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Df&&s.locale!=="ko"?null:s.data;default:return null}}var W_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lf(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!W_[t.type]:s==="textarea"}function qf(t,s,o,u){Ds?ks?ks.push(u):ks=[u]:Ds=u,s=Wa(s,"onChange"),0<s.length&&(o=new la("onChange","change",null,o,u),t.push({event:o,listeners:s}))}var Yr=null,Kr=null;function Z_(t){Em(t,0)}function ca(t){var s=Zi(t);if(na(s))return t}function Hf(t,s){if(t==="change")return s}var Gf=!1;if(Vn){var mu;if(Vn){var gu="oninput"in document;if(!gu){var Bf=document.createElement("div");Bf.setAttribute("oninput","return;"),gu=typeof Bf.oninput=="function"}mu=gu}else mu=!1;Gf=mu&&(!document.documentMode||9<document.documentMode)}function zf(){Yr&&(Yr.detachEvent("onpropertychange",Vf),Kr=Yr=null)}function Vf(t){if(t.propertyName==="value"&&ca(Kr)){var s=[];qf(s,Kr,t,ou(t)),Af(Z_,s)}}function eE(t,s,o){t==="focusin"?(zf(),Yr=s,Kr=o,Yr.attachEvent("onpropertychange",Vf)):t==="focusout"&&zf()}function tE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ca(Kr)}function nE(t,s){if(t==="click")return ca(s)}function iE(t,s){if(t==="input"||t==="change")return ca(s)}function sE(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Kt=typeof Object.is=="function"?Object.is:sE;function Qr(t,s){if(Kt(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var o=Object.keys(t),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var p=o[u];if(!Pt.call(s,p)||!Kt(t[p],s[p]))return!1}return!0}function jf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ff(t,s){var o=jf(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=s&&u>=s)return{node:o,offset:s-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=jf(o)}}function $f(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?$f(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Jf(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=Ms(t.document);s instanceof t.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)t=s.contentWindow;else break;s=Ms(t.document)}return s}function yu(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var rE=Vn&&"documentMode"in document&&11>=document.documentMode,Ps=null,vu=null,Xr=null,_u=!1;function Yf(t,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;_u||Ps==null||Ps!==Ms(u)||(u=Ps,"selectionStart"in u&&yu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Xr&&Qr(Xr,u)||(Xr=u,u=Wa(vu,"onSelect"),0<u.length&&(s=new la("onSelect","select",null,s,o),t.push({event:s,listeners:u}),s.target=Ps)))}function ts(t,s){var o={};return o[t.toLowerCase()]=s.toLowerCase(),o["Webkit"+t]="webkit"+s,o["Moz"+t]="moz"+s,o}var Os={animationend:ts("Animation","AnimationEnd"),animationiteration:ts("Animation","AnimationIteration"),animationstart:ts("Animation","AnimationStart"),transitionrun:ts("Transition","TransitionRun"),transitionstart:ts("Transition","TransitionStart"),transitioncancel:ts("Transition","TransitionCancel"),transitionend:ts("Transition","TransitionEnd")},Eu={},Kf={};Vn&&(Kf=document.createElement("div").style,"AnimationEvent"in window||(delete Os.animationend.animation,delete Os.animationiteration.animation,delete Os.animationstart.animation),"TransitionEvent"in window||delete Os.transitionend.transition);function ns(t){if(Eu[t])return Eu[t];if(!Os[t])return t;var s=Os[t],o;for(o in s)if(s.hasOwnProperty(o)&&o in Kf)return Eu[t]=s[o];return t}var Qf=ns("animationend"),Xf=ns("animationiteration"),Wf=ns("animationstart"),oE=ns("transitionrun"),aE=ns("transitionstart"),lE=ns("transitioncancel"),Zf=ns("transitionend"),eh=new Map,bu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bu.push("scrollEnd");function _n(t,s){eh.set(t,s),Bn(s,[t])}var da=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},on=[],Ls=0,Su=0;function fa(){for(var t=Ls,s=Su=Ls=0;s<t;){var o=on[s];on[s++]=null;var u=on[s];on[s++]=null;var p=on[s];on[s++]=null;var y=on[s];if(on[s++]=null,u!==null&&p!==null){var S=u.pending;S===null?p.next=p:(p.next=S.next,S.next=p),u.pending=p}y!==0&&th(o,p,y)}}function ha(t,s,o,u){on[Ls++]=t,on[Ls++]=s,on[Ls++]=o,on[Ls++]=u,Su|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function Tu(t,s,o,u){return ha(t,s,o,u),pa(t)}function is(t,s){return ha(t,null,null,s),pa(t)}function th(t,s,o){t.lanes|=o;var u=t.alternate;u!==null&&(u.lanes|=o);for(var p=!1,y=t.return;y!==null;)y.childLanes|=o,u=y.alternate,u!==null&&(u.childLanes|=o),y.tag===22&&(t=y.stateNode,t===null||t._visibility&1||(p=!0)),t=y,y=y.return;return t.tag===3?(y=t.stateNode,p&&s!==null&&(p=31-dt(o),t=y.hiddenUpdates,u=t[p],u===null?t[p]=[s]:u.push(s),s.lane=o|536870912),y):null}function pa(t){if(50<Eo)throw Eo=0,Dc=null,Error(r(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var qs={};function uE(t,s,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(t,s,o,u){return new uE(t,s,o,u)}function xu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function jn(t,s){var o=t.alternate;return o===null?(o=Qt(t.tag,s,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=s,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&65011712,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,s=t.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o.refCleanup=t.refCleanup,o}function nh(t,s){t.flags&=65011714;var o=t.alternate;return o===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=o.childLanes,t.lanes=o.lanes,t.child=o.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=o.memoizedProps,t.memoizedState=o.memoizedState,t.updateQueue=o.updateQueue,t.type=o.type,s=o.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function ma(t,s,o,u,p,y){var S=0;if(u=t,typeof t=="function")xu(t)&&(S=1);else if(typeof t=="string")S=pb(t,o,X.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ee:return t=Qt(31,o,s,p),t.elementType=ee,t.lanes=y,t;case N:return ss(o.children,p,y,s);case R:S=8,p|=24;break;case P:return t=Qt(12,o,s,p|2),t.elementType=P,t.lanes=y,t;case Y:return t=Qt(13,o,s,p),t.elementType=Y,t.lanes=y,t;case Q:return t=Qt(19,o,s,p),t.elementType=Q,t.lanes=y,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:S=10;break e;case L:S=9;break e;case j:S=11;break e;case $:S=14;break e;case ae:S=16,u=null;break e}S=29,o=Error(r(130,t===null?"null":typeof t,"")),u=null}return s=Qt(S,o,s,p),s.elementType=t,s.type=u,s.lanes=y,s}function ss(t,s,o,u){return t=Qt(7,t,u,s),t.lanes=o,t}function wu(t,s,o){return t=Qt(6,t,null,s),t.lanes=o,t}function ih(t){var s=Qt(18,null,null,0);return s.stateNode=t,s}function Au(t,s,o){return s=Qt(4,t.children!==null?t.children:[],t.key,s),s.lanes=o,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var sh=new WeakMap;function an(t,s){if(typeof t=="object"&&t!==null){var o=sh.get(t);return o!==void 0?o:(s={value:t,source:s,stack:_e(s)},sh.set(t,s),s)}return{value:t,source:s,stack:_e(s)}}var Hs=[],Gs=0,ga=null,Wr=0,ln=[],un=0,bi=null,Nn=1,Rn="";function Fn(t,s){Hs[Gs++]=Wr,Hs[Gs++]=ga,ga=t,Wr=s}function rh(t,s,o){ln[un++]=Nn,ln[un++]=Rn,ln[un++]=bi,bi=t;var u=Nn;t=Rn;var p=32-dt(u)-1;u&=~(1<<p),o+=1;var y=32-dt(s)+p;if(30<y){var S=p-p%5;y=(u&(1<<S)-1).toString(32),u>>=S,p-=S,Nn=1<<32-dt(s)+p|o<<p|u,Rn=y+t}else Nn=1<<y|o<<p|u,Rn=t}function Cu(t){t.return!==null&&(Fn(t,1),rh(t,1,0))}function Nu(t){for(;t===ga;)ga=Hs[--Gs],Hs[Gs]=null,Wr=Hs[--Gs],Hs[Gs]=null;for(;t===bi;)bi=ln[--un],ln[un]=null,Rn=ln[--un],ln[un]=null,Nn=ln[--un],ln[un]=null}function oh(t,s){ln[un++]=Nn,ln[un++]=Rn,ln[un++]=bi,Nn=s.id,Rn=s.overflow,bi=t}var Tt=null,Ze=null,De=!1,Si=null,cn=!1,Ru=Error(r(519));function Ti(t){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zr(an(s,t)),Ru}function ah(t){var s=t.stateNode,o=t.type,u=t.memoizedProps;switch(s[Xe]=t,s[Se]=u,o){case"dialog":Re("cancel",s),Re("close",s);break;case"iframe":case"object":case"embed":Re("load",s);break;case"video":case"audio":for(o=0;o<So.length;o++)Re(So[o],s);break;case"source":Re("error",s);break;case"img":case"image":case"link":Re("error",s),Re("load",s);break;case"details":Re("toggle",s);break;case"input":Re("invalid",s),w(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Re("invalid",s);break;case"textarea":Re("invalid",s),It(s,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||xm(s.textContent,o)?(u.popover!=null&&(Re("beforetoggle",s),Re("toggle",s)),u.onScroll!=null&&Re("scroll",s),u.onScrollEnd!=null&&Re("scrollend",s),u.onClick!=null&&(s.onclick=zn),s=!0):s=!1,s||Ti(t,!0)}function lh(t){for(Tt=t.return;Tt;)switch(Tt.tag){case 5:case 31:case 13:cn=!1;return;case 27:case 3:cn=!0;return;default:Tt=Tt.return}}function Bs(t){if(t!==Tt)return!1;if(!De)return lh(t),De=!0,!1;var s=t.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=t.type,o=!(o!=="form"&&o!=="button")||Jc(t.type,t.memoizedProps)),o=!o),o&&Ze&&Ti(t),lh(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Ze=km(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Ze=km(t)}else s===27?(s=Ze,Li(t.type)?(t=Wc,Wc=null,Ze=t):Ze=s):Ze=Tt?fn(t.stateNode.nextSibling):null;return!0}function rs(){Ze=Tt=null,De=!1}function Mu(){var t=Si;return t!==null&&(Ft===null?Ft=t:Ft.push.apply(Ft,t),Si=null),t}function Zr(t){Si===null?Si=[t]:Si.push(t)}var Iu=M(null),os=null,$n=null;function xi(t,s,o){te(Iu,s._currentValue),s._currentValue=o}function Jn(t){t._currentValue=Iu.current,z(Iu)}function Du(t,s,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),t===o)break;t=t.return}}function ku(t,s,o,u){var p=t.child;for(p!==null&&(p.return=t);p!==null;){var y=p.dependencies;if(y!==null){var S=p.child;y=y.firstContext;e:for(;y!==null;){var x=y;y=p;for(var C=0;C<s.length;C++)if(x.context===s[C]){y.lanes|=o,x=y.alternate,x!==null&&(x.lanes|=o),Du(y.return,o,t),u||(S=null);break e}y=x.next}}else if(p.tag===18){if(S=p.return,S===null)throw Error(r(341));S.lanes|=o,y=S.alternate,y!==null&&(y.lanes|=o),Du(S,o,t),S=null}else S=p.child;if(S!==null)S.return=p;else for(S=p;S!==null;){if(S===t){S=null;break}if(p=S.sibling,p!==null){p.return=S.return,S=p;break}S=S.return}p=S}}function zs(t,s,o,u){t=null;for(var p=s,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var S=p.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var x=p.type;Kt(p.pendingProps.value,S.value)||(t!==null?t.push(x):t=[x])}}else if(p===Oe.current){if(S=p.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(t!==null?t.push(Co):t=[Co])}p=p.return}t!==null&&ku(s,t,o,u),s.flags|=262144}function ya(t){for(t=t.firstContext;t!==null;){if(!Kt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function as(t){os=t,$n=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function xt(t){return uh(os,t)}function va(t,s){return os===null&&as(t),uh(t,s)}function uh(t,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},$n===null){if(t===null)throw Error(r(308));$n=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else $n=$n.next=s;return o}var cE=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(o,u){t.push(u)}};this.abort=function(){s.aborted=!0,t.forEach(function(o){return o()})}},dE=n.unstable_scheduleCallback,fE=n.unstable_NormalPriority,ht={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uu(){return{controller:new cE,data:new Map,refCount:0}}function eo(t){t.refCount--,t.refCount===0&&dE(fE,function(){t.controller.abort()})}var to=null,Pu=0,Vs=0,js=null;function hE(t,s){if(to===null){var o=to=[];Pu=0,Vs=qc(),js={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Pu++,s.then(ch,ch),s}function ch(){if(--Pu===0&&to!==null){js!==null&&(js.status="fulfilled");var t=to;to=null,Vs=0,js=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function pE(t,s){var o=[],u={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return t.then(function(){u.status="fulfilled",u.value=s;for(var p=0;p<o.length;p++)(0,o[p])(s)},function(p){for(u.status="rejected",u.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),u}var dh=H.S;H.S=function(t,s){Yp=Rt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&hE(t,s),dh!==null&&dh(t,s)};var ls=M(null);function Ou(){var t=ls.current;return t!==null?t:Ke.pooledCache}function _a(t,s){s===null?te(ls,ls.current):te(ls,s.pool)}function fh(){var t=Ou();return t===null?null:{parent:ht._currentValue,pool:t}}var Fs=Error(r(460)),Lu=Error(r(474)),Ea=Error(r(542)),ba={then:function(){}};function hh(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ph(t,s,o){switch(o=t[o],o===void 0?t.push(s):o!==s&&(s.then(zn,zn),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,gh(t),t;default:if(typeof s.status=="string")s.then(zn,zn);else{if(t=Ke,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=s,t.status="pending",t.then(function(u){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=u}},function(u){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,gh(t),t}throw cs=s,Fs}}function us(t){try{var s=t._init;return s(t._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(cs=o,Fs):o}}var cs=null;function mh(){if(cs===null)throw Error(r(459));var t=cs;return cs=null,t}function gh(t){if(t===Fs||t===Ea)throw Error(r(483))}var $s=null,no=0;function Sa(t){var s=no;return no+=1,$s===null&&($s=[]),ph($s,t,s)}function io(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Ta(t,s){throw s.$$typeof===b?Error(r(525)):(t=Object.prototype.toString.call(s),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function yh(t){function s(D,I){if(t){var U=D.deletions;U===null?(D.deletions=[I],D.flags|=16):U.push(I)}}function o(D,I){if(!t)return null;for(;I!==null;)s(D,I),I=I.sibling;return null}function u(D){for(var I=new Map;D!==null;)D.key!==null?I.set(D.key,D):I.set(D.index,D),D=D.sibling;return I}function p(D,I){return D=jn(D,I),D.index=0,D.sibling=null,D}function y(D,I,U){return D.index=U,t?(U=D.alternate,U!==null?(U=U.index,U<I?(D.flags|=67108866,I):U):(D.flags|=67108866,I)):(D.flags|=1048576,I)}function S(D){return t&&D.alternate===null&&(D.flags|=67108866),D}function x(D,I,U,V){return I===null||I.tag!==6?(I=wu(U,D.mode,V),I.return=D,I):(I=p(I,U),I.return=D,I)}function C(D,I,U,V){var de=U.type;return de===N?B(D,I,U.props.children,V,U.key):I!==null&&(I.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===ae&&us(de)===I.type)?(I=p(I,U.props),io(I,U),I.return=D,I):(I=ma(U.type,U.key,U.props,null,D.mode,V),io(I,U),I.return=D,I)}function O(D,I,U,V){return I===null||I.tag!==4||I.stateNode.containerInfo!==U.containerInfo||I.stateNode.implementation!==U.implementation?(I=Au(U,D.mode,V),I.return=D,I):(I=p(I,U.children||[]),I.return=D,I)}function B(D,I,U,V,de){return I===null||I.tag!==7?(I=ss(U,D.mode,V,de),I.return=D,I):(I=p(I,U),I.return=D,I)}function F(D,I,U){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=wu(""+I,D.mode,U),I.return=D,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case T:return U=ma(I.type,I.key,I.props,null,D.mode,U),io(U,I),U.return=D,U;case A:return I=Au(I,D.mode,U),I.return=D,I;case ae:return I=us(I),F(D,I,U)}if(Pe(I)||ne(I))return I=ss(I,D.mode,U,null),I.return=D,I;if(typeof I.then=="function")return F(D,Sa(I),U);if(I.$$typeof===k)return F(D,va(D,I),U);Ta(D,I)}return null}function q(D,I,U,V){var de=I!==null?I.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return de!==null?null:x(D,I,""+U,V);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case T:return U.key===de?C(D,I,U,V):null;case A:return U.key===de?O(D,I,U,V):null;case ae:return U=us(U),q(D,I,U,V)}if(Pe(U)||ne(U))return de!==null?null:B(D,I,U,V,null);if(typeof U.then=="function")return q(D,I,Sa(U),V);if(U.$$typeof===k)return q(D,I,va(D,U),V);Ta(D,U)}return null}function G(D,I,U,V,de){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return D=D.get(U)||null,x(I,D,""+V,de);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case T:return D=D.get(V.key===null?U:V.key)||null,C(I,D,V,de);case A:return D=D.get(V.key===null?U:V.key)||null,O(I,D,V,de);case ae:return V=us(V),G(D,I,U,V,de)}if(Pe(V)||ne(V))return D=D.get(U)||null,B(I,D,V,de,null);if(typeof V.then=="function")return G(D,I,U,Sa(V),de);if(V.$$typeof===k)return G(D,I,U,va(I,V),de);Ta(I,V)}return null}function re(D,I,U,V){for(var de=null,Le=null,le=I,Ae=I=0,Ie=null;le!==null&&Ae<U.length;Ae++){le.index>Ae?(Ie=le,le=null):Ie=le.sibling;var qe=q(D,le,U[Ae],V);if(qe===null){le===null&&(le=Ie);break}t&&le&&qe.alternate===null&&s(D,le),I=y(qe,I,Ae),Le===null?de=qe:Le.sibling=qe,Le=qe,le=Ie}if(Ae===U.length)return o(D,le),De&&Fn(D,Ae),de;if(le===null){for(;Ae<U.length;Ae++)le=F(D,U[Ae],V),le!==null&&(I=y(le,I,Ae),Le===null?de=le:Le.sibling=le,Le=le);return De&&Fn(D,Ae),de}for(le=u(le);Ae<U.length;Ae++)Ie=G(le,D,Ae,U[Ae],V),Ie!==null&&(t&&Ie.alternate!==null&&le.delete(Ie.key===null?Ae:Ie.key),I=y(Ie,I,Ae),Le===null?de=Ie:Le.sibling=Ie,Le=Ie);return t&&le.forEach(function(zi){return s(D,zi)}),De&&Fn(D,Ae),de}function pe(D,I,U,V){if(U==null)throw Error(r(151));for(var de=null,Le=null,le=I,Ae=I=0,Ie=null,qe=U.next();le!==null&&!qe.done;Ae++,qe=U.next()){le.index>Ae?(Ie=le,le=null):Ie=le.sibling;var zi=q(D,le,qe.value,V);if(zi===null){le===null&&(le=Ie);break}t&&le&&zi.alternate===null&&s(D,le),I=y(zi,I,Ae),Le===null?de=zi:Le.sibling=zi,Le=zi,le=Ie}if(qe.done)return o(D,le),De&&Fn(D,Ae),de;if(le===null){for(;!qe.done;Ae++,qe=U.next())qe=F(D,qe.value,V),qe!==null&&(I=y(qe,I,Ae),Le===null?de=qe:Le.sibling=qe,Le=qe);return De&&Fn(D,Ae),de}for(le=u(le);!qe.done;Ae++,qe=U.next())qe=G(le,D,Ae,qe.value,V),qe!==null&&(t&&qe.alternate!==null&&le.delete(qe.key===null?Ae:qe.key),I=y(qe,I,Ae),Le===null?de=qe:Le.sibling=qe,Le=qe);return t&&le.forEach(function(wb){return s(D,wb)}),De&&Fn(D,Ae),de}function Je(D,I,U,V){if(typeof U=="object"&&U!==null&&U.type===N&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case T:e:{for(var de=U.key;I!==null;){if(I.key===de){if(de=U.type,de===N){if(I.tag===7){o(D,I.sibling),V=p(I,U.props.children),V.return=D,D=V;break e}}else if(I.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===ae&&us(de)===I.type){o(D,I.sibling),V=p(I,U.props),io(V,U),V.return=D,D=V;break e}o(D,I);break}else s(D,I);I=I.sibling}U.type===N?(V=ss(U.props.children,D.mode,V,U.key),V.return=D,D=V):(V=ma(U.type,U.key,U.props,null,D.mode,V),io(V,U),V.return=D,D=V)}return S(D);case A:e:{for(de=U.key;I!==null;){if(I.key===de)if(I.tag===4&&I.stateNode.containerInfo===U.containerInfo&&I.stateNode.implementation===U.implementation){o(D,I.sibling),V=p(I,U.children||[]),V.return=D,D=V;break e}else{o(D,I);break}else s(D,I);I=I.sibling}V=Au(U,D.mode,V),V.return=D,D=V}return S(D);case ae:return U=us(U),Je(D,I,U,V)}if(Pe(U))return re(D,I,U,V);if(ne(U)){if(de=ne(U),typeof de!="function")throw Error(r(150));return U=de.call(U),pe(D,I,U,V)}if(typeof U.then=="function")return Je(D,I,Sa(U),V);if(U.$$typeof===k)return Je(D,I,va(D,U),V);Ta(D,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,I!==null&&I.tag===6?(o(D,I.sibling),V=p(I,U),V.return=D,D=V):(o(D,I),V=wu(U,D.mode,V),V.return=D,D=V),S(D)):o(D,I)}return function(D,I,U,V){try{no=0;var de=Je(D,I,U,V);return $s=null,de}catch(le){if(le===Fs||le===Ea)throw le;var Le=Qt(29,le,null,D.mode);return Le.lanes=V,Le.return=D,Le}finally{}}}var ds=yh(!0),vh=yh(!1),wi=!1;function qu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hu(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ai(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ci(t,s,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Ge&2)!==0){var p=u.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),u.pending=s,s=pa(t),th(t,null,o),s}return ha(t,u,s,o),pa(t)}function so(t,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=t.pendingLanes,o|=u,s.lanes=o,Qi(t,o)}}function Gu(t,s){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var p=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?p=y=S:y=y.next=S,o=o.next}while(o!==null);y===null?p=y=s:y=y.next=s}else p=y=s;o={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=s:t.next=s,o.lastBaseUpdate=s}var Bu=!1;function ro(){if(Bu){var t=js;if(t!==null)throw t}}function oo(t,s,o,u){Bu=!1;var p=t.updateQueue;wi=!1;var y=p.firstBaseUpdate,S=p.lastBaseUpdate,x=p.shared.pending;if(x!==null){p.shared.pending=null;var C=x,O=C.next;C.next=null,S===null?y=O:S.next=O,S=C;var B=t.alternate;B!==null&&(B=B.updateQueue,x=B.lastBaseUpdate,x!==S&&(x===null?B.firstBaseUpdate=O:x.next=O,B.lastBaseUpdate=C))}if(y!==null){var F=p.baseState;S=0,B=O=C=null,x=y;do{var q=x.lane&-536870913,G=q!==x.lane;if(G?(Me&q)===q:(u&q)===q){q!==0&&q===Vs&&(Bu=!0),B!==null&&(B=B.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var re=t,pe=x;q=s;var Je=o;switch(pe.tag){case 1:if(re=pe.payload,typeof re=="function"){F=re.call(Je,F,q);break e}F=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=pe.payload,q=typeof re=="function"?re.call(Je,F,q):re,q==null)break e;F=E({},F,q);break e;case 2:wi=!0}}q=x.callback,q!==null&&(t.flags|=64,G&&(t.flags|=8192),G=p.callbacks,G===null?p.callbacks=[q]:G.push(q))}else G={lane:q,tag:x.tag,payload:x.payload,callback:x.callback,next:null},B===null?(O=B=G,C=F):B=B.next=G,S|=q;if(x=x.next,x===null){if(x=p.shared.pending,x===null)break;G=x,x=G.next,G.next=null,p.lastBaseUpdate=G,p.shared.pending=null}}while(!0);B===null&&(C=F),p.baseState=C,p.firstBaseUpdate=O,p.lastBaseUpdate=B,y===null&&(p.shared.lanes=0),Di|=S,t.lanes=S,t.memoizedState=F}}function _h(t,s){if(typeof t!="function")throw Error(r(191,t));t.call(s)}function Eh(t,s){var o=t.callbacks;if(o!==null)for(t.callbacks=null,t=0;t<o.length;t++)_h(o[t],s)}var Js=M(null),xa=M(0);function bh(t,s){t=ni,te(xa,t),te(Js,s),ni=t|s.baseLanes}function zu(){te(xa,ni),te(Js,Js.current)}function Vu(){ni=xa.current,z(Js),z(xa)}var Xt=M(null),dn=null;function Ni(t){var s=t.alternate;te(ut,ut.current&1),te(Xt,t),dn===null&&(s===null||Js.current!==null||s.memoizedState!==null)&&(dn=t)}function ju(t){te(ut,ut.current),te(Xt,t),dn===null&&(dn=t)}function Sh(t){t.tag===22?(te(ut,ut.current),te(Xt,t),dn===null&&(dn=t)):Ri()}function Ri(){te(ut,ut.current),te(Xt,Xt.current)}function Wt(t){z(Xt),dn===t&&(dn=null),z(ut)}var ut=M(0);function wa(t){for(var s=t;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Qc(o)||Xc(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Yn=0,xe=null,Fe=null,pt=null,Aa=!1,Ys=!1,fs=!1,Ca=0,ao=0,Ks=null,mE=0;function at(){throw Error(r(321))}function Fu(t,s){if(s===null)return!1;for(var o=0;o<s.length&&o<t.length;o++)if(!Kt(t[o],s[o]))return!1;return!0}function $u(t,s,o,u,p,y){return Yn=y,xe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,H.H=t===null||t.memoizedState===null?rp:ac,fs=!1,y=o(u,p),fs=!1,Ys&&(y=xh(s,o,u,p)),Th(t),y}function Th(t){H.H=co;var s=Fe!==null&&Fe.next!==null;if(Yn=0,pt=Fe=xe=null,Aa=!1,ao=0,Ks=null,s)throw Error(r(300));t===null||mt||(t=t.dependencies,t!==null&&ya(t)&&(mt=!0))}function xh(t,s,o,u){xe=t;var p=0;do{if(Ys&&(Ks=null),ao=0,Ys=!1,25<=p)throw Error(r(301));if(p+=1,pt=Fe=null,t.updateQueue!=null){var y=t.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}H.H=op,y=s(o,u)}while(Ys);return y}function gE(){var t=H.H,s=t.useState()[0];return s=typeof s.then=="function"?lo(s):s,t=t.useState()[0],(Fe!==null?Fe.memoizedState:null)!==t&&(xe.flags|=1024),s}function Ju(){var t=Ca!==0;return Ca=0,t}function Yu(t,s,o){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~o}function Ku(t){if(Aa){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}Aa=!1}Yn=0,pt=Fe=xe=null,Ys=!1,ao=Ca=0,Ks=null}function qt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?xe.memoizedState=pt=t:pt=pt.next=t,pt}function ct(){if(Fe===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=Fe.next;var s=pt===null?xe.memoizedState:pt.next;if(s!==null)pt=s,Fe=t;else{if(t===null)throw xe.alternate===null?Error(r(467)):Error(r(310));Fe=t,t={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},pt===null?xe.memoizedState=pt=t:pt=pt.next=t}return pt}function Na(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function lo(t){var s=ao;return ao+=1,Ks===null&&(Ks=[]),t=ph(Ks,t,s),s=xe,(pt===null?s.memoizedState:pt.next)===null&&(s=s.alternate,H.H=s===null||s.memoizedState===null?rp:ac),t}function Ra(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return lo(t);if(t.$$typeof===k)return xt(t)}throw Error(r(438,String(t)))}function Qu(t){var s=null,o=xe.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=xe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Na(),xe.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(t),u=0;u<t;u++)o[u]=fe;return s.index++,o}function Kn(t,s){return typeof s=="function"?s(t):s}function Ma(t){var s=ct();return Xu(s,Fe,t)}function Xu(t,s,o){var u=t.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var p=t.baseQueue,y=u.pending;if(y!==null){if(p!==null){var S=p.next;p.next=y.next,y.next=S}s.baseQueue=p=y,u.pending=null}if(y=t.baseState,p===null)t.memoizedState=y;else{s=p.next;var x=S=null,C=null,O=s,B=!1;do{var F=O.lane&-536870913;if(F!==O.lane?(Me&F)===F:(Yn&F)===F){var q=O.revertLane;if(q===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),F===Vs&&(B=!0);else if((Yn&q)===q){O=O.next,q===Vs&&(B=!0);continue}else F={lane:0,revertLane:O.revertLane,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},C===null?(x=C=F,S=y):C=C.next=F,xe.lanes|=q,Di|=q;F=O.action,fs&&o(y,F),y=O.hasEagerState?O.eagerState:o(y,F)}else q={lane:F,revertLane:O.revertLane,gesture:O.gesture,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},C===null?(x=C=q,S=y):C=C.next=q,xe.lanes|=F,Di|=F;O=O.next}while(O!==null&&O!==s);if(C===null?S=y:C.next=x,!Kt(y,t.memoizedState)&&(mt=!0,B&&(o=js,o!==null)))throw o;t.memoizedState=y,t.baseState=S,t.baseQueue=C,u.lastRenderedState=y}return p===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function Wu(t){var s=ct(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=t;var u=o.dispatch,p=o.pending,y=s.memoizedState;if(p!==null){o.pending=null;var S=p=p.next;do y=t(y,S.action),S=S.next;while(S!==p);Kt(y,s.memoizedState)||(mt=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),o.lastRenderedState=y}return[y,u]}function wh(t,s,o){var u=xe,p=ct(),y=De;if(y){if(o===void 0)throw Error(r(407));o=o()}else o=s();var S=!Kt((Fe||p).memoizedState,o);if(S&&(p.memoizedState=o,mt=!0),p=p.queue,tc(Nh.bind(null,u,p,t),[t]),p.getSnapshot!==s||S||pt!==null&&pt.memoizedState.tag&1){if(u.flags|=2048,Qs(9,{destroy:void 0},Ch.bind(null,u,p,o,s),null),Ke===null)throw Error(r(349));y||(Yn&127)!==0||Ah(u,s,o)}return o}function Ah(t,s,o){t.flags|=16384,t={getSnapshot:s,value:o},s=xe.updateQueue,s===null?(s=Na(),xe.updateQueue=s,s.stores=[t]):(o=s.stores,o===null?s.stores=[t]:o.push(t))}function Ch(t,s,o,u){s.value=o,s.getSnapshot=u,Rh(s)&&Mh(t)}function Nh(t,s,o){return o(function(){Rh(s)&&Mh(t)})}function Rh(t){var s=t.getSnapshot;t=t.value;try{var o=s();return!Kt(t,o)}catch{return!0}}function Mh(t){var s=is(t,2);s!==null&&$t(s,t,2)}function Zu(t){var s=qt();if(typeof t=="function"){var o=t;if(t=o(),fs){mn(!0);try{o()}finally{mn(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kn,lastRenderedState:t},s}function Ih(t,s,o,u){return t.baseState=o,Xu(t,Fe,typeof u=="function"?u:Kn)}function yE(t,s,o,u,p){if(ka(t))throw Error(r(485));if(t=s.action,t!==null){var y={payload:p,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){y.listeners.push(S)}};H.T!==null?o(!0):y.isTransition=!1,u(y),o=s.pending,o===null?(y.next=s.pending=y,Dh(s,y)):(y.next=o.next,s.pending=o.next=y)}}function Dh(t,s){var o=s.action,u=s.payload,p=t.state;if(s.isTransition){var y=H.T,S={};H.T=S;try{var x=o(p,u),C=H.S;C!==null&&C(S,x),kh(t,s,x)}catch(O){ec(t,s,O)}finally{y!==null&&S.types!==null&&(y.types=S.types),H.T=y}}else try{y=o(p,u),kh(t,s,y)}catch(O){ec(t,s,O)}}function kh(t,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Uh(t,s,u)},function(u){return ec(t,s,u)}):Uh(t,s,o)}function Uh(t,s,o){s.status="fulfilled",s.value=o,Ph(s),t.state=o,s=t.pending,s!==null&&(o=s.next,o===s?t.pending=null:(o=o.next,s.next=o,Dh(t,o)))}function ec(t,s,o){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,Ph(s),s=s.next;while(s!==u)}t.action=null}function Ph(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function Oh(t,s){return s}function Lh(t,s){if(De){var o=Ke.formState;if(o!==null){e:{var u=xe;if(De){if(Ze){t:{for(var p=Ze,y=cn;p.nodeType!==8;){if(!y){p=null;break t}if(p=fn(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){Ze=fn(p.nextSibling),u=p.data==="F!";break e}}Ti(u)}u=!1}u&&(s=o[0])}}return o=qt(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oh,lastRenderedState:s},o.queue=u,o=np.bind(null,xe,u),u.dispatch=o,u=Zu(!1),y=oc.bind(null,xe,!1,u.queue),u=qt(),p={state:s,dispatch:null,action:t,pending:null},u.queue=p,o=yE.bind(null,xe,p,y,o),p.dispatch=o,u.memoizedState=t,[s,o,!1]}function qh(t){var s=ct();return Hh(s,Fe,t)}function Hh(t,s,o){if(s=Xu(t,s,Oh)[0],t=Ma(Kn)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=lo(s)}catch(S){throw S===Fs?Ea:S}else u=s;s=ct();var p=s.queue,y=p.dispatch;return o!==s.memoizedState&&(xe.flags|=2048,Qs(9,{destroy:void 0},vE.bind(null,p,o),null)),[u,y,t]}function vE(t,s){t.action=s}function Gh(t){var s=ct(),o=Fe;if(o!==null)return Hh(s,o,t);ct(),s=s.memoizedState,o=ct();var u=o.queue.dispatch;return o.memoizedState=t,[s,u,!1]}function Qs(t,s,o,u){return t={tag:t,create:o,deps:u,inst:s,next:null},s=xe.updateQueue,s===null&&(s=Na(),xe.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,s.lastEffect=t),t}function Bh(){return ct().memoizedState}function Ia(t,s,o,u){var p=qt();xe.flags|=t,p.memoizedState=Qs(1|s,{destroy:void 0},o,u===void 0?null:u)}function Da(t,s,o,u){var p=ct();u=u===void 0?null:u;var y=p.memoizedState.inst;Fe!==null&&u!==null&&Fu(u,Fe.memoizedState.deps)?p.memoizedState=Qs(s,y,o,u):(xe.flags|=t,p.memoizedState=Qs(1|s,y,o,u))}function zh(t,s){Ia(8390656,8,t,s)}function tc(t,s){Da(2048,8,t,s)}function _E(t){xe.flags|=4;var s=xe.updateQueue;if(s===null)s=Na(),xe.updateQueue=s,s.events=[t];else{var o=s.events;o===null?s.events=[t]:o.push(t)}}function Vh(t){var s=ct().memoizedState;return _E({ref:s,nextImpl:t}),function(){if((Ge&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function jh(t,s){return Da(4,2,t,s)}function Fh(t,s){return Da(4,4,t,s)}function $h(t,s){if(typeof s=="function"){t=t();var o=s(t);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Jh(t,s,o){o=o!=null?o.concat([t]):null,Da(4,4,$h.bind(null,s,t),o)}function nc(){}function Yh(t,s){var o=ct();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Fu(s,u[1])?u[0]:(o.memoizedState=[t,s],t)}function Kh(t,s){var o=ct();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Fu(s,u[1]))return u[0];if(u=t(),fs){mn(!0);try{t()}finally{mn(!1)}}return o.memoizedState=[u,s],u}function ic(t,s,o){return o===void 0||(Yn&1073741824)!==0&&(Me&261930)===0?t.memoizedState=s:(t.memoizedState=o,t=Qp(),xe.lanes|=t,Di|=t,o)}function Qh(t,s,o,u){return Kt(o,s)?o:Js.current!==null?(t=ic(t,o,u),Kt(t,s)||(mt=!0),t):(Yn&42)===0||(Yn&1073741824)!==0&&(Me&261930)===0?(mt=!0,t.memoizedState=o):(t=Qp(),xe.lanes|=t,Di|=t,s)}function Xh(t,s,o,u,p){var y=W.p;W.p=y!==0&&8>y?y:8;var S=H.T,x={};H.T=x,oc(t,!1,s,o);try{var C=p(),O=H.S;if(O!==null&&O(x,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var B=pE(C,u);uo(t,s,B,tn(t))}else uo(t,s,u,tn(t))}catch(F){uo(t,s,{then:function(){},status:"rejected",reason:F},tn())}finally{W.p=y,S!==null&&x.types!==null&&(S.types=x.types),H.T=S}}function EE(){}function sc(t,s,o,u){if(t.tag!==5)throw Error(r(476));var p=Wh(t).queue;Xh(t,p,s,ie,o===null?EE:function(){return Zh(t),o(u)})}function Wh(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kn,lastRenderedState:ie},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kn,lastRenderedState:o},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function Zh(t){var s=Wh(t);s.next===null&&(s=t.alternate.memoizedState),uo(t,s.next.queue,{},tn())}function rc(){return xt(Co)}function ep(){return ct().memoizedState}function tp(){return ct().memoizedState}function bE(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var o=tn();t=Ai(o);var u=Ci(s,t,o);u!==null&&($t(u,s,o),so(u,s,o)),s={cache:Uu()},t.payload=s;return}s=s.return}}function SE(t,s,o){var u=tn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ka(t)?ip(s,o):(o=Tu(t,s,o,u),o!==null&&($t(o,t,u),sp(o,s,u)))}function np(t,s,o){var u=tn();uo(t,s,o,u)}function uo(t,s,o,u){var p={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(ka(t))ip(s,p);else{var y=t.alternate;if(t.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var S=s.lastRenderedState,x=y(S,o);if(p.hasEagerState=!0,p.eagerState=x,Kt(x,S))return ha(t,s,p,0),Ke===null&&fa(),!1}catch{}finally{}if(o=Tu(t,s,p,u),o!==null)return $t(o,t,u),sp(o,s,u),!0}return!1}function oc(t,s,o,u){if(u={lane:2,revertLane:qc(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},ka(t)){if(s)throw Error(r(479))}else s=Tu(t,o,u,2),s!==null&&$t(s,t,2)}function ka(t){var s=t.alternate;return t===xe||s!==null&&s===xe}function ip(t,s){Ys=Aa=!0;var o=t.pending;o===null?s.next=s:(s.next=o.next,o.next=s),t.pending=s}function sp(t,s,o){if((o&4194048)!==0){var u=s.lanes;u&=t.pendingLanes,o|=u,s.lanes=o,Qi(t,o)}}var co={readContext:xt,use:Ra,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useLayoutEffect:at,useInsertionEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useSyncExternalStore:at,useId:at,useHostTransitionStatus:at,useFormState:at,useActionState:at,useOptimistic:at,useMemoCache:at,useCacheRefresh:at};co.useEffectEvent=at;var rp={readContext:xt,use:Ra,useCallback:function(t,s){return qt().memoizedState=[t,s===void 0?null:s],t},useContext:xt,useEffect:zh,useImperativeHandle:function(t,s,o){o=o!=null?o.concat([t]):null,Ia(4194308,4,$h.bind(null,s,t),o)},useLayoutEffect:function(t,s){return Ia(4194308,4,t,s)},useInsertionEffect:function(t,s){Ia(4,2,t,s)},useMemo:function(t,s){var o=qt();s=s===void 0?null:s;var u=t();if(fs){mn(!0);try{t()}finally{mn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(t,s,o){var u=qt();if(o!==void 0){var p=o(s);if(fs){mn(!0);try{o(s)}finally{mn(!1)}}}else p=s;return u.memoizedState=u.baseState=p,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:p},u.queue=t,t=t.dispatch=SE.bind(null,xe,t),[u.memoizedState,t]},useRef:function(t){var s=qt();return t={current:t},s.memoizedState=t},useState:function(t){t=Zu(t);var s=t.queue,o=np.bind(null,xe,s);return s.dispatch=o,[t.memoizedState,o]},useDebugValue:nc,useDeferredValue:function(t,s){var o=qt();return ic(o,t,s)},useTransition:function(){var t=Zu(!1);return t=Xh.bind(null,xe,t.queue,!0,!1),qt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,o){var u=xe,p=qt();if(De){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),Ke===null)throw Error(r(349));(Me&127)!==0||Ah(u,s,o)}p.memoizedState=o;var y={value:o,getSnapshot:s};return p.queue=y,zh(Nh.bind(null,u,y,t),[t]),u.flags|=2048,Qs(9,{destroy:void 0},Ch.bind(null,u,y,o,s),null),o},useId:function(){var t=qt(),s=Ke.identifierPrefix;if(De){var o=Rn,u=Nn;o=(u&~(1<<32-dt(u)-1)).toString(32)+o,s="_"+s+"R_"+o,o=Ca++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=mE++,s="_"+s+"r_"+o.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:rc,useFormState:Lh,useActionState:Lh,useOptimistic:function(t){var s=qt();s.memoizedState=s.baseState=t;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=oc.bind(null,xe,!0,o),o.dispatch=s,[t,s]},useMemoCache:Qu,useCacheRefresh:function(){return qt().memoizedState=bE.bind(null,xe)},useEffectEvent:function(t){var s=qt(),o={impl:t};return s.memoizedState=o,function(){if((Ge&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},ac={readContext:xt,use:Ra,useCallback:Yh,useContext:xt,useEffect:tc,useImperativeHandle:Jh,useInsertionEffect:jh,useLayoutEffect:Fh,useMemo:Kh,useReducer:Ma,useRef:Bh,useState:function(){return Ma(Kn)},useDebugValue:nc,useDeferredValue:function(t,s){var o=ct();return Qh(o,Fe.memoizedState,t,s)},useTransition:function(){var t=Ma(Kn)[0],s=ct().memoizedState;return[typeof t=="boolean"?t:lo(t),s]},useSyncExternalStore:wh,useId:ep,useHostTransitionStatus:rc,useFormState:qh,useActionState:qh,useOptimistic:function(t,s){var o=ct();return Ih(o,Fe,t,s)},useMemoCache:Qu,useCacheRefresh:tp};ac.useEffectEvent=Vh;var op={readContext:xt,use:Ra,useCallback:Yh,useContext:xt,useEffect:tc,useImperativeHandle:Jh,useInsertionEffect:jh,useLayoutEffect:Fh,useMemo:Kh,useReducer:Wu,useRef:Bh,useState:function(){return Wu(Kn)},useDebugValue:nc,useDeferredValue:function(t,s){var o=ct();return Fe===null?ic(o,t,s):Qh(o,Fe.memoizedState,t,s)},useTransition:function(){var t=Wu(Kn)[0],s=ct().memoizedState;return[typeof t=="boolean"?t:lo(t),s]},useSyncExternalStore:wh,useId:ep,useHostTransitionStatus:rc,useFormState:Gh,useActionState:Gh,useOptimistic:function(t,s){var o=ct();return Fe!==null?Ih(o,Fe,t,s):(o.baseState=t,[t,o.queue.dispatch])},useMemoCache:Qu,useCacheRefresh:tp};op.useEffectEvent=Vh;function lc(t,s,o,u){s=t.memoizedState,o=o(u,s),o=o==null?s:E({},s,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var uc={enqueueSetState:function(t,s,o){t=t._reactInternals;var u=tn(),p=Ai(u);p.payload=s,o!=null&&(p.callback=o),s=Ci(t,p,u),s!==null&&($t(s,t,u),so(s,t,u))},enqueueReplaceState:function(t,s,o){t=t._reactInternals;var u=tn(),p=Ai(u);p.tag=1,p.payload=s,o!=null&&(p.callback=o),s=Ci(t,p,u),s!==null&&($t(s,t,u),so(s,t,u))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var o=tn(),u=Ai(o);u.tag=2,s!=null&&(u.callback=s),s=Ci(t,u,o),s!==null&&($t(s,t,o),so(s,t,o))}};function ap(t,s,o,u,p,y,S){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,y,S):s.prototype&&s.prototype.isPureReactComponent?!Qr(o,u)||!Qr(p,y):!0}function lp(t,s,o,u){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==t&&uc.enqueueReplaceState(s,s.state,null)}function hs(t,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(t=t.defaultProps){o===s&&(o=E({},o));for(var p in t)o[p]===void 0&&(o[p]=t[p])}return o}function up(t){da(t)}function cp(t){console.error(t)}function dp(t){da(t)}function Ua(t,s){try{var o=t.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function fp(t,s,o){try{var u=t.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function cc(t,s,o){return o=Ai(o),o.tag=3,o.payload={element:null},o.callback=function(){Ua(t,s)},o}function hp(t){return t=Ai(t),t.tag=3,t}function pp(t,s,o,u){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var y=u.value;t.payload=function(){return p(y)},t.callback=function(){fp(s,o,u)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(t.callback=function(){fp(s,o,u),typeof p!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var x=u.stack;this.componentDidCatch(u.value,{componentStack:x!==null?x:""})})}function TE(t,s,o,u,p){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&zs(s,o,p,!0),o=Xt.current,o!==null){switch(o.tag){case 31:case 13:return dn===null?$a():o.alternate===null&&lt===0&&(lt=3),o.flags&=-257,o.flags|=65536,o.lanes=p,u===ba?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Pc(t,u,p)),!1;case 22:return o.flags|=65536,u===ba?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Pc(t,u,p)),!1}throw Error(r(435,o.tag))}return Pc(t,u,p),$a(),!1}if(De)return s=Xt.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,u!==Ru&&(t=Error(r(422),{cause:u}),Zr(an(t,o)))):(u!==Ru&&(s=Error(r(423),{cause:u}),Zr(an(s,o))),t=t.current.alternate,t.flags|=65536,p&=-p,t.lanes|=p,u=an(u,o),p=cc(t.stateNode,u,p),Gu(t,p),lt!==4&&(lt=2)),!1;var y=Error(r(520),{cause:u});if(y=an(y,o),_o===null?_o=[y]:_o.push(y),lt!==4&&(lt=2),s===null)return!0;u=an(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,t=p&-p,o.lanes|=t,t=cc(o.stateNode,u,t),Gu(o,t),!1;case 1:if(s=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ki===null||!ki.has(y))))return o.flags|=65536,p&=-p,o.lanes|=p,p=hp(p),pp(p,t,o,u),Gu(o,p),!1}o=o.return}while(o!==null);return!1}var dc=Error(r(461)),mt=!1;function wt(t,s,o,u){s.child=t===null?vh(s,null,o,u):ds(s,t.child,o,u)}function mp(t,s,o,u,p){o=o.render;var y=s.ref;if("ref"in u){var S={};for(var x in u)x!=="ref"&&(S[x]=u[x])}else S=u;return as(s),u=$u(t,s,o,S,y,p),x=Ju(),t!==null&&!mt?(Yu(t,s,p),Qn(t,s,p)):(De&&x&&Cu(s),s.flags|=1,wt(t,s,u,p),s.child)}function gp(t,s,o,u,p){if(t===null){var y=o.type;return typeof y=="function"&&!xu(y)&&y.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=y,yp(t,s,y,u,p)):(t=ma(o.type,null,u,s,s.mode,p),t.ref=s.ref,t.return=s,s.child=t)}if(y=t.child,!_c(t,p)){var S=y.memoizedProps;if(o=o.compare,o=o!==null?o:Qr,o(S,u)&&t.ref===s.ref)return Qn(t,s,p)}return s.flags|=1,t=jn(y,u),t.ref=s.ref,t.return=s,s.child=t}function yp(t,s,o,u,p){if(t!==null){var y=t.memoizedProps;if(Qr(y,u)&&t.ref===s.ref)if(mt=!1,s.pendingProps=u=y,_c(t,p))(t.flags&131072)!==0&&(mt=!0);else return s.lanes=t.lanes,Qn(t,s,p)}return fc(t,s,o,u,p)}function vp(t,s,o,u){var p=u.children,y=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,t!==null){for(u=s.child=t.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~y}else u=0,s.child=null;return _p(t,s,y,o,u)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&_a(s,y!==null?y.cachePool:null),y!==null?bh(s,y):zu(),Sh(s);else return u=s.lanes=536870912,_p(t,s,y!==null?y.baseLanes|o:o,o,u)}else y!==null?(_a(s,y.cachePool),bh(s,y),Ri(),s.memoizedState=null):(t!==null&&_a(s,null),zu(),Ri());return wt(t,s,p,o),s.child}function fo(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function _p(t,s,o,u,p){var y=Ou();return y=y===null?null:{parent:ht._currentValue,pool:y},s.memoizedState={baseLanes:o,cachePool:y},t!==null&&_a(s,null),zu(),Sh(s),t!==null&&zs(t,s,u,!0),s.childLanes=p,null}function Pa(t,s){return s=La({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function Ep(t,s,o){return ds(s,t.child,null,o),t=Pa(s,s.pendingProps),t.flags|=2,Wt(s),s.memoizedState=null,t}function xE(t,s,o){var u=s.pendingProps,p=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(De){if(u.mode==="hidden")return t=Pa(s,u),s.lanes=536870912,fo(null,t);if(ju(s),(t=Ze)?(t=Dm(t,cn),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:bi!==null?{id:Nn,overflow:Rn}:null,retryLane:536870912,hydrationErrors:null},o=ih(t),o.return=s,s.child=o,Tt=s,Ze=null)):t=null,t===null)throw Ti(s);return s.lanes=536870912,null}return Pa(s,u)}var y=t.memoizedState;if(y!==null){var S=y.dehydrated;if(ju(s),p)if(s.flags&256)s.flags&=-257,s=Ep(t,s,o);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(r(558));else if(mt||zs(t,s,o,!1),p=(o&t.childLanes)!==0,mt||p){if(u=Ke,u!==null&&(S=Xi(u,o),S!==0&&S!==y.retryLane))throw y.retryLane=S,is(t,S),$t(u,t,S),dc;$a(),s=Ep(t,s,o)}else t=y.treeContext,Ze=fn(S.nextSibling),Tt=s,De=!0,Si=null,cn=!1,t!==null&&oh(s,t),s=Pa(s,u),s.flags|=4096;return s}return t=jn(t.child,{mode:u.mode,children:u.children}),t.ref=s.ref,s.child=t,t.return=s,t}function Oa(t,s){var o=s.ref;if(o===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(t===null||t.ref!==o)&&(s.flags|=4194816)}}function fc(t,s,o,u,p){return as(s),o=$u(t,s,o,u,void 0,p),u=Ju(),t!==null&&!mt?(Yu(t,s,p),Qn(t,s,p)):(De&&u&&Cu(s),s.flags|=1,wt(t,s,o,p),s.child)}function bp(t,s,o,u,p,y){return as(s),s.updateQueue=null,o=xh(s,u,o,p),Th(t),u=Ju(),t!==null&&!mt?(Yu(t,s,y),Qn(t,s,y)):(De&&u&&Cu(s),s.flags|=1,wt(t,s,o,y),s.child)}function Sp(t,s,o,u,p){if(as(s),s.stateNode===null){var y=qs,S=o.contextType;typeof S=="object"&&S!==null&&(y=xt(S)),y=new o(u,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=uc,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=u,y.state=s.memoizedState,y.refs={},qu(s),S=o.contextType,y.context=typeof S=="object"&&S!==null?xt(S):qs,y.state=s.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(lc(s,o,S,u),y.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(S=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),S!==y.state&&uc.enqueueReplaceState(y,y.state,null),oo(s,u,y,p),ro(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(t===null){y=s.stateNode;var x=s.memoizedProps,C=hs(o,x);y.props=C;var O=y.context,B=o.contextType;S=qs,typeof B=="object"&&B!==null&&(S=xt(B));var F=o.getDerivedStateFromProps;B=typeof F=="function"||typeof y.getSnapshotBeforeUpdate=="function",x=s.pendingProps!==x,B||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x||O!==S)&&lp(s,y,u,S),wi=!1;var q=s.memoizedState;y.state=q,oo(s,u,y,p),ro(),O=s.memoizedState,x||q!==O||wi?(typeof F=="function"&&(lc(s,o,F,u),O=s.memoizedState),(C=wi||ap(s,o,C,u,q,O,S))?(B||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=O),y.props=u,y.state=O,y.context=S,u=C):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{y=s.stateNode,Hu(t,s),S=s.memoizedProps,B=hs(o,S),y.props=B,F=s.pendingProps,q=y.context,O=o.contextType,C=qs,typeof O=="object"&&O!==null&&(C=xt(O)),x=o.getDerivedStateFromProps,(O=typeof x=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==F||q!==C)&&lp(s,y,u,C),wi=!1,q=s.memoizedState,y.state=q,oo(s,u,y,p),ro();var G=s.memoizedState;S!==F||q!==G||wi||t!==null&&t.dependencies!==null&&ya(t.dependencies)?(typeof x=="function"&&(lc(s,o,x,u),G=s.memoizedState),(B=wi||ap(s,o,B,u,q,G,C)||t!==null&&t.dependencies!==null&&ya(t.dependencies))?(O||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,G,C),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,G,C)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||S===t.memoizedProps&&q===t.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&q===t.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=G),y.props=u,y.state=G,y.context=C,u=B):(typeof y.componentDidUpdate!="function"||S===t.memoizedProps&&q===t.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&q===t.memoizedState||(s.flags|=1024),u=!1)}return y=u,Oa(t,s),u=(s.flags&128)!==0,y||u?(y=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,t!==null&&u?(s.child=ds(s,t.child,null,p),s.child=ds(s,null,o,p)):wt(t,s,o,p),s.memoizedState=y.state,t=s.child):t=Qn(t,s,p),t}function Tp(t,s,o,u){return rs(),s.flags|=256,wt(t,s,o,u),s.child}var hc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pc(t){return{baseLanes:t,cachePool:fh()}}function mc(t,s,o){return t=t!==null?t.childLanes&~o:0,s&&(t|=en),t}function xp(t,s,o){var u=s.pendingProps,p=!1,y=(s.flags&128)!==0,S;if((S=y)||(S=t!==null&&t.memoizedState===null?!1:(ut.current&2)!==0),S&&(p=!0,s.flags&=-129),S=(s.flags&32)!==0,s.flags&=-33,t===null){if(De){if(p?Ni(s):Ri(),(t=Ze)?(t=Dm(t,cn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:bi!==null?{id:Nn,overflow:Rn}:null,retryLane:536870912,hydrationErrors:null},o=ih(t),o.return=s,s.child=o,Tt=s,Ze=null)):t=null,t===null)throw Ti(s);return Xc(t)?s.lanes=32:s.lanes=536870912,null}var x=u.children;return u=u.fallback,p?(Ri(),p=s.mode,x=La({mode:"hidden",children:x},p),u=ss(u,p,o,null),x.return=s,u.return=s,x.sibling=u,s.child=x,u=s.child,u.memoizedState=pc(o),u.childLanes=mc(t,S,o),s.memoizedState=hc,fo(null,u)):(Ni(s),gc(s,x))}var C=t.memoizedState;if(C!==null&&(x=C.dehydrated,x!==null)){if(y)s.flags&256?(Ni(s),s.flags&=-257,s=yc(t,s,o)):s.memoizedState!==null?(Ri(),s.child=t.child,s.flags|=128,s=null):(Ri(),x=u.fallback,p=s.mode,u=La({mode:"visible",children:u.children},p),x=ss(x,p,o,null),x.flags|=2,u.return=s,x.return=s,u.sibling=x,s.child=u,ds(s,t.child,null,o),u=s.child,u.memoizedState=pc(o),u.childLanes=mc(t,S,o),s.memoizedState=hc,s=fo(null,u));else if(Ni(s),Xc(x)){if(S=x.nextSibling&&x.nextSibling.dataset,S)var O=S.dgst;S=O,u=Error(r(419)),u.stack="",u.digest=S,Zr({value:u,source:null,stack:null}),s=yc(t,s,o)}else if(mt||zs(t,s,o,!1),S=(o&t.childLanes)!==0,mt||S){if(S=Ke,S!==null&&(u=Xi(S,o),u!==0&&u!==C.retryLane))throw C.retryLane=u,is(t,u),$t(S,t,u),dc;Qc(x)||$a(),s=yc(t,s,o)}else Qc(x)?(s.flags|=192,s.child=t.child,s=null):(t=C.treeContext,Ze=fn(x.nextSibling),Tt=s,De=!0,Si=null,cn=!1,t!==null&&oh(s,t),s=gc(s,u.children),s.flags|=4096);return s}return p?(Ri(),x=u.fallback,p=s.mode,C=t.child,O=C.sibling,u=jn(C,{mode:"hidden",children:u.children}),u.subtreeFlags=C.subtreeFlags&65011712,O!==null?x=jn(O,x):(x=ss(x,p,o,null),x.flags|=2),x.return=s,u.return=s,u.sibling=x,s.child=u,fo(null,u),u=s.child,x=t.child.memoizedState,x===null?x=pc(o):(p=x.cachePool,p!==null?(C=ht._currentValue,p=p.parent!==C?{parent:C,pool:C}:p):p=fh(),x={baseLanes:x.baseLanes|o,cachePool:p}),u.memoizedState=x,u.childLanes=mc(t,S,o),s.memoizedState=hc,fo(t.child,u)):(Ni(s),o=t.child,t=o.sibling,o=jn(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,t!==null&&(S=s.deletions,S===null?(s.deletions=[t],s.flags|=16):S.push(t)),s.child=o,s.memoizedState=null,o)}function gc(t,s){return s=La({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function La(t,s){return t=Qt(22,t,null,s),t.lanes=0,t}function yc(t,s,o){return ds(s,t.child,null,o),t=gc(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function wp(t,s,o){t.lanes|=s;var u=t.alternate;u!==null&&(u.lanes|=s),Du(t.return,s,o)}function vc(t,s,o,u,p,y){var S=t.memoizedState;S===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:p,treeForkCount:y}:(S.isBackwards=s,S.rendering=null,S.renderingStartTime=0,S.last=u,S.tail=o,S.tailMode=p,S.treeForkCount=y)}function Ap(t,s,o){var u=s.pendingProps,p=u.revealOrder,y=u.tail;u=u.children;var S=ut.current,x=(S&2)!==0;if(x?(S=S&1|2,s.flags|=128):S&=1,te(ut,S),wt(t,s,u,o),u=De?Wr:0,!x&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wp(t,o,s);else if(t.tag===19)wp(t,o,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(p){case"forwards":for(o=s.child,p=null;o!==null;)t=o.alternate,t!==null&&wa(t)===null&&(p=o),o=o.sibling;o=p,o===null?(p=s.child,s.child=null):(p=o.sibling,o.sibling=null),vc(s,!1,p,o,y,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=s.child,s.child=null;p!==null;){if(t=p.alternate,t!==null&&wa(t)===null){s.child=p;break}t=p.sibling,p.sibling=o,o=p,p=t}vc(s,!0,o,null,y,u);break;case"together":vc(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function Qn(t,s,o){if(t!==null&&(s.dependencies=t.dependencies),Di|=s.lanes,(o&s.childLanes)===0)if(t!==null){if(zs(t,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(r(153));if(s.child!==null){for(t=s.child,o=jn(t,t.pendingProps),s.child=o,o.return=s;t.sibling!==null;)t=t.sibling,o=o.sibling=jn(t,t.pendingProps),o.return=s;o.sibling=null}return s.child}function _c(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&ya(t)))}function wE(t,s,o){switch(s.tag){case 3:Ye(s,s.stateNode.containerInfo),xi(s,ht,t.memoizedState.cache),rs();break;case 27:case 5:$i(s);break;case 4:Ye(s,s.stateNode.containerInfo);break;case 10:xi(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,ju(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Ni(s),s.flags|=128,null):(o&s.child.childLanes)!==0?xp(t,s,o):(Ni(s),t=Qn(t,s,o),t!==null?t.sibling:null);Ni(s);break;case 19:var p=(t.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(zs(t,s,o,!1),u=(o&s.childLanes)!==0),p){if(u)return Ap(t,s,o);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),te(ut,ut.current),u)break;return null;case 22:return s.lanes=0,vp(t,s,o,s.pendingProps);case 24:xi(s,ht,t.memoizedState.cache)}return Qn(t,s,o)}function Cp(t,s,o){if(t!==null)if(t.memoizedProps!==s.pendingProps)mt=!0;else{if(!_c(t,o)&&(s.flags&128)===0)return mt=!1,wE(t,s,o);mt=(t.flags&131072)!==0}else mt=!1,De&&(s.flags&1048576)!==0&&rh(s,Wr,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(t=us(s.elementType),s.type=t,typeof t=="function")xu(t)?(u=hs(t,u),s.tag=1,s=Sp(null,s,t,u,o)):(s.tag=0,s=fc(null,s,t,u,o));else{if(t!=null){var p=t.$$typeof;if(p===j){s.tag=11,s=mp(null,s,t,u,o);break e}else if(p===$){s.tag=14,s=gp(null,s,t,u,o);break e}}throw s=Be(t)||t,Error(r(306,s,""))}}return s;case 0:return fc(t,s,s.type,s.pendingProps,o);case 1:return u=s.type,p=hs(u,s.pendingProps),Sp(t,s,u,p,o);case 3:e:{if(Ye(s,s.stateNode.containerInfo),t===null)throw Error(r(387));u=s.pendingProps;var y=s.memoizedState;p=y.element,Hu(t,s),oo(s,u,null,o);var S=s.memoizedState;if(u=S.cache,xi(s,ht,u),u!==y.cache&&ku(s,[ht],o,!0),ro(),u=S.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:S.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=Tp(t,s,u,o);break e}else if(u!==p){p=an(Error(r(424)),s),Zr(p),s=Tp(t,s,u,o);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ze=fn(t.firstChild),Tt=s,De=!0,Si=null,cn=!0,o=vh(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(rs(),u===p){s=Qn(t,s,o);break e}wt(t,s,u,o)}s=s.child}return s;case 26:return Oa(t,s),t===null?(o=qm(s.type,null,s.pendingProps,null))?s.memoizedState=o:De||(o=s.type,t=s.pendingProps,u=Za(ce.current).createElement(o),u[Xe]=s,u[Se]=t,At(u,o,t),ft(u),s.stateNode=u):s.memoizedState=qm(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return $i(s),t===null&&De&&(u=s.stateNode=Pm(s.type,s.pendingProps,ce.current),Tt=s,cn=!0,p=Ze,Li(s.type)?(Wc=p,Ze=fn(u.firstChild)):Ze=p),wt(t,s,s.pendingProps.children,o),Oa(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&De&&((p=u=Ze)&&(u=tb(u,s.type,s.pendingProps,cn),u!==null?(s.stateNode=u,Tt=s,Ze=fn(u.firstChild),cn=!1,p=!0):p=!1),p||Ti(s)),$i(s),p=s.type,y=s.pendingProps,S=t!==null?t.memoizedProps:null,u=y.children,Jc(p,y)?u=null:S!==null&&Jc(p,S)&&(s.flags|=32),s.memoizedState!==null&&(p=$u(t,s,gE,null,null,o),Co._currentValue=p),Oa(t,s),wt(t,s,u,o),s.child;case 6:return t===null&&De&&((t=o=Ze)&&(o=nb(o,s.pendingProps,cn),o!==null?(s.stateNode=o,Tt=s,Ze=null,t=!0):t=!1),t||Ti(s)),null;case 13:return xp(t,s,o);case 4:return Ye(s,s.stateNode.containerInfo),u=s.pendingProps,t===null?s.child=ds(s,null,u,o):wt(t,s,u,o),s.child;case 11:return mp(t,s,s.type,s.pendingProps,o);case 7:return wt(t,s,s.pendingProps,o),s.child;case 8:return wt(t,s,s.pendingProps.children,o),s.child;case 12:return wt(t,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,xi(s,s.type,u.value),wt(t,s,u.children,o),s.child;case 9:return p=s.type._context,u=s.pendingProps.children,as(s),p=xt(p),u=u(p),s.flags|=1,wt(t,s,u,o),s.child;case 14:return gp(t,s,s.type,s.pendingProps,o);case 15:return yp(t,s,s.type,s.pendingProps,o);case 19:return Ap(t,s,o);case 31:return xE(t,s,o);case 22:return vp(t,s,o,s.pendingProps);case 24:return as(s),u=xt(ht),t===null?(p=Ou(),p===null&&(p=Ke,y=Uu(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=o),p=y),s.memoizedState={parent:u,cache:p},qu(s),xi(s,ht,p)):((t.lanes&o)!==0&&(Hu(t,s),oo(s,null,null,o),ro()),p=t.memoizedState,y=s.memoizedState,p.parent!==u?(p={parent:u,cache:u},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),xi(s,ht,u)):(u=y.cache,xi(s,ht,u),u!==p.cache&&ku(s,[ht],o,!0))),wt(t,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Xn(t){t.flags|=4}function Ec(t,s,o,u,p){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(p&335544128)===p)if(t.stateNode.complete)t.flags|=8192;else if(em())t.flags|=8192;else throw cs=ba,Lu}else t.flags&=-16777217}function Np(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Vm(s))if(em())t.flags|=8192;else throw cs=ba,Lu}function qa(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?Ur():536870912,t.lanes|=s,er|=s)}function ho(t,s){if(!De)switch(t.tailMode){case"hidden":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function et(t){var s=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(s)for(var p=t.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=t,p=p.sibling;else for(p=t.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=t,p=p.sibling;return t.subtreeFlags|=u,t.childLanes=o,s}function AE(t,s,o){var u=s.pendingProps;switch(Nu(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(s),null;case 1:return et(s),null;case 3:return o=s.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Jn(ht),it(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(Bs(s)?Xn(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Mu())),et(s),null;case 26:var p=s.type,y=s.memoizedState;return t===null?(Xn(s),y!==null?(et(s),Np(s,y)):(et(s),Ec(s,p,null,u,o))):y?y!==t.memoizedState?(Xn(s),et(s),Np(s,y)):(et(s),s.flags&=-16777217):(t=t.memoizedProps,t!==u&&Xn(s),et(s),Ec(s,p,t,u,o)),null;case 27:if(Un(s),o=ce.current,p=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==u&&Xn(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return et(s),null}t=X.current,Bs(s)?ah(s):(t=Pm(p,u,o),s.stateNode=t,Xn(s))}return et(s),null;case 5:if(Un(s),p=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==u&&Xn(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return et(s),null}if(y=X.current,Bs(s))ah(s);else{var S=Za(ce.current);switch(y){case 1:y=S.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:y=S.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":y=S.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":y=S.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":y=S.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?S.createElement("select",{is:u.is}):S.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?S.createElement(p,{is:u.is}):S.createElement(p)}}y[Xe]=s,y[Se]=u;e:for(S=s.child;S!==null;){if(S.tag===5||S.tag===6)y.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===s)break e;for(;S.sibling===null;){if(S.return===null||S.return===s)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}s.stateNode=y;e:switch(At(y,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Xn(s)}}return et(s),Ec(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,o),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==u&&Xn(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(t=ce.current,Bs(s)){if(t=s.stateNode,o=s.memoizedProps,u=null,p=Tt,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}t[Xe]=s,t=!!(t.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||xm(t.nodeValue,o)),t||Ti(s,!0)}else t=Za(t).createTextNode(u),t[Xe]=s,s.stateNode=t}return et(s),null;case 31:if(o=s.memoizedState,t===null||t.memoizedState!==null){if(u=Bs(s),o!==null){if(t===null){if(!u)throw Error(r(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Xe]=s}else rs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;et(s),t=!1}else o=Mu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=o),t=!0;if(!t)return s.flags&256?(Wt(s),s):(Wt(s),null);if((s.flags&128)!==0)throw Error(r(558))}return et(s),null;case 13:if(u=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(p=Bs(s),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(r(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[Xe]=s}else rs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;et(s),p=!1}else p=Mu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(Wt(s),s):(Wt(s),null)}return Wt(s),(s.flags&128)!==0?(s.lanes=o,s):(o=u!==null,t=t!==null&&t.memoizedState!==null,o&&(u=s.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==p&&(u.flags|=2048)),o!==t&&o&&(s.child.flags|=8192),qa(s,s.updateQueue),et(s),null);case 4:return it(),t===null&&zc(s.stateNode.containerInfo),et(s),null;case 10:return Jn(s.type),et(s),null;case 19:if(z(ut),u=s.memoizedState,u===null)return et(s),null;if(p=(s.flags&128)!==0,y=u.rendering,y===null)if(p)ho(u,!1);else{if(lt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(y=wa(t),y!==null){for(s.flags|=128,ho(u,!1),t=y.updateQueue,s.updateQueue=t,qa(s,t),s.subtreeFlags=0,t=o,o=s.child;o!==null;)nh(o,t),o=o.sibling;return te(ut,ut.current&1|2),De&&Fn(s,u.treeForkCount),s.child}t=t.sibling}u.tail!==null&&Rt()>Va&&(s.flags|=128,p=!0,ho(u,!1),s.lanes=4194304)}else{if(!p)if(t=wa(y),t!==null){if(s.flags|=128,p=!0,t=t.updateQueue,s.updateQueue=t,qa(s,t),ho(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!De)return et(s),null}else 2*Rt()-u.renderingStartTime>Va&&o!==536870912&&(s.flags|=128,p=!0,ho(u,!1),s.lanes=4194304);u.isBackwards?(y.sibling=s.child,s.child=y):(t=u.last,t!==null?t.sibling=y:s.child=y,u.last=y)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=Rt(),t.sibling=null,o=ut.current,te(ut,p?o&1|2:o&1),De&&Fn(s,u.treeForkCount),t):(et(s),null);case 22:case 23:return Wt(s),Vu(),u=s.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(et(s),s.subtreeFlags&6&&(s.flags|=8192)):et(s),o=s.updateQueue,o!==null&&qa(s,o.retryQueue),o=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),t!==null&&z(ls),null;case 24:return o=null,t!==null&&(o=t.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Jn(ht),et(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function CE(t,s){switch(Nu(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Jn(ht),it(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return Un(s),null;case 31:if(s.memoizedState!==null){if(Wt(s),s.alternate===null)throw Error(r(340));rs()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(Wt(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(r(340));rs()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return z(ut),null;case 4:return it(),null;case 10:return Jn(s.type),null;case 22:case 23:return Wt(s),Vu(),t!==null&&z(ls),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return Jn(ht),null;case 25:return null;default:return null}}function Rp(t,s){switch(Nu(s),s.tag){case 3:Jn(ht),it();break;case 26:case 27:case 5:Un(s);break;case 4:it();break;case 31:s.memoizedState!==null&&Wt(s);break;case 13:Wt(s);break;case 19:z(ut);break;case 10:Jn(s.type);break;case 22:case 23:Wt(s),Vu(),t!==null&&z(ls);break;case 24:Jn(ht)}}function po(t,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var p=u.next;o=p;do{if((o.tag&t)===t){u=void 0;var y=o.create,S=o.inst;u=y(),S.destroy=u}o=o.next}while(o!==p)}}catch(x){Ve(s,s.return,x)}}function Mi(t,s,o){try{var u=s.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var y=p.next;u=y;do{if((u.tag&t)===t){var S=u.inst,x=S.destroy;if(x!==void 0){S.destroy=void 0,p=s;var C=o,O=x;try{O()}catch(B){Ve(p,C,B)}}}u=u.next}while(u!==y)}}catch(B){Ve(s,s.return,B)}}function Mp(t){var s=t.updateQueue;if(s!==null){var o=t.stateNode;try{Eh(s,o)}catch(u){Ve(t,t.return,u)}}}function Ip(t,s,o){o.props=hs(t.type,t.memoizedProps),o.state=t.memoizedState;try{o.componentWillUnmount()}catch(u){Ve(t,s,u)}}function mo(t,s){try{var o=t.ref;if(o!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof o=="function"?t.refCleanup=o(u):o.current=u}}catch(p){Ve(t,s,p)}}function Mn(t,s){var o=t.ref,u=t.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(p){Ve(t,s,p)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){Ve(t,s,p)}else o.current=null}function Dp(t){var s=t.type,o=t.memoizedProps,u=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(p){Ve(t,t.return,p)}}function bc(t,s,o){try{var u=t.stateNode;KE(u,t.type,o,s),u[Se]=s}catch(p){Ve(t,t.return,p)}}function kp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Li(t.type)||t.tag===4}function Sc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||kp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Li(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Tc(t,s,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(t,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(t),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=zn));else if(u!==4&&(u===27&&Li(t.type)&&(o=t.stateNode,s=null),t=t.child,t!==null))for(Tc(t,s,o),t=t.sibling;t!==null;)Tc(t,s,o),t=t.sibling}function Ha(t,s,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,s?o.insertBefore(t,s):o.appendChild(t);else if(u!==4&&(u===27&&Li(t.type)&&(o=t.stateNode),t=t.child,t!==null))for(Ha(t,s,o),t=t.sibling;t!==null;)Ha(t,s,o),t=t.sibling}function Up(t){var s=t.stateNode,o=t.memoizedProps;try{for(var u=t.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);At(s,u,o),s[Xe]=t,s[Se]=o}catch(y){Ve(t,t.return,y)}}var Wn=!1,gt=!1,xc=!1,Pp=typeof WeakSet=="function"?WeakSet:Set,bt=null;function NE(t,s){if(t=t.containerInfo,Fc=ol,t=Jf(t),yu(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var p=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var S=0,x=-1,C=-1,O=0,B=0,F=t,q=null;t:for(;;){for(var G;F!==o||p!==0&&F.nodeType!==3||(x=S+p),F!==y||u!==0&&F.nodeType!==3||(C=S+u),F.nodeType===3&&(S+=F.nodeValue.length),(G=F.firstChild)!==null;)q=F,F=G;for(;;){if(F===t)break t;if(q===o&&++O===p&&(x=S),q===y&&++B===u&&(C=S),(G=F.nextSibling)!==null)break;F=q,q=F.parentNode}F=G}o=x===-1||C===-1?null:{start:x,end:C}}else o=null}o=o||{start:0,end:0}}else o=null;for($c={focusedElem:t,selectionRange:o},ol=!1,bt=s;bt!==null;)if(s=bt,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,bt=t;else for(;bt!==null;){switch(s=bt,y=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(o=0;o<t.length;o++)p=t[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&y!==null){t=void 0,o=s,p=y.memoizedProps,y=y.memoizedState,u=o.stateNode;try{var re=hs(o.type,p);t=u.getSnapshotBeforeUpdate(re,y),u.__reactInternalSnapshotBeforeUpdate=t}catch(pe){Ve(o,o.return,pe)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,o=t.nodeType,o===9)Kc(t);else if(o===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Kc(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=s.sibling,t!==null){t.return=s.return,bt=t;break}bt=s.return}}function Op(t,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ei(t,o),u&4&&po(5,o);break;case 1:if(ei(t,o),u&4)if(t=o.stateNode,s===null)try{t.componentDidMount()}catch(S){Ve(o,o.return,S)}else{var p=hs(o.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(p,s,t.__reactInternalSnapshotBeforeUpdate)}catch(S){Ve(o,o.return,S)}}u&64&&Mp(o),u&512&&mo(o,o.return);break;case 3:if(ei(t,o),u&64&&(t=o.updateQueue,t!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{Eh(t,s)}catch(S){Ve(o,o.return,S)}}break;case 27:s===null&&u&4&&Up(o);case 26:case 5:ei(t,o),s===null&&u&4&&Dp(o),u&512&&mo(o,o.return);break;case 12:ei(t,o);break;case 31:ei(t,o),u&4&&Hp(t,o);break;case 13:ei(t,o),u&4&&Gp(t,o),u&64&&(t=o.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(o=LE.bind(null,o),ib(t,o))));break;case 22:if(u=o.memoizedState!==null||Wn,!u){s=s!==null&&s.memoizedState!==null||gt,p=Wn;var y=gt;Wn=u,(gt=s)&&!y?ti(t,o,(o.subtreeFlags&8772)!==0):ei(t,o),Wn=p,gt=y}break;case 30:break;default:ei(t,o)}}function Lp(t){var s=t.alternate;s!==null&&(t.alternate=null,Lp(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&qr(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var st=null,zt=!1;function Zn(t,s,o){for(o=o.child;o!==null;)qp(t,s,o),o=o.sibling}function qp(t,s,o){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(Ln,o)}catch{}switch(o.tag){case 26:gt||Mn(o,s),Zn(t,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:gt||Mn(o,s);var u=st,p=zt;Li(o.type)&&(st=o.stateNode,zt=!1),Zn(t,s,o),xo(o.stateNode),st=u,zt=p;break;case 5:gt||Mn(o,s);case 6:if(u=st,p=zt,st=null,Zn(t,s,o),st=u,zt=p,st!==null)if(zt)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(o.stateNode)}catch(y){Ve(o,s,y)}else try{st.removeChild(o.stateNode)}catch(y){Ve(o,s,y)}break;case 18:st!==null&&(zt?(t=st,Mm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,o.stateNode),lr(t)):Mm(st,o.stateNode));break;case 4:u=st,p=zt,st=o.stateNode.containerInfo,zt=!0,Zn(t,s,o),st=u,zt=p;break;case 0:case 11:case 14:case 15:Mi(2,o,s),gt||Mi(4,o,s),Zn(t,s,o);break;case 1:gt||(Mn(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Ip(o,s,u)),Zn(t,s,o);break;case 21:Zn(t,s,o);break;case 22:gt=(u=gt)||o.memoizedState!==null,Zn(t,s,o),gt=u;break;default:Zn(t,s,o)}}function Hp(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{lr(t)}catch(o){Ve(s,s.return,o)}}}function Gp(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{lr(t)}catch(o){Ve(s,s.return,o)}}function RE(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new Pp),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new Pp),s;default:throw Error(r(435,t.tag))}}function Ga(t,s){var o=RE(t);s.forEach(function(u){if(!o.has(u)){o.add(u);var p=qE.bind(null,t,u);u.then(p,p)}})}function Vt(t,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var p=o[u],y=t,S=s,x=S;e:for(;x!==null;){switch(x.tag){case 27:if(Li(x.type)){st=x.stateNode,zt=!1;break e}break;case 5:st=x.stateNode,zt=!1;break e;case 3:case 4:st=x.stateNode.containerInfo,zt=!0;break e}x=x.return}if(st===null)throw Error(r(160));qp(y,S,p),st=null,zt=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Bp(s,t),s=s.sibling}var En=null;function Bp(t,s){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Vt(s,t),jt(t),u&4&&(Mi(3,t,t.return),po(3,t),Mi(5,t,t.return));break;case 1:Vt(s,t),jt(t),u&512&&(gt||o===null||Mn(o,o.return)),u&64&&Wn&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(o=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var p=En;if(Vt(s,t),jt(t),u&512&&(gt||o===null||Mn(o,o.return)),u&4){var y=o!==null?o.memoizedState:null;if(u=t.memoizedState,o===null)if(u===null)if(t.stateNode===null){e:{u=t.type,o=t.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":y=p.getElementsByTagName("title")[0],(!y||y[Wi]||y[Xe]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(u),p.head.insertBefore(y,p.querySelector("head > title"))),At(y,u,o),y[Xe]=t,ft(y),u=y;break e;case"link":var S=Bm("link","href",p).get(u+(o.href||""));if(S){for(var x=0;x<S.length;x++)if(y=S[x],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(x,1);break t}}y=p.createElement(u),At(y,u,o),p.head.appendChild(y);break;case"meta":if(S=Bm("meta","content",p).get(u+(o.content||""))){for(x=0;x<S.length;x++)if(y=S[x],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(x,1);break t}}y=p.createElement(u),At(y,u,o),p.head.appendChild(y);break;default:throw Error(r(468,u))}y[Xe]=t,ft(y),u=y}t.stateNode=u}else zm(p,t.type,t.stateNode);else t.stateNode=Gm(p,u,t.memoizedProps);else y!==u?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,u===null?zm(p,t.type,t.stateNode):Gm(p,u,t.memoizedProps)):u===null&&t.stateNode!==null&&bc(t,t.memoizedProps,o.memoizedProps)}break;case 27:Vt(s,t),jt(t),u&512&&(gt||o===null||Mn(o,o.return)),o!==null&&u&4&&bc(t,t.memoizedProps,o.memoizedProps);break;case 5:if(Vt(s,t),jt(t),u&512&&(gt||o===null||Mn(o,o.return)),t.flags&32){p=t.stateNode;try{Lt(p,"")}catch(re){Ve(t,t.return,re)}}u&4&&t.stateNode!=null&&(p=t.memoizedProps,bc(t,p,o!==null?o.memoizedProps:p)),u&1024&&(xc=!0);break;case 6:if(Vt(s,t),jt(t),u&4){if(t.stateNode===null)throw Error(r(162));u=t.memoizedProps,o=t.stateNode;try{o.nodeValue=u}catch(re){Ve(t,t.return,re)}}break;case 3:if(nl=null,p=En,En=el(s.containerInfo),Vt(s,t),En=p,jt(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{lr(s.containerInfo)}catch(re){Ve(t,t.return,re)}xc&&(xc=!1,zp(t));break;case 4:u=En,En=el(t.stateNode.containerInfo),Vt(s,t),jt(t),En=u;break;case 12:Vt(s,t),jt(t);break;case 31:Vt(s,t),jt(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Ga(t,u)));break;case 13:Vt(s,t),jt(t),t.child.flags&8192&&t.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(za=Rt()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Ga(t,u)));break;case 22:p=t.memoizedState!==null;var C=o!==null&&o.memoizedState!==null,O=Wn,B=gt;if(Wn=O||p,gt=B||C,Vt(s,t),gt=B,Wn=O,jt(t),u&8192)e:for(s=t.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(o===null||C||Wn||gt||ps(t)),o=null,s=t;;){if(s.tag===5||s.tag===26){if(o===null){C=o=s;try{if(y=C.stateNode,p)S=y.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{x=C.stateNode;var F=C.memoizedProps.style,q=F!=null&&F.hasOwnProperty("display")?F.display:null;x.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(re){Ve(C,C.return,re)}}}else if(s.tag===6){if(o===null){C=s;try{C.stateNode.nodeValue=p?"":C.memoizedProps}catch(re){Ve(C,C.return,re)}}}else if(s.tag===18){if(o===null){C=s;try{var G=C.stateNode;p?Im(G,!0):Im(C.stateNode,!1)}catch(re){Ve(C,C.return,re)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=t.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Ga(t,o))));break;case 19:Vt(s,t),jt(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Ga(t,u)));break;case 30:break;case 21:break;default:Vt(s,t),jt(t)}}function jt(t){var s=t.flags;if(s&2){try{for(var o,u=t.return;u!==null;){if(kp(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var p=o.stateNode,y=Sc(t);Ha(t,y,p);break;case 5:var S=o.stateNode;o.flags&32&&(Lt(S,""),o.flags&=-33);var x=Sc(t);Ha(t,x,S);break;case 3:case 4:var C=o.stateNode.containerInfo,O=Sc(t);Tc(t,O,C);break;default:throw Error(r(161))}}catch(B){Ve(t,t.return,B)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function zp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;zp(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function ei(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Op(t,s.alternate,s),s=s.sibling}function ps(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Mi(4,s,s.return),ps(s);break;case 1:Mn(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&Ip(s,s.return,o),ps(s);break;case 27:xo(s.stateNode);case 26:case 5:Mn(s,s.return),ps(s);break;case 22:s.memoizedState===null&&ps(s);break;case 30:ps(s);break;default:ps(s)}t=t.sibling}}function ti(t,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,p=t,y=s,S=y.flags;switch(y.tag){case 0:case 11:case 15:ti(p,y,o),po(4,y);break;case 1:if(ti(p,y,o),u=y,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(O){Ve(u,u.return,O)}if(u=y,p=u.updateQueue,p!==null){var x=u.stateNode;try{var C=p.shared.hiddenCallbacks;if(C!==null)for(p.shared.hiddenCallbacks=null,p=0;p<C.length;p++)_h(C[p],x)}catch(O){Ve(u,u.return,O)}}o&&S&64&&Mp(y),mo(y,y.return);break;case 27:Up(y);case 26:case 5:ti(p,y,o),o&&u===null&&S&4&&Dp(y),mo(y,y.return);break;case 12:ti(p,y,o);break;case 31:ti(p,y,o),o&&S&4&&Hp(p,y);break;case 13:ti(p,y,o),o&&S&4&&Gp(p,y);break;case 22:y.memoizedState===null&&ti(p,y,o),mo(y,y.return);break;case 30:break;default:ti(p,y,o)}s=s.sibling}}function wc(t,s){var o=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==o&&(t!=null&&t.refCount++,o!=null&&eo(o))}function Ac(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&eo(t))}function bn(t,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Vp(t,s,o,u),s=s.sibling}function Vp(t,s,o,u){var p=s.flags;switch(s.tag){case 0:case 11:case 15:bn(t,s,o,u),p&2048&&po(9,s);break;case 1:bn(t,s,o,u);break;case 3:bn(t,s,o,u),p&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&eo(t)));break;case 12:if(p&2048){bn(t,s,o,u),t=s.stateNode;try{var y=s.memoizedProps,S=y.id,x=y.onPostCommit;typeof x=="function"&&x(S,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Ve(s,s.return,C)}}else bn(t,s,o,u);break;case 31:bn(t,s,o,u);break;case 13:bn(t,s,o,u);break;case 23:break;case 22:y=s.stateNode,S=s.alternate,s.memoizedState!==null?y._visibility&2?bn(t,s,o,u):go(t,s):y._visibility&2?bn(t,s,o,u):(y._visibility|=2,Xs(t,s,o,u,(s.subtreeFlags&10256)!==0||!1)),p&2048&&wc(S,s);break;case 24:bn(t,s,o,u),p&2048&&Ac(s.alternate,s);break;default:bn(t,s,o,u)}}function Xs(t,s,o,u,p){for(p=p&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var y=t,S=s,x=o,C=u,O=S.flags;switch(S.tag){case 0:case 11:case 15:Xs(y,S,x,C,p),po(8,S);break;case 23:break;case 22:var B=S.stateNode;S.memoizedState!==null?B._visibility&2?Xs(y,S,x,C,p):go(y,S):(B._visibility|=2,Xs(y,S,x,C,p)),p&&O&2048&&wc(S.alternate,S);break;case 24:Xs(y,S,x,C,p),p&&O&2048&&Ac(S.alternate,S);break;default:Xs(y,S,x,C,p)}s=s.sibling}}function go(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=t,u=s,p=u.flags;switch(u.tag){case 22:go(o,u),p&2048&&wc(u.alternate,u);break;case 24:go(o,u),p&2048&&Ac(u.alternate,u);break;default:go(o,u)}s=s.sibling}}var yo=8192;function Ws(t,s,o){if(t.subtreeFlags&yo)for(t=t.child;t!==null;)jp(t,s,o),t=t.sibling}function jp(t,s,o){switch(t.tag){case 26:Ws(t,s,o),t.flags&yo&&t.memoizedState!==null&&mb(o,En,t.memoizedState,t.memoizedProps);break;case 5:Ws(t,s,o);break;case 3:case 4:var u=En;En=el(t.stateNode.containerInfo),Ws(t,s,o),En=u;break;case 22:t.memoizedState===null&&(u=t.alternate,u!==null&&u.memoizedState!==null?(u=yo,yo=16777216,Ws(t,s,o),yo=u):Ws(t,s,o));break;default:Ws(t,s,o)}}function Fp(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function vo(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];bt=u,Jp(u,t)}Fp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)$p(t),t=t.sibling}function $p(t){switch(t.tag){case 0:case 11:case 15:vo(t),t.flags&2048&&Mi(9,t,t.return);break;case 3:vo(t);break;case 12:vo(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Ba(t)):vo(t);break;default:vo(t)}}function Ba(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];bt=u,Jp(u,t)}Fp(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Mi(8,s,s.return),Ba(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Ba(s));break;default:Ba(s)}t=t.sibling}}function Jp(t,s){for(;bt!==null;){var o=bt;switch(o.tag){case 0:case 11:case 15:Mi(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:eo(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,bt=u;else e:for(o=t;bt!==null;){u=bt;var p=u.sibling,y=u.return;if(Lp(u),u===o){bt=null;break e}if(p!==null){p.return=y,bt=p;break e}bt=y}}}var ME={getCacheForType:function(t){var s=xt(ht),o=s.data.get(t);return o===void 0&&(o=t(),s.data.set(t,o)),o},cacheSignal:function(){return xt(ht).controller.signal}},IE=typeof WeakMap=="function"?WeakMap:Map,Ge=0,Ke=null,Ne=null,Me=0,ze=0,Zt=null,Ii=!1,Zs=!1,Cc=!1,ni=0,lt=0,Di=0,ms=0,Nc=0,en=0,er=0,_o=null,Ft=null,Rc=!1,za=0,Yp=0,Va=1/0,ja=null,ki=null,Et=0,Ui=null,tr=null,ii=0,Mc=0,Ic=null,Kp=null,Eo=0,Dc=null;function tn(){return(Ge&2)!==0&&Me!==0?Me&-Me:H.T!==null?qc():Pr()}function Qp(){if(en===0)if((Me&536870912)===0||De){var t=An;An<<=1,(An&3932160)===0&&(An=262144),en=t}else en=536870912;return t=Xt.current,t!==null&&(t.flags|=32),en}function $t(t,s,o){(t===Ke&&(ze===2||ze===9)||t.cancelPendingCommit!==null)&&(nr(t,0),Pi(t,Me,en,!1)),Cn(t,o),((Ge&2)===0||t!==Ke)&&(t===Ke&&((Ge&2)===0&&(ms|=o),lt===4&&Pi(t,Me,en,!1)),In(t))}function Xp(t,s,o){if((Ge&6)!==0)throw Error(r(327));var u=!o&&(s&127)===0&&(s&t.expiredLanes)===0||pi(t,s),p=u?UE(t,s):Uc(t,s,!0),y=u;do{if(p===0){Zs&&!u&&Pi(t,s,0,!1);break}else{if(o=t.current.alternate,y&&!DE(o)){p=Uc(t,s,!1),y=!1;continue}if(p===2){if(y=s,t.errorRecoveryDisabledLanes&y)var S=0;else S=t.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){s=S;e:{var x=t;p=_o;var C=x.current.memoizedState.isDehydrated;if(C&&(nr(x,S).flags|=256),S=Uc(x,S,!1),S!==2){if(Cc&&!C){x.errorRecoveryDisabledLanes|=y,ms|=y,p=4;break e}y=Ft,Ft=p,y!==null&&(Ft===null?Ft=y:Ft.push.apply(Ft,y))}p=S}if(y=!1,p!==2)continue}}if(p===1){nr(t,0),Pi(t,s,0,!0);break}e:{switch(u=t,y=p,y){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Pi(u,s,en,!Ii);break e;case 2:Ft=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(p=za+300-Rt(),10<p)){if(Pi(u,s,en,!Ii),Ot(u,0,!0)!==0)break e;ii=s,u.timeoutHandle=Nm(Wp.bind(null,u,o,Ft,ja,Rc,s,en,ms,er,Ii,y,"Throttled",-0,0),p);break e}Wp(u,o,Ft,ja,Rc,s,en,ms,er,Ii,y,null,-0,0)}}break}while(!0);In(t)}function Wp(t,s,o,u,p,y,S,x,C,O,B,F,q,G){if(t.timeoutHandle=-1,F=s.subtreeFlags,F&8192||(F&16785408)===16785408){F={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zn},jp(s,y,F);var re=(y&62914560)===y?za-Rt():(y&4194048)===y?Yp-Rt():0;if(re=gb(F,re),re!==null){ii=y,t.cancelPendingCommit=re(om.bind(null,t,s,y,o,u,p,S,x,C,B,F,null,q,G)),Pi(t,y,S,!O);return}}om(t,s,y,o,u,p,S,x,C)}function DE(t){for(var s=t;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var p=o[u],y=p.getSnapshot;p=p.value;try{if(!Kt(y(),p))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Pi(t,s,o,u){s&=~Nc,s&=~ms,t.suspendedLanes|=s,t.pingedLanes&=~s,u&&(t.warmLanes|=s),u=t.expirationTimes;for(var p=s;0<p;){var y=31-dt(p),S=1<<y;u[y]=-1,p&=~S}o!==0&&Ki(t,o,s)}function Fa(){return(Ge&6)===0?(bo(0),!1):!0}function kc(){if(Ne!==null){if(ze===0)var t=Ne.return;else t=Ne,$n=os=null,Ku(t),$s=null,no=0,t=Ne;for(;t!==null;)Rp(t.alternate,t),t=t.return;Ne=null}}function nr(t,s){var o=t.timeoutHandle;o!==-1&&(t.timeoutHandle=-1,WE(o)),o=t.cancelPendingCommit,o!==null&&(t.cancelPendingCommit=null,o()),ii=0,kc(),Ke=t,Ne=o=jn(t.current,null),Me=s,ze=0,Zt=null,Ii=!1,Zs=pi(t,s),Cc=!1,er=en=Nc=ms=Di=lt=0,Ft=_o=null,Rc=!1,(s&8)!==0&&(s|=s&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=s;0<u;){var p=31-dt(u),y=1<<p;s|=t[p],u&=~y}return ni=s,fa(),o}function Zp(t,s){xe=null,H.H=co,s===Fs||s===Ea?(s=mh(),ze=3):s===Lu?(s=mh(),ze=4):ze=s===dc?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Zt=s,Ne===null&&(lt=1,Ua(t,an(s,t.current)))}function em(){var t=Xt.current;return t===null?!0:(Me&4194048)===Me?dn===null:(Me&62914560)===Me||(Me&536870912)!==0?t===dn:!1}function tm(){var t=H.H;return H.H=co,t===null?co:t}function nm(){var t=H.A;return H.A=ME,t}function $a(){lt=4,Ii||(Me&4194048)!==Me&&Xt.current!==null||(Zs=!0),(Di&134217727)===0&&(ms&134217727)===0||Ke===null||Pi(Ke,Me,en,!1)}function Uc(t,s,o){var u=Ge;Ge|=2;var p=tm(),y=nm();(Ke!==t||Me!==s)&&(ja=null,nr(t,s)),s=!1;var S=lt;e:do try{if(ze!==0&&Ne!==null){var x=Ne,C=Zt;switch(ze){case 8:kc(),S=6;break e;case 3:case 2:case 9:case 6:Xt.current===null&&(s=!0);var O=ze;if(ze=0,Zt=null,ir(t,x,C,O),o&&Zs){S=0;break e}break;default:O=ze,ze=0,Zt=null,ir(t,x,C,O)}}kE(),S=lt;break}catch(B){Zp(t,B)}while(!0);return s&&t.shellSuspendCounter++,$n=os=null,Ge=u,H.H=p,H.A=y,Ne===null&&(Ke=null,Me=0,fa()),S}function kE(){for(;Ne!==null;)im(Ne)}function UE(t,s){var o=Ge;Ge|=2;var u=tm(),p=nm();Ke!==t||Me!==s?(ja=null,Va=Rt()+500,nr(t,s)):Zs=pi(t,s);e:do try{if(ze!==0&&Ne!==null){s=Ne;var y=Zt;t:switch(ze){case 1:ze=0,Zt=null,ir(t,s,y,1);break;case 2:case 9:if(hh(y)){ze=0,Zt=null,sm(s);break}s=function(){ze!==2&&ze!==9||Ke!==t||(ze=7),In(t)},y.then(s,s);break e;case 3:ze=7;break e;case 4:ze=5;break e;case 7:hh(y)?(ze=0,Zt=null,sm(s)):(ze=0,Zt=null,ir(t,s,y,7));break;case 5:var S=null;switch(Ne.tag){case 26:S=Ne.memoizedState;case 5:case 27:var x=Ne;if(S?Vm(S):x.stateNode.complete){ze=0,Zt=null;var C=x.sibling;if(C!==null)Ne=C;else{var O=x.return;O!==null?(Ne=O,Ja(O)):Ne=null}break t}}ze=0,Zt=null,ir(t,s,y,5);break;case 6:ze=0,Zt=null,ir(t,s,y,6);break;case 8:kc(),lt=6;break e;default:throw Error(r(462))}}PE();break}catch(B){Zp(t,B)}while(!0);return $n=os=null,H.H=u,H.A=p,Ge=o,Ne!==null?0:(Ke=null,Me=0,fa(),lt)}function PE(){for(;Ne!==null&&!St();)im(Ne)}function im(t){var s=Cp(t.alternate,t,ni);t.memoizedProps=t.pendingProps,s===null?Ja(t):Ne=s}function sm(t){var s=t,o=s.alternate;switch(s.tag){case 15:case 0:s=bp(o,s,s.pendingProps,s.type,void 0,Me);break;case 11:s=bp(o,s,s.pendingProps,s.type.render,s.ref,Me);break;case 5:Ku(s);default:Rp(o,s),s=Ne=nh(s,ni),s=Cp(o,s,ni)}t.memoizedProps=t.pendingProps,s===null?Ja(t):Ne=s}function ir(t,s,o,u){$n=os=null,Ku(s),$s=null,no=0;var p=s.return;try{if(TE(t,p,s,o,Me)){lt=1,Ua(t,an(o,t.current)),Ne=null;return}}catch(y){if(p!==null)throw Ne=p,y;lt=1,Ua(t,an(o,t.current)),Ne=null;return}s.flags&32768?(De||u===1?t=!0:Zs||(Me&536870912)!==0?t=!1:(Ii=t=!0,(u===2||u===9||u===3||u===6)&&(u=Xt.current,u!==null&&u.tag===13&&(u.flags|=16384))),rm(s,t)):Ja(s)}function Ja(t){var s=t;do{if((s.flags&32768)!==0){rm(s,Ii);return}t=s.return;var o=AE(s.alternate,s,ni);if(o!==null){Ne=o;return}if(s=s.sibling,s!==null){Ne=s;return}Ne=s=t}while(s!==null);lt===0&&(lt=5)}function rm(t,s){do{var o=CE(t.alternate,t);if(o!==null){o.flags&=32767,Ne=o;return}if(o=t.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=o}while(t!==null);lt=6,Ne=null}function om(t,s,o,u,p,y,S,x,C){t.cancelPendingCommit=null;do Ya();while(Et!==0);if((Ge&6)!==0)throw Error(r(327));if(s!==null){if(s===t.current)throw Error(r(177));if(y=s.lanes|s.childLanes,y|=Su,Cs(t,o,y,S,x,C),t===Ke&&(Ne=Ke=null,Me=0),tr=s,Ui=t,ii=o,Mc=y,Ic=p,Kp=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,HE(je,function(){return dm(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=H.T,H.T=null,p=W.p,W.p=2,S=Ge,Ge|=4;try{NE(t,s,o)}finally{Ge=S,W.p=p,H.T=u}}Et=1,am(),lm(),um()}}function am(){if(Et===1){Et=0;var t=Ui,s=tr,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=H.T,H.T=null;var u=W.p;W.p=2;var p=Ge;Ge|=4;try{Bp(s,t);var y=$c,S=Jf(t.containerInfo),x=y.focusedElem,C=y.selectionRange;if(S!==x&&x&&x.ownerDocument&&$f(x.ownerDocument.documentElement,x)){if(C!==null&&yu(x)){var O=C.start,B=C.end;if(B===void 0&&(B=O),"selectionStart"in x)x.selectionStart=O,x.selectionEnd=Math.min(B,x.value.length);else{var F=x.ownerDocument||document,q=F&&F.defaultView||window;if(q.getSelection){var G=q.getSelection(),re=x.textContent.length,pe=Math.min(C.start,re),Je=C.end===void 0?pe:Math.min(C.end,re);!G.extend&&pe>Je&&(S=Je,Je=pe,pe=S);var D=Ff(x,pe),I=Ff(x,Je);if(D&&I&&(G.rangeCount!==1||G.anchorNode!==D.node||G.anchorOffset!==D.offset||G.focusNode!==I.node||G.focusOffset!==I.offset)){var U=F.createRange();U.setStart(D.node,D.offset),G.removeAllRanges(),pe>Je?(G.addRange(U),G.extend(I.node,I.offset)):(U.setEnd(I.node,I.offset),G.addRange(U))}}}}for(F=[],G=x;G=G.parentNode;)G.nodeType===1&&F.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<F.length;x++){var V=F[x];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}ol=!!Fc,$c=Fc=null}finally{Ge=p,W.p=u,H.T=o}}t.current=s,Et=2}}function lm(){if(Et===2){Et=0;var t=Ui,s=tr,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=H.T,H.T=null;var u=W.p;W.p=2;var p=Ge;Ge|=4;try{Op(t,s.alternate,s)}finally{Ge=p,W.p=u,H.T=o}}Et=3}}function um(){if(Et===4||Et===3){Et=0,Ji();var t=Ui,s=tr,o=ii,u=Kp;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Et=5:(Et=0,tr=Ui=null,cm(t,t.pendingLanes));var p=t.pendingLanes;if(p===0&&(ki=null),Hn(o),s=s.stateNode,Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(Ln,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=H.T,p=W.p,W.p=2,H.T=null;try{for(var y=t.onRecoverableError,S=0;S<u.length;S++){var x=u[S];y(x.value,{componentStack:x.stack})}}finally{H.T=s,W.p=p}}(ii&3)!==0&&Ya(),In(t),p=t.pendingLanes,(o&261930)!==0&&(p&42)!==0?t===Dc?Eo++:(Eo=0,Dc=t):Eo=0,bo(0)}}function cm(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,eo(s)))}function Ya(){return am(),lm(),um(),dm()}function dm(){if(Et!==5)return!1;var t=Ui,s=Mc;Mc=0;var o=Hn(ii),u=H.T,p=W.p;try{W.p=32>o?32:o,H.T=null,o=Ic,Ic=null;var y=Ui,S=ii;if(Et=0,tr=Ui=null,ii=0,(Ge&6)!==0)throw Error(r(331));var x=Ge;if(Ge|=4,$p(y.current),Vp(y,y.current,S,o),Ge=x,bo(0,!1),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(Ln,y)}catch{}return!0}finally{W.p=p,H.T=u,cm(t,s)}}function fm(t,s,o){s=an(o,s),s=cc(t.stateNode,s,2),t=Ci(t,s,2),t!==null&&(Cn(t,2),In(t))}function Ve(t,s,o){if(t.tag===3)fm(t,t,o);else for(;s!==null;){if(s.tag===3){fm(s,t,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ki===null||!ki.has(u))){t=an(o,t),o=hp(2),u=Ci(s,o,2),u!==null&&(pp(o,u,s,t),Cn(u,2),In(u));break}}s=s.return}}function Pc(t,s,o){var u=t.pingCache;if(u===null){u=t.pingCache=new IE;var p=new Set;u.set(s,p)}else p=u.get(s),p===void 0&&(p=new Set,u.set(s,p));p.has(o)||(Cc=!0,p.add(o),t=OE.bind(null,t,s,o),s.then(t,t))}function OE(t,s,o){var u=t.pingCache;u!==null&&u.delete(s),t.pingedLanes|=t.suspendedLanes&o,t.warmLanes&=~o,Ke===t&&(Me&o)===o&&(lt===4||lt===3&&(Me&62914560)===Me&&300>Rt()-za?(Ge&2)===0&&nr(t,0):Nc|=o,er===Me&&(er=0)),In(t)}function hm(t,s){s===0&&(s=Ur()),t=is(t,s),t!==null&&(Cn(t,s),In(t))}function LE(t){var s=t.memoizedState,o=0;s!==null&&(o=s.retryLane),hm(t,o)}function qE(t,s){var o=0;switch(t.tag){case 31:case 13:var u=t.stateNode,p=t.memoizedState;p!==null&&(o=p.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),hm(t,o)}function HE(t,s){return Ir(t,s)}var Ka=null,sr=null,Oc=!1,Qa=!1,Lc=!1,Oi=0;function In(t){t!==sr&&t.next===null&&(sr===null?Ka=sr=t:sr=sr.next=t),Qa=!0,Oc||(Oc=!0,BE())}function bo(t,s){if(!Lc&&Qa){Lc=!0;do for(var o=!1,u=Ka;u!==null;){if(t!==0){var p=u.pendingLanes;if(p===0)var y=0;else{var S=u.suspendedLanes,x=u.pingedLanes;y=(1<<31-dt(42|t)+1)-1,y&=p&~(S&~x),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,ym(u,y))}else y=Me,y=Ot(u,u===Ke?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||pi(u,y)||(o=!0,ym(u,y));u=u.next}while(o);Lc=!1}}function GE(){pm()}function pm(){Qa=Oc=!1;var t=0;Oi!==0&&XE()&&(t=Oi);for(var s=Rt(),o=null,u=Ka;u!==null;){var p=u.next,y=mm(u,s);y===0?(u.next=null,o===null?Ka=p:o.next=p,p===null&&(sr=o)):(o=u,(t!==0||(y&3)!==0)&&(Qa=!0)),u=p}Et!==0&&Et!==5||bo(t),Oi!==0&&(Oi=0)}function mm(t,s){for(var o=t.suspendedLanes,u=t.pingedLanes,p=t.expirationTimes,y=t.pendingLanes&-62914561;0<y;){var S=31-dt(y),x=1<<S,C=p[S];C===-1?((x&o)===0||(x&u)!==0)&&(p[S]=gn(x,s)):C<=s&&(t.expiredLanes|=x),y&=~x}if(s=Ke,o=Me,o=Ot(t,t===s?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,o===0||t===s&&(ze===2||ze===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&Dr(u),t.callbackNode=null,t.callbackPriority=0;if((o&3)===0||pi(t,o)){if(s=o&-o,s===t.callbackPriority)return s;switch(u!==null&&Dr(u),Hn(o)){case 2:case 8:o=As;break;case 32:o=je;break;case 268435456:o=fi;break;default:o=je}return u=gm.bind(null,t),o=Ir(o,u),t.callbackPriority=s,t.callbackNode=o,s}return u!==null&&u!==null&&Dr(u),t.callbackPriority=2,t.callbackNode=null,2}function gm(t,s){if(Et!==0&&Et!==5)return t.callbackNode=null,t.callbackPriority=0,null;var o=t.callbackNode;if(Ya()&&t.callbackNode!==o)return null;var u=Me;return u=Ot(t,t===Ke?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(Xp(t,u,s),mm(t,Rt()),t.callbackNode!=null&&t.callbackNode===o?gm.bind(null,t):null)}function ym(t,s){if(Ya())return null;Xp(t,s,!0)}function BE(){ZE(function(){(Ge&6)!==0?Ir(di,GE):pm()})}function qc(){if(Oi===0){var t=Vs;t===0&&(t=Yi,Yi<<=1,(Yi&261888)===0&&(Yi=256)),Oi=t}return Oi}function vm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:sa(""+t)}function _m(t,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,t.id&&o.setAttribute("form",t.id),s.parentNode.insertBefore(o,s),t=new FormData(t),o.parentNode.removeChild(o),t}function zE(t,s,o,u,p){if(s==="submit"&&o&&o.stateNode===p){var y=vm((p[Se]||null).action),S=u.submitter;S&&(s=(s=S[Se]||null)?vm(s.formAction):S.getAttribute("formAction"),s!==null&&(y=s,S=null));var x=new la("action","action",null,u,p);t.push({event:x,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Oi!==0){var C=S?_m(p,S):new FormData(p);sc(o,{pending:!0,data:C,method:p.method,action:y},null,C)}}else typeof y=="function"&&(x.preventDefault(),C=S?_m(p,S):new FormData(p),sc(o,{pending:!0,data:C,method:p.method,action:y},y,C))},currentTarget:p}]})}}for(var Hc=0;Hc<bu.length;Hc++){var Gc=bu[Hc],VE=Gc.toLowerCase(),jE=Gc[0].toUpperCase()+Gc.slice(1);_n(VE,"on"+jE)}_n(Qf,"onAnimationEnd"),_n(Xf,"onAnimationIteration"),_n(Wf,"onAnimationStart"),_n("dblclick","onDoubleClick"),_n("focusin","onFocus"),_n("focusout","onBlur"),_n(oE,"onTransitionRun"),_n(aE,"onTransitionStart"),_n(lE,"onTransitionCancel"),_n(Zf,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),Bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var So="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(So));function Em(t,s){s=(s&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],p=u.event;u=u.listeners;e:{var y=void 0;if(s)for(var S=u.length-1;0<=S;S--){var x=u[S],C=x.instance,O=x.currentTarget;if(x=x.listener,C!==y&&p.isPropagationStopped())break e;y=x,p.currentTarget=O;try{y(p)}catch(B){da(B)}p.currentTarget=null,y=C}else for(S=0;S<u.length;S++){if(x=u[S],C=x.instance,O=x.currentTarget,x=x.listener,C!==y&&p.isPropagationStopped())break e;y=x,p.currentTarget=O;try{y(p)}catch(B){da(B)}p.currentTarget=null,y=C}}}}function Re(t,s){var o=s[Lr];o===void 0&&(o=s[Lr]=new Set);var u=t+"__bubble";o.has(u)||(bm(s,t,2,!1),o.add(u))}function Bc(t,s,o){var u=0;s&&(u|=4),bm(o,t,u,s)}var Xa="_reactListening"+Math.random().toString(36).slice(2);function zc(t){if(!t[Xa]){t[Xa]=!0,Wo.forEach(function(o){o!=="selectionchange"&&(FE.has(o)||Bc(o,!1,t),Bc(o,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Xa]||(s[Xa]=!0,Bc("selectionchange",!1,s))}}function bm(t,s,o,u){switch(Qm(s)){case 2:var p=_b;break;case 8:p=Eb;break;default:p=id}o=p.bind(null,s,o,t),p=void 0,!lu||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),u?p!==void 0?t.addEventListener(s,o,{capture:!0,passive:p}):t.addEventListener(s,o,!0):p!==void 0?t.addEventListener(s,o,{passive:p}):t.addEventListener(s,o,!1)}function Vc(t,s,o,u,p){var y=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var x=u.stateNode.containerInfo;if(x===p)break;if(S===4)for(S=u.return;S!==null;){var C=S.tag;if((C===3||C===4)&&S.stateNode.containerInfo===p)return;S=S.return}for(;x!==null;){if(S=gi(x),S===null)return;if(C=S.tag,C===5||C===6||C===26||C===27){u=y=S;continue e}x=x.parentNode}}u=u.return}Af(function(){var O=y,B=ou(o),F=[];e:{var q=eh.get(t);if(q!==void 0){var G=la,re=t;switch(t){case"keypress":if(oa(o)===0)break e;case"keydown":case"keyup":G=q_;break;case"focusin":re="focus",G=fu;break;case"focusout":re="blur",G=fu;break;case"beforeblur":case"afterblur":G=fu;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Rf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=A_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=B_;break;case Qf:case Xf:case Wf:G=R_;break;case Zf:G=V_;break;case"scroll":case"scrollend":G=x_;break;case"wheel":G=F_;break;case"copy":case"cut":case"paste":G=I_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=If;break;case"toggle":case"beforetoggle":G=J_}var pe=(s&4)!==0,Je=!pe&&(t==="scroll"||t==="scrollend"),D=pe?q!==null?q+"Capture":null:q;pe=[];for(var I=O,U;I!==null;){var V=I;if(U=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||U===null||D===null||(V=Vr(I,D),V!=null&&pe.push(To(I,V,U))),Je)break;I=I.return}0<pe.length&&(q=new G(q,re,null,o,B),F.push({event:q,listeners:pe}))}}if((s&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",q&&o!==ru&&(re=o.relatedTarget||o.fromElement)&&(gi(re)||re[Gn]))break e;if((G||q)&&(q=B.window===B?B:(q=B.ownerDocument)?q.defaultView||q.parentWindow:window,G?(re=o.relatedTarget||o.toElement,G=O,re=re?gi(re):null,re!==null&&(Je=l(re),pe=re.tag,re!==Je||pe!==5&&pe!==27&&pe!==6)&&(re=null)):(G=null,re=O),G!==re)){if(pe=Rf,V="onMouseLeave",D="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(pe=If,V="onPointerLeave",D="onPointerEnter",I="pointer"),Je=G==null?q:Zi(G),U=re==null?q:Zi(re),q=new pe(V,I+"leave",G,o,B),q.target=Je,q.relatedTarget=U,V=null,gi(B)===O&&(pe=new pe(D,I+"enter",re,o,B),pe.target=U,pe.relatedTarget=Je,V=pe),Je=V,G&&re)t:{for(pe=$E,D=G,I=re,U=0,V=D;V;V=pe(V))U++;V=0;for(var de=I;de;de=pe(de))V++;for(;0<U-V;)D=pe(D),U--;for(;0<V-U;)I=pe(I),V--;for(;U--;){if(D===I||I!==null&&D===I.alternate){pe=D;break t}D=pe(D),I=pe(I)}pe=null}else pe=null;G!==null&&Sm(F,q,G,pe,!1),re!==null&&Je!==null&&Sm(F,Je,re,pe,!0)}}e:{if(q=O?Zi(O):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var Le=Hf;else if(Lf(q))if(Gf)Le=iE;else{Le=tE;var le=eE}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?O&&ia(O.elementType)&&(Le=Hf):Le=nE;if(Le&&(Le=Le(t,O))){qf(F,Le,o,B);break e}le&&le(t,q,O),t==="focusout"&&O&&q.type==="number"&&O.memoizedProps.value!=null&&J(q,"number",q.value)}switch(le=O?Zi(O):window,t){case"focusin":(Lf(le)||le.contentEditable==="true")&&(Ps=le,vu=O,Xr=null);break;case"focusout":Xr=vu=Ps=null;break;case"mousedown":_u=!0;break;case"contextmenu":case"mouseup":case"dragend":_u=!1,Yf(F,o,B);break;case"selectionchange":if(rE)break;case"keydown":case"keyup":Yf(F,o,B)}var Ae;if(pu)e:{switch(t){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else Us?Pf(t,o)&&(Ie="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(Ie="onCompositionStart");Ie&&(Df&&o.locale!=="ko"&&(Us||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&Us&&(Ae=Cf()):(Ei=B,uu="value"in Ei?Ei.value:Ei.textContent,Us=!0)),le=Wa(O,Ie),0<le.length&&(Ie=new Mf(Ie,t,null,o,B),F.push({event:Ie,listeners:le}),Ae?Ie.data=Ae:(Ae=Of(o),Ae!==null&&(Ie.data=Ae)))),(Ae=K_?Q_(t,o):X_(t,o))&&(Ie=Wa(O,"onBeforeInput"),0<Ie.length&&(le=new Mf("onBeforeInput","beforeinput",null,o,B),F.push({event:le,listeners:Ie}),le.data=Ae)),zE(F,t,O,o,B)}Em(F,s)})}function To(t,s,o){return{instance:t,listener:s,currentTarget:o}}function Wa(t,s){for(var o=s+"Capture",u=[];t!==null;){var p=t,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=Vr(t,o),p!=null&&u.unshift(To(t,p,y)),p=Vr(t,s),p!=null&&u.push(To(t,p,y))),t.tag===3)return u;t=t.return}return[]}function $E(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Sm(t,s,o,u,p){for(var y=s._reactName,S=[];o!==null&&o!==u;){var x=o,C=x.alternate,O=x.stateNode;if(x=x.tag,C!==null&&C===u)break;x!==5&&x!==26&&x!==27||O===null||(C=O,p?(O=Vr(o,y),O!=null&&S.unshift(To(o,O,C))):p||(O=Vr(o,y),O!=null&&S.push(To(o,O,C)))),o=o.return}S.length!==0&&t.push({event:s,listeners:S})}var JE=/\r\n?/g,YE=/\u0000|\uFFFD/g;function Tm(t){return(typeof t=="string"?t:""+t).replace(JE,`
`).replace(YE,"")}function xm(t,s){return s=Tm(s),Tm(t)===s}function $e(t,s,o,u,p,y){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Lt(t,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Lt(t,""+u);break;case"className":Rs(t,"class",u);break;case"tabIndex":Rs(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Rs(t,o,u);break;case"style":zr(t,u,y);break;case"data":if(s!=="object"){Rs(t,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){t.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(o);break}u=sa(""+u),t.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(s!=="input"&&$e(t,s,"name",p.name,p,null),$e(t,s,"formEncType",p.formEncType,p,null),$e(t,s,"formMethod",p.formMethod,p,null),$e(t,s,"formTarget",p.formTarget,p,null)):($e(t,s,"encType",p.encType,p,null),$e(t,s,"method",p.method,p,null),$e(t,s,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(o);break}u=sa(""+u),t.setAttribute(o,u);break;case"onClick":u!=null&&(t.onclick=zn);break;case"onScroll":u!=null&&Re("scroll",t);break;case"onScrollEnd":u!=null&&Re("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(r(60));t.innerHTML=o}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}o=sa(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,""+u):t.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,""):t.removeAttribute(o);break;case"capture":case"download":u===!0?t.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,u):t.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(o,u):t.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(o):t.setAttribute(o,u);break;case"popover":Re("beforetoggle",t),Re("toggle",t),Ns(t,"popover",u);break;case"xlinkActuate":vn(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":vn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":vn(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":vn(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":vn(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":vn(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":vn(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":vn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":vn(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ns(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=S_.get(o)||o,Ns(t,o,u))}}function jc(t,s,o,u,p,y){switch(o){case"style":zr(t,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(r(60));t.innerHTML=o}}break;case"children":typeof u=="string"?Lt(t,u):(typeof u=="number"||typeof u=="bigint")&&Lt(t,""+u);break;case"onScroll":u!=null&&Re("scroll",t);break;case"onScrollEnd":u!=null&&Re("scrollend",t);break;case"onClick":u!=null&&(t.onclick=zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zo.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),s=o.slice(2,p?o.length-7:void 0),y=t[Se]||null,y=y!=null?y[o]:null,typeof y=="function"&&t.removeEventListener(s,y,p),typeof u=="function")){typeof y!="function"&&y!==null&&(o in t?t[o]=null:t.hasAttribute(o)&&t.removeAttribute(o)),t.addEventListener(s,u,p);break e}o in t?t[o]=u:u===!0?t.setAttribute(o,""):Ns(t,o,u)}}}function At(t,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",t),Re("load",t);var u=!1,p=!1,y;for(y in o)if(o.hasOwnProperty(y)){var S=o[y];if(S!=null)switch(y){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:$e(t,s,y,S,o,null)}}p&&$e(t,s,"srcSet",o.srcSet,o,null),u&&$e(t,s,"src",o.src,o,null);return;case"input":Re("invalid",t);var x=y=S=p=null,C=null,O=null;for(u in o)if(o.hasOwnProperty(u)){var B=o[u];if(B!=null)switch(u){case"name":p=B;break;case"type":S=B;break;case"checked":C=B;break;case"defaultChecked":O=B;break;case"value":y=B;break;case"defaultValue":x=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,s));break;default:$e(t,s,u,B,o,null)}}w(t,y,x,C,O,S,p,!1);return;case"select":Re("invalid",t),u=S=y=null;for(p in o)if(o.hasOwnProperty(p)&&(x=o[p],x!=null))switch(p){case"value":y=x;break;case"defaultValue":S=x;break;case"multiple":u=x;default:$e(t,s,p,x,o,null)}s=y,o=S,t.multiple=!!u,s!=null?Te(t,!!u,s,!1):o!=null&&Te(t,!!u,o,!0);return;case"textarea":Re("invalid",t),y=p=u=null;for(S in o)if(o.hasOwnProperty(S)&&(x=o[S],x!=null))switch(S){case"value":u=x;break;case"defaultValue":p=x;break;case"children":y=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:$e(t,s,S,x,o,null)}It(t,u,p,y);return;case"option":for(C in o)if(o.hasOwnProperty(C)&&(u=o[C],u!=null))switch(C){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:$e(t,s,C,u,o,null)}return;case"dialog":Re("beforetoggle",t),Re("toggle",t),Re("cancel",t),Re("close",t);break;case"iframe":case"object":Re("load",t);break;case"video":case"audio":for(u=0;u<So.length;u++)Re(So[u],t);break;case"image":Re("error",t),Re("load",t);break;case"details":Re("toggle",t);break;case"embed":case"source":case"link":Re("error",t),Re("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in o)if(o.hasOwnProperty(O)&&(u=o[O],u!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:$e(t,s,O,u,o,null)}return;default:if(ia(s)){for(B in o)o.hasOwnProperty(B)&&(u=o[B],u!==void 0&&jc(t,s,B,u,o,void 0));return}}for(x in o)o.hasOwnProperty(x)&&(u=o[x],u!=null&&$e(t,s,x,u,o,null))}function KE(t,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,S=null,x=null,C=null,O=null,B=null;for(G in o){var F=o[G];if(o.hasOwnProperty(G)&&F!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":C=F;default:u.hasOwnProperty(G)||$e(t,s,G,null,u,F)}}for(var q in u){var G=u[q];if(F=o[q],u.hasOwnProperty(q)&&(G!=null||F!=null))switch(q){case"type":y=G;break;case"name":p=G;break;case"checked":O=G;break;case"defaultChecked":B=G;break;case"value":S=G;break;case"defaultValue":x=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,s));break;default:G!==F&&$e(t,s,q,G,u,F)}}Br(t,S,x,C,O,B,y,p);return;case"select":G=S=x=q=null;for(y in o)if(C=o[y],o.hasOwnProperty(y)&&C!=null)switch(y){case"value":break;case"multiple":G=C;default:u.hasOwnProperty(y)||$e(t,s,y,null,u,C)}for(p in u)if(y=u[p],C=o[p],u.hasOwnProperty(p)&&(y!=null||C!=null))switch(p){case"value":q=y;break;case"defaultValue":x=y;break;case"multiple":S=y;default:y!==C&&$e(t,s,p,y,u,C)}s=x,o=S,u=G,q!=null?Te(t,!!o,q,!1):!!u!=!!o&&(s!=null?Te(t,!!o,s,!0):Te(t,!!o,o?[]:"",!1));return;case"textarea":G=q=null;for(x in o)if(p=o[x],o.hasOwnProperty(x)&&p!=null&&!u.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:$e(t,s,x,null,u,p)}for(S in u)if(p=u[S],y=o[S],u.hasOwnProperty(S)&&(p!=null||y!=null))switch(S){case"value":q=p;break;case"defaultValue":G=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==y&&$e(t,s,S,p,u,y)}ve(t,q,G);return;case"option":for(var re in o)if(q=o[re],o.hasOwnProperty(re)&&q!=null&&!u.hasOwnProperty(re))switch(re){case"selected":t.selected=!1;break;default:$e(t,s,re,null,u,q)}for(C in u)if(q=u[C],G=o[C],u.hasOwnProperty(C)&&q!==G&&(q!=null||G!=null))switch(C){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:$e(t,s,C,q,u,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in o)q=o[pe],o.hasOwnProperty(pe)&&q!=null&&!u.hasOwnProperty(pe)&&$e(t,s,pe,null,u,q);for(O in u)if(q=u[O],G=o[O],u.hasOwnProperty(O)&&q!==G&&(q!=null||G!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,s));break;default:$e(t,s,O,q,u,G)}return;default:if(ia(s)){for(var Je in o)q=o[Je],o.hasOwnProperty(Je)&&q!==void 0&&!u.hasOwnProperty(Je)&&jc(t,s,Je,void 0,u,q);for(B in u)q=u[B],G=o[B],!u.hasOwnProperty(B)||q===G||q===void 0&&G===void 0||jc(t,s,B,q,u,G);return}}for(var D in o)q=o[D],o.hasOwnProperty(D)&&q!=null&&!u.hasOwnProperty(D)&&$e(t,s,D,null,u,q);for(F in u)q=u[F],G=o[F],!u.hasOwnProperty(F)||q===G||q==null&&G==null||$e(t,s,F,q,u,G)}function wm(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function QE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var p=o[u],y=p.transferSize,S=p.initiatorType,x=p.duration;if(y&&x&&wm(S)){for(S=0,x=p.responseEnd,u+=1;u<o.length;u++){var C=o[u],O=C.startTime;if(O>x)break;var B=C.transferSize,F=C.initiatorType;B&&wm(F)&&(C=C.responseEnd,S+=B*(C<x?1:(x-O)/(C-O)))}if(--u,s+=8*(y+S)/(p.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Fc=null,$c=null;function Za(t){return t.nodeType===9?t:t.ownerDocument}function Am(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cm(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function Jc(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Yc=null;function XE(){var t=window.event;return t&&t.type==="popstate"?t===Yc?!1:(Yc=t,!0):(Yc=null,!1)}var Nm=typeof setTimeout=="function"?setTimeout:void 0,WE=typeof clearTimeout=="function"?clearTimeout:void 0,Rm=typeof Promise=="function"?Promise:void 0,ZE=typeof queueMicrotask=="function"?queueMicrotask:typeof Rm<"u"?function(t){return Rm.resolve(null).then(t).catch(eb)}:Nm;function eb(t){setTimeout(function(){throw t})}function Li(t){return t==="head"}function Mm(t,s){var o=s,u=0;do{var p=o.nextSibling;if(t.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(u===0){t.removeChild(p),lr(s);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")xo(t.ownerDocument.documentElement);else if(o==="head"){o=t.ownerDocument.head,xo(o);for(var y=o.firstChild;y;){var S=y.nextSibling,x=y.nodeName;y[Wi]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=S}}else o==="body"&&xo(t.ownerDocument.body);o=p}while(o);lr(s)}function Im(t,s){var o=t;t=0;do{var u=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(t===0)break;t--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||t++;o=u}while(o)}function Kc(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Kc(o),qr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}t.removeChild(o)}}function tb(t,s,o,u){for(;t.nodeType===1;){var p=o;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[Wi])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(y=t.getAttribute("rel"),y==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(y!==p.rel||t.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||t.getAttribute("title")!==(p.title==null?null:p.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(y=t.getAttribute("src"),(y!==(p.src==null?null:p.src)||t.getAttribute("type")!==(p.type==null?null:p.type)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&t.getAttribute("name")===y)return t}else return t;if(t=fn(t.nextSibling),t===null)break}return null}function nb(t,s,o){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!o||(t=fn(t.nextSibling),t===null))return null;return t}function Dm(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=fn(t.nextSibling),t===null))return null;return t}function Qc(t){return t.data==="$?"||t.data==="$~"}function Xc(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function ib(t,s){var o=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||o.readyState!=="loading")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function fn(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var Wc=null;function km(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"||o==="/&"){if(s===0)return fn(t.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}t=t.nextSibling}return null}function Um(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return t;s--}else o!=="/$"&&o!=="/&"||s++}t=t.previousSibling}return null}function Pm(t,s,o){switch(s=Za(o),t){case"html":if(t=s.documentElement,!t)throw Error(r(452));return t;case"head":if(t=s.head,!t)throw Error(r(453));return t;case"body":if(t=s.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function xo(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);qr(t)}var hn=new Map,Om=new Set;function el(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var si=W.d;W.d={f:sb,r:rb,D:ob,C:ab,L:lb,m:ub,X:db,S:cb,M:fb};function sb(){var t=si.f(),s=Fa();return t||s}function rb(t){var s=yi(t);s!==null&&s.tag===5&&s.type==="form"?Zh(s):si.r(t)}var rr=typeof document>"u"?null:document;function Lm(t,s,o){var u=rr;if(u&&typeof s=="string"&&s){var p=Gt(s);p='link[rel="'+t+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),Om.has(p)||(Om.add(p),t={rel:t,crossOrigin:o,href:s},u.querySelector(p)===null&&(s=u.createElement("link"),At(s,"link",t),ft(s),u.head.appendChild(s)))}}function ob(t){si.D(t),Lm("dns-prefetch",t,null)}function ab(t,s){si.C(t,s),Lm("preconnect",t,s)}function lb(t,s,o){si.L(t,s,o);var u=rr;if(u&&t&&s){var p='link[rel="preload"][as="'+Gt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+Gt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+Gt(o.imageSizes)+'"]')):p+='[href="'+Gt(t)+'"]';var y=p;switch(s){case"style":y=or(t);break;case"script":y=ar(t)}hn.has(y)||(t=E({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:t,as:s},o),hn.set(y,t),u.querySelector(p)!==null||s==="style"&&u.querySelector(wo(y))||s==="script"&&u.querySelector(Ao(y))||(s=u.createElement("link"),At(s,"link",t),ft(s),u.head.appendChild(s)))}}function ub(t,s){si.m(t,s);var o=rr;if(o&&t){var u=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+Gt(u)+'"][href="'+Gt(t)+'"]',y=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=ar(t)}if(!hn.has(y)&&(t=E({rel:"modulepreload",href:t},s),hn.set(y,t),o.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ao(y)))return}u=o.createElement("link"),At(u,"link",t),ft(u),o.head.appendChild(u)}}}function cb(t,s,o){si.S(t,s,o);var u=rr;if(u&&t){var p=vi(u).hoistableStyles,y=or(t);s=s||"default";var S=p.get(y);if(!S){var x={loading:0,preload:null};if(S=u.querySelector(wo(y)))x.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":s},o),(o=hn.get(y))&&Zc(t,o);var C=S=u.createElement("link");ft(C),At(C,"link",t),C._p=new Promise(function(O,B){C.onload=O,C.onerror=B}),C.addEventListener("load",function(){x.loading|=1}),C.addEventListener("error",function(){x.loading|=2}),x.loading|=4,tl(S,s,u)}S={type:"stylesheet",instance:S,count:1,state:x},p.set(y,S)}}}function db(t,s){si.X(t,s);var o=rr;if(o&&t){var u=vi(o).hoistableScripts,p=ar(t),y=u.get(p);y||(y=o.querySelector(Ao(p)),y||(t=E({src:t,async:!0},s),(s=hn.get(p))&&ed(t,s),y=o.createElement("script"),ft(y),At(y,"link",t),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function fb(t,s){si.M(t,s);var o=rr;if(o&&t){var u=vi(o).hoistableScripts,p=ar(t),y=u.get(p);y||(y=o.querySelector(Ao(p)),y||(t=E({src:t,async:!0,type:"module"},s),(s=hn.get(p))&&ed(t,s),y=o.createElement("script"),ft(y),At(y,"link",t),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function qm(t,s,o,u){var p=(p=ce.current)?el(p):null;if(!p)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=or(o.href),o=vi(p).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){t=or(o.href);var y=vi(p).hoistableStyles,S=y.get(t);if(S||(p=p.ownerDocument||p,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(t,S),(y=p.querySelector(wo(t)))&&!y._p&&(S.instance=y,S.state.loading=5),hn.has(t)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},hn.set(t,o),y||hb(p,t,o,S.state))),s&&u===null)throw Error(r(528,""));return S}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ar(o),o=vi(p).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function or(t){return'href="'+Gt(t)+'"'}function wo(t){return'link[rel="stylesheet"]['+t+"]"}function Hm(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function hb(t,s,o,u){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=t.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),At(s,"link",o),ft(s),t.head.appendChild(s))}function ar(t){return'[src="'+Gt(t)+'"]'}function Ao(t){return"script[async]"+t}function Gm(t,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=t.querySelector('style[data-href~="'+Gt(o.href)+'"]');if(u)return s.instance=u,ft(u),u;var p=E({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),ft(u),At(u,"style",p),tl(u,o.precedence,t),s.instance=u;case"stylesheet":p=or(o.href);var y=t.querySelector(wo(p));if(y)return s.state.loading|=4,s.instance=y,ft(y),y;u=Hm(o),(p=hn.get(p))&&Zc(u,p),y=(t.ownerDocument||t).createElement("link"),ft(y);var S=y;return S._p=new Promise(function(x,C){S.onload=x,S.onerror=C}),At(y,"link",u),s.state.loading|=4,tl(y,o.precedence,t),s.instance=y;case"script":return y=ar(o.src),(p=t.querySelector(Ao(y)))?(s.instance=p,ft(p),p):(u=o,(p=hn.get(y))&&(u=E({},o),ed(u,p)),t=t.ownerDocument||t,p=t.createElement("script"),ft(p),At(p,"link",u),t.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,tl(u,o.precedence,t));return s.instance}function tl(t,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,y=p,S=0;S<u.length;S++){var x=u[S];if(x.dataset.precedence===s)y=x;else if(y!==p)break}y?y.parentNode.insertBefore(t,y.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(t,s.firstChild))}function Zc(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function ed(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var nl=null;function Bm(t,s,o){if(nl===null){var u=new Map,p=nl=new Map;p.set(o,u)}else p=nl,u=p.get(o),u||(u=new Map,p.set(o,u));if(u.has(t))return u;for(u.set(t,null),o=o.getElementsByTagName(t),p=0;p<o.length;p++){var y=o[p];if(!(y[Wi]||y[Xe]||t==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var S=y.getAttribute(s)||"";S=t+S;var x=u.get(S);x?x.push(y):u.set(S,[y])}}return u}function zm(t,s,o){t=t.ownerDocument||t,t.head.insertBefore(o,s==="title"?t.querySelector("head > title"):null)}function pb(t,s,o){if(o===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Vm(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function mb(t,s,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=or(u.href),y=s.querySelector(wo(p));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=il.bind(t),s.then(t,t)),o.state.loading|=4,o.instance=y,ft(y);return}y=s.ownerDocument||s,u=Hm(u),(p=hn.get(p))&&Zc(u,p),y=y.createElement("link"),ft(y);var S=y;S._p=new Promise(function(x,C){S.onload=x,S.onerror=C}),At(y,"link",u),o.instance=y}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(t.count++,o=il.bind(t),s.addEventListener("load",o),s.addEventListener("error",o))}}var td=0;function gb(t,s){return t.stylesheets&&t.count===0&&rl(t,t.stylesheets),0<t.count||0<t.imgCount?function(o){var u=setTimeout(function(){if(t.stylesheets&&rl(t,t.stylesheets),t.unsuspend){var y=t.unsuspend;t.unsuspend=null,y()}},6e4+s);0<t.imgBytes&&td===0&&(td=62500*QE());var p=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&rl(t,t.stylesheets),t.unsuspend)){var y=t.unsuspend;t.unsuspend=null,y()}},(t.imgBytes>td?50:800)+s);return t.unsuspend=o,function(){t.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function il(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)rl(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var sl=null;function rl(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,sl=new Map,s.forEach(yb,t),sl=null,il.call(t))}function yb(t,s){if(!(s.state.loading&4)){var o=sl.get(t);if(o)var u=o.get(null);else{o=new Map,sl.set(t,o);for(var p=t.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var S=p[y];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),u=S)}u&&o.set(null,u)}p=s.instance,S=p.getAttribute("data-precedence"),y=o.get(S)||u,y===u&&o.set(null,p),o.set(S,p),this.count++,u=il.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),y?y.parentNode.insertBefore(p,y.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(p,t.firstChild)),s.state.loading|=4}}var Co={$$typeof:k,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function vb(t,s,o,u,p,y,S,x,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function jm(t,s,o,u,p,y,S,x,C,O,B,F){return t=new vb(t,s,o,S,C,O,B,F,x),s=1,y===!0&&(s|=24),y=Qt(3,null,null,s),t.current=y,y.stateNode=t,s=Uu(),s.refCount++,t.pooledCache=s,s.refCount++,y.memoizedState={element:u,isDehydrated:o,cache:s},qu(y),t}function Fm(t){return t?(t=qs,t):qs}function $m(t,s,o,u,p,y){p=Fm(p),u.context===null?u.context=p:u.pendingContext=p,u=Ai(s),u.payload={element:o},y=y===void 0?null:y,y!==null&&(u.callback=y),o=Ci(t,u,s),o!==null&&($t(o,t,s),so(o,t,s))}function Jm(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<s?o:s}}function nd(t,s){Jm(t,s),(t=t.alternate)&&Jm(t,s)}function Ym(t){if(t.tag===13||t.tag===31){var s=is(t,67108864);s!==null&&$t(s,t,67108864),nd(t,67108864)}}function Km(t){if(t.tag===13||t.tag===31){var s=tn();s=qn(s);var o=is(t,s);o!==null&&$t(o,t,s),nd(t,s)}}var ol=!0;function _b(t,s,o,u){var p=H.T;H.T=null;var y=W.p;try{W.p=2,id(t,s,o,u)}finally{W.p=y,H.T=p}}function Eb(t,s,o,u){var p=H.T;H.T=null;var y=W.p;try{W.p=8,id(t,s,o,u)}finally{W.p=y,H.T=p}}function id(t,s,o,u){if(ol){var p=sd(u);if(p===null)Vc(t,s,u,al,o),Xm(t,u);else if(Sb(p,t,s,o,u))u.stopPropagation();else if(Xm(t,u),s&4&&-1<bb.indexOf(t)){for(;p!==null;){var y=yi(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var S=Ue(y.pendingLanes);if(S!==0){var x=y;for(x.pendingLanes|=2,x.entangledLanes|=2;S;){var C=1<<31-dt(S);x.entanglements[1]|=C,S&=~C}In(y),(Ge&6)===0&&(Va=Rt()+500,bo(0))}}break;case 31:case 13:x=is(y,2),x!==null&&$t(x,y,2),Fa(),nd(y,2)}if(y=sd(u),y===null&&Vc(t,s,u,al,o),y===p)break;p=y}p!==null&&u.stopPropagation()}else Vc(t,s,u,null,o)}}function sd(t){return t=ou(t),rd(t)}var al=null;function rd(t){if(al=null,t=gi(t),t!==null){var s=l(t);if(s===null)t=null;else{var o=s.tag;if(o===13){if(t=c(s),t!==null)return t;t=null}else if(o===31){if(t=h(s),t!==null)return t;t=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return al=t,null}function Qm(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(eu()){case di:return 2;case As:return 8;case je:case rn:return 32;case fi:return 268435456;default:return 32}default:return 32}}var od=!1,qi=null,Hi=null,Gi=null,No=new Map,Ro=new Map,Bi=[],bb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xm(t,s){switch(t){case"focusin":case"focusout":qi=null;break;case"dragenter":case"dragleave":Hi=null;break;case"mouseover":case"mouseout":Gi=null;break;case"pointerover":case"pointerout":No.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ro.delete(s.pointerId)}}function Mo(t,s,o,u,p,y){return t===null||t.nativeEvent!==y?(t={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:y,targetContainers:[p]},s!==null&&(s=yi(s),s!==null&&Ym(s)),t):(t.eventSystemFlags|=u,s=t.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),t)}function Sb(t,s,o,u,p){switch(s){case"focusin":return qi=Mo(qi,t,s,o,u,p),!0;case"dragenter":return Hi=Mo(Hi,t,s,o,u,p),!0;case"mouseover":return Gi=Mo(Gi,t,s,o,u,p),!0;case"pointerover":var y=p.pointerId;return No.set(y,Mo(No.get(y)||null,t,s,o,u,p)),!0;case"gotpointercapture":return y=p.pointerId,Ro.set(y,Mo(Ro.get(y)||null,t,s,o,u,p)),!0}return!1}function Wm(t){var s=gi(t.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){t.blockedOn=s,Or(t.priority,function(){Km(o)});return}}else if(s===31){if(s=h(o),s!==null){t.blockedOn=s,Or(t.priority,function(){Km(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ll(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var o=sd(t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);ru=u,o.target.dispatchEvent(u),ru=null}else return s=yi(o),s!==null&&Ym(s),t.blockedOn=o,!1;s.shift()}return!0}function Zm(t,s,o){ll(t)&&o.delete(s)}function Tb(){od=!1,qi!==null&&ll(qi)&&(qi=null),Hi!==null&&ll(Hi)&&(Hi=null),Gi!==null&&ll(Gi)&&(Gi=null),No.forEach(Zm),Ro.forEach(Zm)}function ul(t,s){t.blockedOn===s&&(t.blockedOn=null,od||(od=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Tb)))}var cl=null;function eg(t){cl!==t&&(cl=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){cl===t&&(cl=null);for(var s=0;s<t.length;s+=3){var o=t[s],u=t[s+1],p=t[s+2];if(typeof u!="function"){if(rd(u||o)===null)continue;break}var y=yi(o);y!==null&&(t.splice(s,3),s-=3,sc(y,{pending:!0,data:p,method:o.method,action:u},u,p))}}))}function lr(t){function s(C){return ul(C,t)}qi!==null&&ul(qi,t),Hi!==null&&ul(Hi,t),Gi!==null&&ul(Gi,t),No.forEach(s),Ro.forEach(s);for(var o=0;o<Bi.length;o++){var u=Bi[o];u.blockedOn===t&&(u.blockedOn=null)}for(;0<Bi.length&&(o=Bi[0],o.blockedOn===null);)Wm(o),o.blockedOn===null&&Bi.shift();if(o=(t.ownerDocument||t).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var p=o[u],y=o[u+1],S=p[Se]||null;if(typeof y=="function")S||eg(o);else if(S){var x=null;if(y&&y.hasAttribute("formAction")){if(p=y,S=y[Se]||null)x=S.formAction;else if(rd(p)!==null)continue}else x=S.action;typeof x=="function"?o[u+1]=x:(o.splice(u,3),u-=3),eg(o)}}}function tg(){function t(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(S){return p=S})},focusReset:"manual",scroll:"manual"})}function s(){p!==null&&(p(),p=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),p!==null&&(p(),p=null)}}}function ad(t){this._internalRoot=t}dl.prototype.render=ad.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=tn();$m(o,u,t,s,null,null)},dl.prototype.unmount=ad.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;$m(t.current,2,null,t,null,null),Fa(),s[Gn]=null}};function dl(t){this._internalRoot=t}dl.prototype.unstable_scheduleHydration=function(t){if(t){var s=Pr();t={blockedOn:null,target:t,priority:s};for(var o=0;o<Bi.length&&s!==0&&s<Bi[o].priority;o++);Bi.splice(o,0,t),o===0&&Wm(t)}};var ng=e.version;if(ng!=="19.2.1")throw Error(r(527,ng,"19.2.1"));W.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=m(s),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var xb={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fl.isDisabled&&fl.supportsFiber)try{Ln=fl.inject(xb),Mt=fl}catch{}}return Do.createRoot=function(t,s){if(!a(t))throw Error(r(299));var o=!1,u="",p=up,y=cp,S=dp;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError)),s=jm(t,1,!1,null,null,o,u,null,p,y,S,tg),t[Gn]=s.current,zc(t),new ad(s)},Do.hydrateRoot=function(t,s,o){if(!a(t))throw Error(r(299));var u=!1,p="",y=up,S=cp,x=dp,C=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(x=o.onRecoverableError),o.formState!==void 0&&(C=o.formState)),s=jm(t,1,!0,s,o??null,u,p,C,y,S,x,tg),s.context=Fm(null),o=s.current,u=tn(),u=qn(u),p=Ai(u),p.callback=null,Ci(o,p,u),o=u,s.current.lanes=o,Cn(s,o),In(s),t[Gn]=s.current,zc(t),new dl(s)},Do.version="19.2.1",Do}var fg;function Ob(){if(fg)return cd.exports;fg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),cd.exports=Pb(),cd.exports}var Lb=Ob();const qb=nf(Lb);var tt=(n=>(n.PDF="PDF",n.PPT="PPT",n.NOTES="NOTES",n.HTML="HTML",n))(tt||{}),yt=(n=>(n.FREE="FREE",n.SILVER="SILVER",n.GOLD="GOLD",n.DIAMOND="DIAMOND",n))(yt||{}),we=(n=>(n.HOME="HOME",n.DASHBOARD="DASHBOARD",n.SAVED="SAVED",n.UPLOAD="UPLOAD",n.DETAILS="DETAILS",n.ADMIN_LOGIN="ADMIN_LOGIN",n.TERMS="TERMS",n.PRIVACY="PRIVACY",n.REFUND="REFUND",n.CONTACT="CONTACT",n.MOCK_TEST_LIST="MOCK_TEST_LIST",n.MOCK_TEST_ATTEMPT="MOCK_TEST_ATTEMPT",n.MOCK_TEST_RESULT="MOCK_TEST_RESULT",n))(we||{});/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Gb=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),hg=n=>{const e=Gb(n);return e.charAt(0).toUpperCase()+e.slice(1)},S0=(...n)=>n.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),Bb=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=K.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:c,...h},g)=>K.createElement("svg",{ref:g,...zb,width:e,height:e,stroke:n,strokeWidth:r?Number(i)*24/Number(e):i,className:S0("lucide",a),...!l&&!Bb(h)&&{"aria-hidden":"true"},...h},[...c.map(([m,_])=>K.createElement(m,_)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=(n,e)=>{const i=K.forwardRef(({className:r,...a},l)=>K.createElement(Vb,{ref:l,iconNode:e,className:S0(`lucide-${Hb(hg(n))}`,`lucide-${n}`,r),...a}));return i.displayName=hg(n),i};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],jl=ge("arrow-left",jb);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Rl=ge("arrow-right",Fb);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],wd=ge("book-open",$b);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Yb=ge("calendar",Jb);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Qb=ge("chevron-right",Kb);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Wb=ge("chevron-left",Xb);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],eS=ge("circle-alert",Zb);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Fl=ge("circle-check-big",tS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],pd=ge("clipboard-list",nS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],T0=ge("clock",iS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],x0=ge("code",sS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],oS=ge("credit-card",rS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],pg=ge("crown",aS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],uS=ge("dollar-sign",lS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],dS=ge("external-link",cS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],hS=ge("eye-off",fS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],mS=ge("eye",pS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],mg=ge("file-check",gS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Sl=ge("file-text",yS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]],_S=ge("fingerprint-pattern",vS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],bS=ge("globe",ES);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Ad=ge("graduation-cap",SS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],xS=ge("house",TS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],w0=ge("info",wS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],CS=ge("layers",AS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],md=ge("list",NS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ml=ge("loader-circle",RS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ho=ge("lock",MS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Cd=ge("mail",IS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],kS=ge("map-pin",DS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],A0=ge("menu",US);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]],OS=ge("presentation",PS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],rf=ge("refresh-cw",LS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],HS=ge("search",qS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],BS=ge("settings",GS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],C0=ge("shield-check",zS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Nd=ge("shield",VS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],gg=ge("sparkles",jS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],yg=ge("square-pen",FS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],vg=ge("star",$S);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],YS=ge("sticky-note",JS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],QS=ge("toggle-right",KS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ur=ge("trash-2",XS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Rd=ge("triangle-alert",WS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],_g=ge("upload",ZS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],tT=ge("user-check",eT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],iT=ge("user",nT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],rT=ge("users",sT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],of=ge("x",oT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],lT=ge("zap",aT),uT=({currentView:n,onChangeView:e,isAdmin:i,onToggleAdmin:r,onRefresh:a,isRefreshing:l})=>v.jsx("nav",{className:"sticky top-0 z-50 bg-white/90 backdrop-blur-md shadow-sm border-b border-indigo-100",children:v.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:v.jsxs("div",{className:"flex justify-between h-16",children:[v.jsx("div",{className:"flex items-center cursor-pointer",onClick:()=>e(we.HOME),children:v.jsxs("div",{className:"flex-shrink-0 flex items-center gap-3",children:[v.jsx("div",{className:"bg-gradient-to-br from-primary to-purple-600 p-2 rounded-lg shadow-md shadow-indigo-200",children:v.jsx(Ad,{className:"h-6 w-6 text-white"})}),v.jsxs("div",{className:"flex flex-col",children:[v.jsx("span",{className:"font-extrabold text-xl text-transparent bg-clip-text bg-gradient-to-r from-primary to-secondary tracking-tight leading-none",children:"DPR"}),v.jsx("span",{className:"text-[10px] font-bold text-slate-500 tracking-widest uppercase",children:"Study Centre"})]})]})}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("button",{onClick:a,disabled:l,className:`p-2 rounded-full transition-all duration-300 text-slate-500 hover:text-primary hover:bg-indigo-50 ${l?"opacity-70 cursor-wait":""}`,title:"Refresh Data",children:v.jsx(rf,{className:`h-4 w-4 ${l?"animate-spin text-primary":""}`})}),v.jsxs("button",{onClick:()=>e(we.HOME),className:`flex items-center gap-2 px-3 py-2 rounded-full text-sm font-medium transition-all duration-300 ${n===we.HOME?"text-white bg-primary shadow-md shadow-indigo-200":"text-slate-600 hover:text-primary hover:bg-indigo-50"}`,children:[v.jsx(xS,{className:"h-4 w-4"}),v.jsx("span",{className:"hidden lg:inline",children:"Home"})]}),v.jsx("button",{onClick:r,className:`ml-1 p-2 rounded-full transition-all duration-300 opacity-100 ${i?"bg-slate-900 text-white shadow-lg ring-2 ring-slate-200 ring-offset-2":"bg-slate-100 text-slate-500 hover:bg-indigo-100 hover:text-primary"}`,title:i?"Exit Admin Mode":"Enter Admin Mode",children:v.jsx(Nd,{className:"h-4 w-4"})})]})]})})}),N0=({material:n,onClick:e})=>{const i=()=>{switch(n.type){case tt.PDF:return v.jsx(Sl,{className:"h-6 w-6 text-rose-500"});case tt.PPT:return v.jsx(OS,{className:"h-6 w-6 text-orange-500"});case tt.HTML:return v.jsx(Sl,{className:"h-6 w-6 text-blue-500"});case tt.NOTES:return v.jsx(YS,{className:"h-6 w-6 text-purple-500"});default:return v.jsx(Sl,{className:"h-6 w-6 text-slate-500"})}},r=()=>n.type===tt.HTML?"PDF Content":n.format||"Document";return v.jsxs("div",{className:"group relative bg-white rounded-2xl border border-indigo-100 shadow-sm hover:shadow-xl hover:border-primary/40 hover:-translate-y-1 transition-all duration-300 overflow-hidden flex flex-col h-full cursor-pointer",onClick:()=>e(n),children:[v.jsxs("div",{className:"p-5 flex-1",children:[v.jsxs("div",{className:"flex justify-between items-start mb-4",children:[v.jsx("div",{className:"p-3 bg-surface rounded-xl group-hover:bg-indigo-50 transition-colors border border-indigo-50",children:i()}),v.jsxs("div",{className:"flex gap-1 flex-col items-end pt-1",children:[n.categoryName&&v.jsx("span",{className:"text-[10px] uppercase font-bold tracking-wider text-primary/70",children:n.categoryName}),v.jsx("span",{className:"text-[10px] font-bold px-2 py-0.5 bg-slate-100 text-slate-600 rounded-md border border-slate-200",children:r()})]})]}),v.jsx("h3",{className:"text-lg font-bold mb-2 line-clamp-2 transition-colors group-hover:text-primary text-slate-900 leading-tight",children:n.title}),v.jsx("p",{className:"text-sm text-slate-500 mb-4 line-clamp-2",children:n.description}),v.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:n.tags.slice(0,3).map(a=>v.jsxs("span",{className:"text-xs text-indigo-600 bg-indigo-50 px-2 py-1 rounded-md font-medium border border-indigo-100",children:["#",a]},a))})]}),v.jsxs("div",{className:"px-5 py-3 bg-surface border-t border-indigo-50 flex justify-between items-center text-xs text-slate-500",children:[v.jsxs("div",{className:"flex items-center gap-1 font-medium",children:[v.jsx(T0,{className:"h-3 w-3 text-slate-400"}),new Date(n.uploadDate).toLocaleDateString()]}),v.jsx("div",{className:"flex items-center gap-2",children:v.jsxs("button",{className:"flex items-center gap-1 font-bold px-3 py-1.5 rounded-full transition-all cursor-pointer text-white bg-primary hover:bg-primaryDark shadow-md shadow-indigo-200",children:["View ",v.jsx(Rl,{className:"h-3 w-3"})]})})]})]})},R0=({adCode:n,format:e="BANNER",className:i=""})=>{const r=K.useRef(null),a=e==="POPUNDER"||e==="INTERSTITIAL";K.useEffect(()=>{if(r.current){r.current.innerHTML="";const c=document.createElement("div");c.innerHTML=n;const h=Array.from(c.querySelectorAll("script"));Array.from(c.childNodes).forEach(g=>{var m;g.nodeName!=="SCRIPT"&&((m=r.current)==null||m.appendChild(g.cloneNode(!0)))}),h.forEach(g=>{var _;const m=document.createElement("script");Array.from(g.attributes).forEach(E=>{m.setAttribute(E.name,E.value)}),m.appendChild(document.createTextNode(g.innerHTML)),(_=r.current)==null||_.appendChild(m)})}},[n]);const l=a?{width:0,height:0,overflow:"hidden",position:"absolute"}:{minHeight:"50px"};return v.jsx("div",{ref:r,className:`ui-content-spacer ${a?"":"overflow-hidden"} ${i}`,style:l})};var ri={},hl={},Md=function(n,e){return Md=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},Md(n,e)};function M0(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Md(n,e);function i(){this.constructor=n}n.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}var Il=function(){return Il=Object.assign||function(e){for(var i,r=1,a=arguments.length;r<a;r++){i=arguments[r];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(e[l]=i[l])}return e},Il.apply(this,arguments)};function xr(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(i[r[a]]=n[r[a]]);return i}function I0(n,e,i,r){var a=arguments.length,l=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,i):r,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(n,e,i,r);else for(var h=n.length-1;h>=0;h--)(c=n[h])&&(l=(a<3?c(l):a>3?c(e,i,l):c(e,i))||l);return a>3&&l&&Object.defineProperty(e,i,l),l}function D0(n,e){return function(i,r){e(i,r,n)}}function k0(n,e,i,r,a,l){function c(P){if(P!==void 0&&typeof P!="function")throw new TypeError("Function expected");return P}for(var h=r.kind,g=h==="getter"?"get":h==="setter"?"set":"value",m=!e&&n?r.static?n:n.prototype:null,_=e||(m?Object.getOwnPropertyDescriptor(m,r.name):{}),E,b=!1,T=i.length-1;T>=0;T--){var A={};for(var N in r)A[N]=N==="access"?{}:r[N];for(var N in r.access)A.access[N]=r.access[N];A.addInitializer=function(P){if(b)throw new TypeError("Cannot add initializers after decoration has completed");l.push(c(P||null))};var R=(0,i[T])(h==="accessor"?{get:_.get,set:_.set}:_[g],A);if(h==="accessor"){if(R===void 0)continue;if(R===null||typeof R!="object")throw new TypeError("Object expected");(E=c(R.get))&&(_.get=E),(E=c(R.set))&&(_.set=E),(E=c(R.init))&&a.unshift(E)}else(E=c(R))&&(h==="field"?a.unshift(E):_[g]=E)}m&&Object.defineProperty(m,r.name,_),b=!0}function U0(n,e,i){for(var r=arguments.length>2,a=0;a<e.length;a++)i=r?e[a].call(n,i):e[a].call(n);return r?i:void 0}function P0(n){return typeof n=="symbol"?n:"".concat(n)}function O0(n,e,i){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:i?"".concat(i," ",e):e})}function L0(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function oe(n,e,i,r){function a(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function h(_){try{m(r.next(_))}catch(E){c(E)}}function g(_){try{m(r.throw(_))}catch(E){c(E)}}function m(_){_.done?l(_.value):a(_.value).then(h,g)}m((r=r.apply(n,e||[])).next())})}function q0(n,e){var i={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,a,l,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=h(0),c.throw=h(1),c.return=h(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(m){return function(_){return g([m,_])}}function g(m){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(i=0)),i;)try{if(r=1,a&&(l=m[0]&2?a.return:m[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,m[1])).done)return l;switch(a=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return i.label++,{value:m[1],done:!1};case 5:i.label++,a=m[1],m=[0];continue;case 7:m=i.ops.pop(),i.trys.pop();continue;default:if(l=i.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){i=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){i.label=m[1];break}if(m[0]===6&&i.label<l[1]){i.label=l[1],l=m;break}if(l&&i.label<l[2]){i.label=l[2],i.ops.push(m);break}l[2]&&i.ops.pop(),i.trys.pop();continue}m=e.call(n,i)}catch(_){m=[6,_],a=0}finally{r=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var $l=Object.create?(function(n,e,i,r){r===void 0&&(r=i);var a=Object.getOwnPropertyDescriptor(e,i);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(n,r,a)}):(function(n,e,i,r){r===void 0&&(r=i),n[r]=e[i]});function H0(n,e){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(e,i)&&$l(e,n,i)}function Dl(n){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&n[e],r=0;if(i)return i.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function af(n,e){var i=typeof Symbol=="function"&&n[Symbol.iterator];if(!i)return n;var r=i.call(n),a,l=[],c;try{for(;(e===void 0||e-- >0)&&!(a=r.next()).done;)l.push(a.value)}catch(h){c={error:h}}finally{try{a&&!a.done&&(i=r.return)&&i.call(r)}finally{if(c)throw c.error}}return l}function G0(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(af(arguments[e]));return n}function B0(){for(var n=0,e=0,i=arguments.length;e<i;e++)n+=arguments[e].length;for(var r=Array(n),a=0,e=0;e<i;e++)for(var l=arguments[e],c=0,h=l.length;c<h;c++,a++)r[a]=l[c];return r}function z0(n,e,i){if(i||arguments.length===2)for(var r=0,a=e.length,l;r<a;r++)(l||!(r in e))&&(l||(l=Array.prototype.slice.call(e,0,r)),l[r]=e[r]);return n.concat(l||Array.prototype.slice.call(e))}function Sr(n){return this instanceof Sr?(this.v=n,this):new Sr(n)}function V0(n,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=i.apply(n,e||[]),a,l=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",c),a[Symbol.asyncIterator]=function(){return this},a;function c(T){return function(A){return Promise.resolve(A).then(T,E)}}function h(T,A){r[T]&&(a[T]=function(N){return new Promise(function(R,P){l.push([T,N,R,P])>1||g(T,N)})},A&&(a[T]=A(a[T])))}function g(T,A){try{m(r[T](A))}catch(N){b(l[0][3],N)}}function m(T){T.value instanceof Sr?Promise.resolve(T.value.v).then(_,E):b(l[0][2],T)}function _(T){g("next",T)}function E(T){g("throw",T)}function b(T,A){T(A),l.shift(),l.length&&g(l[0][0],l[0][1])}}function j0(n){var e,i;return e={},r("next"),r("throw",function(a){throw a}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(a,l){e[a]=n[a]?function(c){return(i=!i)?{value:Sr(n[a](c)),done:!1}:l?l(c):c}:l}}function F0(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],i;return e?e.call(n):(n=typeof Dl=="function"?Dl(n):n[Symbol.iterator](),i={},r("next"),r("throw"),r("return"),i[Symbol.asyncIterator]=function(){return this},i);function r(l){i[l]=n[l]&&function(c){return new Promise(function(h,g){c=n[l](c),a(h,g,c.done,c.value)})}}function a(l,c,h,g){Promise.resolve(g).then(function(m){l({value:m,done:h})},c)}}function $0(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}var cT=Object.create?(function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}):function(n,e){n.default=e},Id=function(n){return Id=Object.getOwnPropertyNames||function(e){var i=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[i.length]=r);return i},Id(n)};function J0(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var i=Id(n),r=0;r<i.length;r++)i[r]!=="default"&&$l(e,n,i[r]);return cT(e,n),e}function Y0(n){return n&&n.__esModule?n:{default:n}}function K0(n,e,i,r){if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?r:i==="a"?r.call(n):r?r.value:e.get(n)}function Q0(n,e,i,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!a:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(n,i):a?a.value=i:e.set(n,i),i}function X0(n,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?e===n:n.has(e)}function W0(n,e,i){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,a;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],i&&(a=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");a&&(r=function(){try{a.call(this)}catch(l){return Promise.reject(l)}}),n.stack.push({value:e,dispose:r,async:i})}else i&&n.stack.push({async:!0});return e}var dT=typeof SuppressedError=="function"?SuppressedError:function(n,e,i){var r=new Error(i);return r.name="SuppressedError",r.error=n,r.suppressed=e,r};function Z0(n){function e(l){n.error=n.hasError?new dT(l,n.error,"An error was suppressed during disposal."):l,n.hasError=!0}var i,r=0;function a(){for(;i=n.stack.pop();)try{if(!i.async&&r===1)return r=0,n.stack.push(i),Promise.resolve().then(a);if(i.dispose){var l=i.dispose.call(i.value);if(i.async)return r|=2,Promise.resolve(l).then(a,function(c){return e(c),a()})}else r|=1}catch(c){e(c)}if(r===1)return n.hasError?Promise.reject(n.error):Promise.resolve();if(n.hasError)throw n.error}return a()}function ev(n,e){return typeof n=="string"&&/^\.\.?\//.test(n)?n.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(i,r,a,l,c){return r?e?".jsx":".js":a&&(!l||!c)?i:a+l+"."+c.toLowerCase()+"js"}):n}const fT={__extends:M0,__assign:Il,__rest:xr,__decorate:I0,__param:D0,__esDecorate:k0,__runInitializers:U0,__propKey:P0,__setFunctionName:O0,__metadata:L0,__awaiter:oe,__generator:q0,__createBinding:$l,__exportStar:H0,__values:Dl,__read:af,__spread:G0,__spreadArrays:B0,__spreadArray:z0,__await:Sr,__asyncGenerator:V0,__asyncDelegator:j0,__asyncValues:F0,__makeTemplateObject:$0,__importStar:J0,__importDefault:Y0,__classPrivateFieldGet:K0,__classPrivateFieldSet:Q0,__classPrivateFieldIn:X0,__addDisposableResource:W0,__disposeResources:Z0,__rewriteRelativeImportExtension:ev},hT=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:W0,get __assign(){return Il},__asyncDelegator:j0,__asyncGenerator:V0,__asyncValues:F0,__await:Sr,__awaiter:oe,__classPrivateFieldGet:K0,__classPrivateFieldIn:X0,__classPrivateFieldSet:Q0,__createBinding:$l,__decorate:I0,__disposeResources:Z0,__esDecorate:k0,__exportStar:H0,__extends:M0,__generator:q0,__importDefault:Y0,__importStar:J0,__makeTemplateObject:$0,__metadata:L0,__param:D0,__propKey:P0,__read:af,__rest:xr,__rewriteRelativeImportExtension:ev,__runInitializers:U0,__setFunctionName:O0,__spread:G0,__spreadArray:z0,__spreadArrays:B0,__values:Dl,default:fT},Symbol.toStringTag,{value:"Module"})),pT=n=>n?(...e)=>n(...e):(...e)=>fetch(...e);let Jl=class extends Error{constructor(e,i="FunctionsError",r){super(e),this.name=i,this.context=r}},tv=class extends Jl{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},Dd=class extends Jl{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},kd=class extends Jl{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var kl;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(kl||(kl={}));class mT{constructor(e,{headers:i={},customFetch:r,region:a=kl.Any}={}){this.url=e,this.headers=i,this.region=a,this.fetch=pT(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return oe(this,arguments,void 0,function*(i,r={}){var a;let l,c;try{const{headers:h,method:g,body:m,signal:_,timeout:E}=r;let b={},{region:T}=r;T||(T=this.region);const A=new URL(`${this.url}/${i}`);T&&T!=="any"&&(b["x-region"]=T,A.searchParams.set("forceFunctionRegion",T));let N;m&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",N=m):typeof m=="string"?(b["Content-Type"]="text/plain",N=m):typeof FormData<"u"&&m instanceof FormData?N=m:(b["Content-Type"]="application/json",N=JSON.stringify(m)):N=m;let R=_;E&&(c=new AbortController,l=setTimeout(()=>c.abort(),E),_?(R=c.signal,_.addEventListener("abort",()=>c.abort())):R=c.signal);const P=yield this.fetch(A.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),h),body:N,signal:R}).catch(Y=>{throw new tv(Y)}),L=P.headers.get("x-relay-error");if(L&&L==="true")throw new Dd(P);if(!P.ok)throw new kd(P);let k=((a=P.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),j;return k==="application/json"?j=yield P.json():k==="application/octet-stream"||k==="application/pdf"?j=yield P.blob():k==="text/event-stream"?j=P:k==="multipart/form-data"?j=yield P.formData():j=yield P.text(),{data:j,error:null,response:P}}catch(h){return{data:null,error:h,response:h instanceof kd||h instanceof Dd?h.context:void 0}}finally{l&&clearTimeout(l)}})}}const gT=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return kl},FunctionsClient:mT,FunctionsError:Jl,FunctionsFetchError:tv,FunctionsHttpError:kd,FunctionsRelayError:Dd},Symbol.toStringTag,{value:"Module"})),nv=zo(gT);var kt={};const wr=zo(hT);var pl={},ml={},gl={},yl={},vl={},_l={},Eg;function iv(){if(Eg)return _l;Eg=1,Object.defineProperty(_l,"__esModule",{value:!0});class n extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}}return _l.default=n,_l}var bg;function sv(){if(bg)return vl;bg=1,Object.defineProperty(vl,"__esModule",{value:!0});const e=wr.__importDefault(iv());let i=class{constructor(a){var l,c;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(l=a.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=a.signal,this.isMaybeSingle=(c=a.isMaybeSingle)!==null&&c!==void 0?c:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,l){return this.headers=new Headers(this.headers),this.headers.set(a,l),this}then(a,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let h=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var m,_,E,b;let T=null,A=null,N=null,R=g.status,P=g.statusText;if(g.ok){if(this.method!=="HEAD"){const Y=await g.text();Y===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?A=Y:A=JSON.parse(Y))}const k=(_=this.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),j=(E=g.headers.get("content-range"))===null||E===void 0?void 0:E.split("/");k&&j&&j.length>1&&(N=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(A)&&(A.length>1?(T={code:"PGRST116",details:`Results contain ${A.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},A=null,N=null,R=406,P="Not Acceptable"):A.length===1?A=A[0]:A=null)}else{const k=await g.text();try{T=JSON.parse(k),Array.isArray(T)&&g.status===404&&(A=[],T=null,R=200,P="OK")}catch{g.status===404&&k===""?(R=204,P="No Content"):T={message:k}}if(T&&this.isMaybeSingle&&(!((b=T==null?void 0:T.details)===null||b===void 0)&&b.includes("0 rows"))&&(T=null,R=200,P="OK"),T&&this.shouldThrowOnError)throw new e.default(T)}return{error:T,data:A,count:N,status:R,statusText:P}});return this.shouldThrowOnError||(h=h.catch(g=>{var m,_,E,b,T,A;let N="";const R=g==null?void 0:g.cause;if(R){const P=(m=R==null?void 0:R.message)!==null&&m!==void 0?m:"",L=(_=R==null?void 0:R.code)!==null&&_!==void 0?_:"";N=`${(E=g==null?void 0:g.name)!==null&&E!==void 0?E:"FetchError"}: ${g==null?void 0:g.message}`,N+=`

Caused by: ${(b=R==null?void 0:R.name)!==null&&b!==void 0?b:"Error"}: ${P}`,L&&(N+=` (${L})`),R!=null&&R.stack&&(N+=`
${R.stack}`)}else N=(T=g==null?void 0:g.stack)!==null&&T!==void 0?T:"";return{error:{message:`${(A=g==null?void 0:g.name)!==null&&A!==void 0?A:"FetchError"}: ${g==null?void 0:g.message}`,details:N,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),h.then(a,l)}returns(){return this}overrideTypes(){return this}};return vl.default=i,vl}var Sg;function rv(){if(Sg)return yl;Sg=1,Object.defineProperty(yl,"__esModule",{value:!0});const e=wr.__importDefault(sv());let i=class extends e.default{select(a){let l=!1;const c=(a??"*").split("").map(h=>/\s/.test(h)&&!l?"":(h==='"'&&(l=!l),h)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:l=!0,nullsFirst:c,foreignTable:h,referencedTable:g=h}={}){const m=g?`${g}.order`:"order",_=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${_?`${_},`:""}${a}.${l?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:l,referencedTable:c=l}={}){const h=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(h,`${a}`),this}range(a,l,{foreignTable:c,referencedTable:h=c}={}){const g=typeof h>"u"?"offset":`${h}.offset`,m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(g,`${a}`),this.url.searchParams.set(m,`${l-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:l=!1,settings:c=!1,buffers:h=!1,wal:g=!1,format:m="text"}={}){var _;const E=[a?"analyze":null,l?"verbose":null,c?"settings":null,h?"buffers":null,g?"wal":null].filter(Boolean).join("|"),b=(_=this.headers.get("Accept"))!==null&&_!==void 0?_:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${b}"; options=${E};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}};return yl.default=i,yl}var Tg;function lf(){if(Tg)return gl;Tg=1,Object.defineProperty(gl,"__esModule",{value:!0});const e=wr.__importDefault(rv()),i=new RegExp("[,()]");let r=class extends e.default{eq(l,c){return this.url.searchParams.append(l,`eq.${c}`),this}neq(l,c){return this.url.searchParams.append(l,`neq.${c}`),this}gt(l,c){return this.url.searchParams.append(l,`gt.${c}`),this}gte(l,c){return this.url.searchParams.append(l,`gte.${c}`),this}lt(l,c){return this.url.searchParams.append(l,`lt.${c}`),this}lte(l,c){return this.url.searchParams.append(l,`lte.${c}`),this}like(l,c){return this.url.searchParams.append(l,`like.${c}`),this}likeAllOf(l,c){return this.url.searchParams.append(l,`like(all).{${c.join(",")}}`),this}likeAnyOf(l,c){return this.url.searchParams.append(l,`like(any).{${c.join(",")}}`),this}ilike(l,c){return this.url.searchParams.append(l,`ilike.${c}`),this}ilikeAllOf(l,c){return this.url.searchParams.append(l,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(l,c){return this.url.searchParams.append(l,`ilike(any).{${c.join(",")}}`),this}regexMatch(l,c){return this.url.searchParams.append(l,`match.${c}`),this}regexIMatch(l,c){return this.url.searchParams.append(l,`imatch.${c}`),this}is(l,c){return this.url.searchParams.append(l,`is.${c}`),this}isDistinct(l,c){return this.url.searchParams.append(l,`isdistinct.${c}`),this}in(l,c){const h=Array.from(new Set(c)).map(g=>typeof g=="string"&&i.test(g)?`"${g}"`:`${g}`).join(",");return this.url.searchParams.append(l,`in.(${h})`),this}contains(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cs.{${c.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(c)}`),this}containedBy(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cd.{${c.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(c)}`),this}rangeGt(l,c){return this.url.searchParams.append(l,`sr.${c}`),this}rangeGte(l,c){return this.url.searchParams.append(l,`nxl.${c}`),this}rangeLt(l,c){return this.url.searchParams.append(l,`sl.${c}`),this}rangeLte(l,c){return this.url.searchParams.append(l,`nxr.${c}`),this}rangeAdjacent(l,c){return this.url.searchParams.append(l,`adj.${c}`),this}overlaps(l,c){return typeof c=="string"?this.url.searchParams.append(l,`ov.${c}`):this.url.searchParams.append(l,`ov.{${c.join(",")}}`),this}textSearch(l,c,{config:h,type:g}={}){let m="";g==="plain"?m="pl":g==="phrase"?m="ph":g==="websearch"&&(m="w");const _=h===void 0?"":`(${h})`;return this.url.searchParams.append(l,`${m}fts${_}.${c}`),this}match(l){return Object.entries(l).forEach(([c,h])=>{this.url.searchParams.append(c,`eq.${h}`)}),this}not(l,c,h){return this.url.searchParams.append(l,`not.${c}.${h}`),this}or(l,{foreignTable:c,referencedTable:h=c}={}){const g=h?`${h}.or`:"or";return this.url.searchParams.append(g,`(${l})`),this}filter(l,c,h){return this.url.searchParams.append(l,`${c}.${h}`),this}};return gl.default=r,gl}var xg;function ov(){if(xg)return ml;xg=1,Object.defineProperty(ml,"__esModule",{value:!0});const e=wr.__importDefault(lf());let i=class{constructor(a,{headers:l={},schema:c,fetch:h}){this.url=a,this.headers=new Headers(l),this.schema=c,this.fetch=h}select(a,l){const{head:c=!1,count:h}=l??{},g=c?"HEAD":"GET";let m=!1;const _=(a??"*").split("").map(E=>/\s/.test(E)&&!m?"":(E==='"'&&(m=!m),E)).join("");return this.url.searchParams.set("select",_),h&&this.headers.append("Prefer",`count=${h}`),new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:l,defaultToNull:c=!0}={}){var h;const g="POST";if(l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const m=a.reduce((_,E)=>_.concat(Object.keys(E)),[]);if(m.length>0){const _=[...new Set(m)].map(E=>`"${E}"`);this.url.searchParams.set("columns",_.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(a,{onConflict:l,ignoreDuplicates:c=!1,count:h,defaultToNull:g=!0}={}){var m;const _="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),h&&this.headers.append("Prefer",`count=${h}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const E=a.reduce((b,T)=>b.concat(Object.keys(T)),[]);if(E.length>0){const b=[...new Set(E)].map(T=>`"${T}"`);this.url.searchParams.set("columns",b.join(","))}}return new e.default({method:_,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(a,{count:l}={}){var c;const h="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:a}={}){var l;const c="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};return ml.default=i,ml}var wg;function yT(){if(wg)return pl;wg=1,Object.defineProperty(pl,"__esModule",{value:!0});const n=wr,e=n.__importDefault(ov()),i=n.__importDefault(lf());let r=class av{constructor(l,{headers:c={},schema:h,fetch:g}={}){this.url=l,this.headers=new Headers(c),this.schemaName=h,this.fetch=g}from(l){if(!l||typeof l!="string"||l.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const c=new URL(`${this.url}/${l}`);return new e.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new av(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,c={},{head:h=!1,get:g=!1,count:m}={}){var _;let E;const b=new URL(`${this.url}/rpc/${l}`);let T;h||g?(E=h?"HEAD":"GET",Object.entries(c).filter(([N,R])=>R!==void 0).map(([N,R])=>[N,Array.isArray(R)?`{${R.join(",")}}`:`${R}`]).forEach(([N,R])=>{b.searchParams.append(N,R)})):(E="POST",T=c);const A=new Headers(this.headers);return m&&A.set("Prefer",`count=${m}`),new i.default({method:E,url:b,headers:A,schema:this.schemaName,body:T,fetch:(_=this.fetch)!==null&&_!==void 0?_:fetch})}};return pl.default=r,pl}var Ag;function lv(){if(Ag)return kt;Ag=1,Object.defineProperty(kt,"__esModule",{value:!0}),kt.PostgrestError=kt.PostgrestBuilder=kt.PostgrestTransformBuilder=kt.PostgrestFilterBuilder=kt.PostgrestQueryBuilder=kt.PostgrestClient=void 0;const n=wr,e=n.__importDefault(yT());kt.PostgrestClient=e.default;const i=n.__importDefault(ov());kt.PostgrestQueryBuilder=i.default;const r=n.__importDefault(lf());kt.PostgrestFilterBuilder=r.default;const a=n.__importDefault(rv());kt.PostgrestTransformBuilder=a.default;const l=n.__importDefault(sv());kt.PostgrestBuilder=l.default;const c=n.__importDefault(iv());return kt.PostgrestError=c.default,kt.default={PostgrestClient:e.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:l.default,PostgrestError:c.default},kt}class uv{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const i=process.versions;if(i&&i.node){const r=i.node,a=parseInt(r.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let i=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(i+=`

Suggested solution: ${e.workaround}`),new Error(i)}static createWebSocket(e,i){const r=this.getWebSocketConstructor();return new r(e,i)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const vT="2.86.2",_T=`realtime-js/${vT}`,cv="1.0.0",ET="2.0.0",Cg=cv,Ud=1e4,bT=1e3,ST=100;var bs;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(bs||(bs={}));var vt;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(vt||(vt={}));var xn;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(xn||(xn={}));var Pd;(function(n){n.websocket="websocket"})(Pd||(Pd={}));var Ss;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Ss||(Ss={}));class TT{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,i){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return i(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var i;return this._isArrayBuffer((i=e.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var i,r;const a=(r=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(e){var i,r;const a=(r=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&r!==void 0?r:{},c=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,i,r){var a,l;const c=e.topic,h=(a=e.ref)!==null&&a!==void 0?a:"",g=(l=e.join_ref)!==null&&l!==void 0?l:"",m=e.payload.event,_=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},E=Object.keys(_).length===0?"":JSON.stringify(_);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(E.length>255)throw new Error(`metadata length ${E.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+h.length+c.length+m.length+E.length,T=new ArrayBuffer(this.HEADER_LENGTH+b);let A=new DataView(T),N=0;A.setUint8(N++,this.KINDS.userBroadcastPush),A.setUint8(N++,g.length),A.setUint8(N++,h.length),A.setUint8(N++,c.length),A.setUint8(N++,m.length),A.setUint8(N++,E.length),A.setUint8(N++,i),Array.from(g,P=>A.setUint8(N++,P.charCodeAt(0))),Array.from(h,P=>A.setUint8(N++,P.charCodeAt(0))),Array.from(c,P=>A.setUint8(N++,P.charCodeAt(0))),Array.from(m,P=>A.setUint8(N++,P.charCodeAt(0))),Array.from(E,P=>A.setUint8(N++,P.charCodeAt(0)));var R=new Uint8Array(T.byteLength+r.byteLength);return R.set(new Uint8Array(T),0),R.set(new Uint8Array(r),T.byteLength),R.buffer}decode(e,i){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return i(r)}if(typeof e=="string"){const r=JSON.parse(e),[a,l,c,h,g]=r;return i({join_ref:a,ref:l,topic:c,event:h,payload:g})}return i({})}_binaryDecode(e){const i=new DataView(e),r=i.getUint8(0),a=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,i,a)}}_decodeUserBroadcast(e,i,r){const a=i.getUint8(1),l=i.getUint8(2),c=i.getUint8(3),h=i.getUint8(4);let g=this.HEADER_LENGTH+4;const m=r.decode(e.slice(g,g+a));g=g+a;const _=r.decode(e.slice(g,g+l));g=g+l;const E=r.decode(e.slice(g,g+c));g=g+c;const b=e.slice(g,e.byteLength),T=h===this.JSON_ENCODING?JSON.parse(r.decode(b)):b,A={type:this.BROADCAST_EVENT,event:_,payload:T};return c>0&&(A.meta=JSON.parse(E)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:A}}_isArrayBuffer(e){var i;return e instanceof ArrayBuffer||((i=e==null?void 0:e.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(e,i){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>i.includes(r)))}}class dv{constructor(e,i){this.callback=e,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Qe;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Qe||(Qe={}));const Ng=(n,e,i={})=>{var r;const a=(r=i.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((l,c)=>(l[c]=xT(c,n,e,a),l),{}):{}},xT=(n,e,i,r)=>{const a=e.find(h=>h.name===n),l=a==null?void 0:a.type,c=i[n];return l&&!r.includes(l)?fv(l,c):Od(c)},fv=(n,e)=>{if(n.charAt(0)==="_"){const i=n.slice(1,n.length);return NT(e,i)}switch(n){case Qe.bool:return wT(e);case Qe.float4:case Qe.float8:case Qe.int2:case Qe.int4:case Qe.int8:case Qe.numeric:case Qe.oid:return AT(e);case Qe.json:case Qe.jsonb:return CT(e);case Qe.timestamp:return RT(e);case Qe.abstime:case Qe.date:case Qe.daterange:case Qe.int4range:case Qe.int8range:case Qe.money:case Qe.reltime:case Qe.text:case Qe.time:case Qe.timestamptz:case Qe.timetz:case Qe.tsrange:case Qe.tstzrange:return Od(e);default:return Od(e)}},Od=n=>n,wT=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},AT=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},CT=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},NT=(n,e)=>{if(typeof n!="string")return n;const i=n.length-1,r=n[i];if(n[0]==="{"&&r==="}"){let l;const c=n.slice(1,i);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(h=>fv(e,h))}return n},RT=n=>typeof n=="string"?n.replace(" ","T"):n,hv=n=>{const e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class gd{constructor(e,i,r={},a=Ud){this.channel=e,this.event=i,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,i){var r;return this._hasReceived(e)&&i((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:i}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(i))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ld;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(Ld||(Ld={}));let pv=class Tl{constructor(e,i){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(i==null?void 0:i.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},a=>{const{onJoin:l,onLeave:c,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Tl.syncState(this.state,a,l,c),this.pendingDiffs.forEach(g=>{this.state=Tl.syncDiff(this.state,g,l,c)}),this.pendingDiffs=[],h()}),this.channel._on(r.diff,{},a=>{const{onJoin:l,onLeave:c,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Tl.syncDiff(this.state,a,l,c),h())}),this.onJoin((a,l,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:c})}),this.onLeave((a,l,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,i,r,a){const l=this.cloneDeep(e),c=this.transformState(i),h={},g={};return this.map(l,(m,_)=>{c[m]||(g[m]=_)}),this.map(c,(m,_)=>{const E=l[m];if(E){const b=_.map(R=>R.presence_ref),T=E.map(R=>R.presence_ref),A=_.filter(R=>T.indexOf(R.presence_ref)<0),N=E.filter(R=>b.indexOf(R.presence_ref)<0);A.length>0&&(h[m]=A),N.length>0&&(g[m]=N)}else h[m]=_}),this.syncDiff(l,{joins:h,leaves:g},r,a)}static syncDiff(e,i,r,a){const{joins:l,leaves:c}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return r||(r=()=>{}),a||(a=()=>{}),this.map(l,(h,g)=>{var m;const _=(m=e[h])!==null&&m!==void 0?m:[];if(e[h]=this.cloneDeep(g),_.length>0){const E=e[h].map(T=>T.presence_ref),b=_.filter(T=>E.indexOf(T.presence_ref)<0);e[h].unshift(...b)}r(h,_,g)}),this.map(c,(h,g)=>{let m=e[h];if(!m)return;const _=g.map(E=>E.presence_ref);m=m.filter(E=>_.indexOf(E.presence_ref)<0),e[h]=m,a(h,m,g),m.length===0&&delete e[h]}),e}static map(e,i){return Object.getOwnPropertyNames(e).map(r=>i(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((i,r)=>{const a=e[r];return"metas"in a?i[r]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):i[r]=a,i},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var qd;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(qd||(qd={}));var yr;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(yr||(yr={}));var Dn;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Dn||(Dn={}));const MT=vt;let mv=class gv{constructor(e,i={config:{}},r){var a,l;if(this.topic=e,this.params=i,this.socket=r,this.bindings={},this.state=vt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new gd(this,xn.join,this.params,this.timeout),this.rejoinTimer=new dv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=vt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=vt.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(xn.reply,{},(c,h)=>{this._trigger(this._replyEventName(h),c)}),this.presence=new pv(this),this.broadcastEndpointURL=hv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,i=this.timeout){var r,a,l;if(this.socket.isConnected()||this.socket.connect(),this.state==vt.closed){const{config:{broadcast:c,presence:h,private:g}}=this.params,m=(a=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(T=>T.filter))!==null&&a!==void 0?a:[],_=!!this.bindings[yr.PRESENCE]&&this.bindings[yr.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,E={},b={broadcast:c,presence:Object.assign(Object.assign({},h),{enabled:_}),postgres_changes:m,private:g};this.socket.accessTokenValue&&(E.access_token=this.socket.accessTokenValue),this._onError(T=>e==null?void 0:e(Dn.CHANNEL_ERROR,T)),this._onClose(()=>e==null?void 0:e(Dn.CLOSED)),this.updateJoinPayload(Object.assign({config:b},E)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:T})=>{var A;if(this.socket.setAuth(),T===void 0){e==null||e(Dn.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,R=(A=N==null?void 0:N.length)!==null&&A!==void 0?A:0,P=[];for(let L=0;L<R;L++){const k=N[L],{filter:{event:j,schema:Y,table:Q,filter:$}}=k,ae=T&&T[L];if(ae&&ae.event===j&&ae.schema===Y&&ae.table===Q&&ae.filter===$)P.push(Object.assign(Object.assign({},k),{id:ae.id}));else{this.unsubscribe(),this.state=vt.errored,e==null||e(Dn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=P,e&&e(Dn.SUBSCRIBED);return}}).receive("error",T=>{this.state=vt.errored,e==null||e(Dn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(T).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Dn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,i={}){return await this.send({type:"presence",event:"track",payload:e},i.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,i,r){return this.state===vt.joined&&e===yr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,i,r)}async httpSend(e,i,r={}){var a;const l=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(i==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:l,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:i,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);if(h.status===202)return{success:!0};let g=h.statusText;try{const m=await h.json();g=m.error||m.message||g}catch{}return Promise.reject(new Error(g))}async send(e,i={}){var r,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:c}=e,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(r=i.timeout)!==null&&r!==void 0?r:this.timeout);return await((a=m.body)===null||a===void 0?void 0:a.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,h,g;const m=this._push(e.type,e,i.timeout||this.timeout);e.type==="broadcast"&&!(!((g=(h=(c=this.params)===null||c===void 0?void 0:c.config)===null||h===void 0?void 0:h.broadcast)===null||g===void 0)&&g.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=vt.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(xn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(a=>{r=new gd(this,xn.leave,{},e),r.receive("ok",()=>{i(),a("ok")}).receive("timeout",()=>{i(),a("timed out")}).receive("error",()=>{a("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=vt.closed,this.bindings={}}async _fetchWithTimeout(e,i,r){const a=new AbortController,l=setTimeout(()=>a.abort(),r),c=await this.socket.fetch(e,Object.assign(Object.assign({},i),{signal:a.signal}));return clearTimeout(l),c}_push(e,i,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new gd(this,e,i,r);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>ST){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(e,i,r){return i}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,i,r){var a,l;const c=e.toLocaleLowerCase(),{close:h,error:g,leave:m,join:_}=xn;if(r&&[h,g,m,_].indexOf(c)>=0&&r!==this._joinRef())return;let b=this._onMessage(c,i,r);if(i&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(T=>{var A,N,R;return((A=T.filter)===null||A===void 0?void 0:A.event)==="*"||((R=(N=T.filter)===null||N===void 0?void 0:N.event)===null||R===void 0?void 0:R.toLocaleLowerCase())===c}).map(T=>T.callback(b,r)):(l=this.bindings[c])===null||l===void 0||l.filter(T=>{var A,N,R,P,L,k;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in T){const j=T.id,Y=(A=T.filter)===null||A===void 0?void 0:A.event;return j&&((N=i.ids)===null||N===void 0?void 0:N.includes(j))&&(Y==="*"||(Y==null?void 0:Y.toLocaleLowerCase())===((R=i.data)===null||R===void 0?void 0:R.type.toLocaleLowerCase()))}else{const j=(L=(P=T==null?void 0:T.filter)===null||P===void 0?void 0:P.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return j==="*"||j===((k=i==null?void 0:i.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return T.type.toLocaleLowerCase()===c}).map(T=>{if(typeof b=="object"&&"ids"in b){const A=b.data,{schema:N,table:R,commit_timestamp:P,type:L,errors:k}=A;b=Object.assign(Object.assign({},{schema:N,table:R,commit_timestamp:P,eventType:L,new:{},old:{},errors:k}),this._getPayloadRecords(A))}T.callback(b,r)})}_isClosed(){return this.state===vt.closed}_isJoined(){return this.state===vt.joined}_isJoining(){return this.state===vt.joining}_isLeaving(){return this.state===vt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,i,r){const a=e.toLocaleLowerCase(),l={type:a,filter:i,callback:r};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(e,i){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===r&&gv.isEqual(a.filter,i))})),this}static isEqual(e,i){if(Object.keys(e).length!==Object.keys(i).length)return!1;for(const r in e)if(e[r]!==i[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(xn.close,{},e)}_onError(e){this._on(xn.error,{},i=>e(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=vt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const i={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(i.new=Ng(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(i.old=Ng(e.columns,e.old_record)),i}};const yd=()=>{},El={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},IT=[1e3,2e3,5e3,1e4],DT=1e4,kT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let UT=class{constructor(e,i){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ud,this.transport=null,this.heartbeatIntervalMs=El.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=yd,this.ref=0,this.reconnectTimer=null,this.vsn=Cg,this.logger=yd,this.conn=null,this.sendBuffer=[],this.serializer=new TT,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...l)=>a(...l):(...l)=>fetch(...l),!(!((r=i==null?void 0:i.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${e}/${Pd.websocket}`,this.httpEndpoint=hv(e),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i==null?void 0:i.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=uv.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const i=e.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const i=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const e=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,i,r){this.logger(e,i,r)}connectionState(){switch(this.conn&&this.conn.readyState){case bs.connecting:return Ss.Connecting;case bs.open:return Ss.Open;case bs.closing:return Ss.Closing;default:return Ss.Closed}}isConnected(){return this.connectionState()===Ss.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,i={config:{}}){const r=`realtime:${e}`,a=this.getChannels().find(l=>l.topic===r);if(a)return a;{const l=new mv(`realtime:${e}`,i,this);return this.channels.push(l),l}}push(e){const{topic:i,event:r,payload:a,ref:l}=e,c=()=>{this.encode(e,h=>{var g;(g=this.conn)===null||g===void 0||g.send(h)})};this.log("push",`${i} ${r} (${l})`,a),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(bT,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},El.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let i=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${e}"`),i.unsubscribe())}_remove(e){this.channels=this.channels.filter(i=>i.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply")try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}i.ref&&i.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:a,payload:l,ref:c}=i,h=c?`(${c})`:"",g=l.status||"";this.log("receive",`${g} ${r} ${a} ${h}`.trim(),l),this.channels.filter(m=>m._isMember(r)).forEach(m=>m._trigger(a,l,c)),this._triggerStateCallbacks("message",i)})}_clearTimer(e){var i;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===bs.open||this.conn.readyState===bs.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this.workerRef.terminate()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var i;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(xn.error))}_appendParams(e,i){if(Object.keys(i).length===0)return e;const r=e.match(/\?/)?"&":"?",a=new URLSearchParams(i);return`${e}${r}${a}`}_workerObjectUrl(e){let i;if(e)i=e;else{const r=new Blob([kT],{type:"application/javascript"});i=URL.createObjectURL(r)}return i}_setConnectionState(e,i=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(e=null){let i;e?i=e:this.accessToken?i=await this.accessToken():i=this.accessTokenValue,this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(r=>{const a={access_token:i,version:_T};i&&r.updateJoinPayload(a),r.joinedOnce&&r._isJoined()&&r._push(xn.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(i=>{this.log("error",`error setting auth in ${e}`,i)})}_triggerStateCallbacks(e,i){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(i)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new dv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},El.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var i,r,a,l,c,h,g,m,_,E,b,T;switch(this.transport=(i=e==null?void 0:e.transport)!==null&&i!==void 0?i:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Ud,this.heartbeatIntervalMs=(a=e==null?void 0:e.heartbeatIntervalMs)!==null&&a!==void 0?a:El.HEARTBEAT_INTERVAL,this.worker=(l=e==null?void 0:e.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=e==null?void 0:e.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(h=e==null?void 0:e.heartbeatCallback)!==null&&h!==void 0?h:yd,this.vsn=(g=e==null?void 0:e.vsn)!==null&&g!==void 0?g:Cg,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=e==null?void 0:e.reconnectAfterMs)!==null&&m!==void 0?m:(A=>IT[A-1]||DT),this.vsn){case cv:this.encode=(_=e==null?void 0:e.encode)!==null&&_!==void 0?_:((A,N)=>N(JSON.stringify(A))),this.decode=(E=e==null?void 0:e.decode)!==null&&E!==void 0?E:((A,N)=>N(JSON.parse(A)));break;case ET:this.encode=(b=e==null?void 0:e.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(T=e==null?void 0:e.decode)!==null&&T!==void 0?T:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}};const PT=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:MT,get REALTIME_LISTEN_TYPES(){return yr},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return qd},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Ld},get REALTIME_SUBSCRIBE_STATES(){return Dn},RealtimeChannel:mv,RealtimeClient:UT,RealtimePresence:pv,WebSocketFactory:uv},Symbol.toStringTag,{value:"Module"})),yv=zo(PT);class Vo extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function rt(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class vv extends Vo{constructor(e,i,r){super(e),this.name="StorageApiError",this.status=i,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ul extends Vo{constructor(e,i){super(e),this.name="StorageUnknownError",this.originalError=i}}const uf=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),OT=()=>Response,Hd=n=>{if(Array.isArray(n))return n.map(i=>Hd(i));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([i,r])=>{const a=i.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[a]=Hd(r)}),e},LT=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},qT=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n),vd=n=>{var e;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(e=n.error)===null||e===void 0?void 0:e.message)||JSON.stringify(n)},HT=(n,e,i)=>oe(void 0,void 0,void 0,function*(){const r=yield OT();n instanceof r&&!(i!=null&&i.noResolveJson)?n.json().then(a=>{const l=n.status||500,c=(a==null?void 0:a.statusCode)||l+"";e(new vv(vd(a),l,c))}).catch(a=>{e(new Ul(vd(a),a))}):e(new Ul(vd(n),n))}),GT=(n,e,i,r)=>{const a={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"||!r?a:(LT(r)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(r)):a.body=r,e!=null&&e.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),i))};function jo(n,e,i,r,a,l){return oe(this,void 0,void 0,function*(){return new Promise((c,h)=>{n(i,GT(e,r,a,l)).then(g=>{if(!g.ok)throw g;return r!=null&&r.noResolveJson?g:g.json()}).then(g=>c(g)).catch(g=>HT(g,h,r))})})}function Go(n,e,i,r){return oe(this,void 0,void 0,function*(){return jo(n,"GET",e,i,r)})}function Tn(n,e,i,r,a){return oe(this,void 0,void 0,function*(){return jo(n,"POST",e,r,a,i)})}function Gd(n,e,i,r,a){return oe(this,void 0,void 0,function*(){return jo(n,"PUT",e,r,a,i)})}function BT(n,e,i,r){return oe(this,void 0,void 0,function*(){return jo(n,"HEAD",e,Object.assign(Object.assign({},i),{noResolveJson:!0}),r)})}function cf(n,e,i,r,a){return oe(this,void 0,void 0,function*(){return jo(n,"DELETE",e,r,a,i)})}class zT{constructor(e,i){this.downloadFn=e,this.shouldThrowOnError=i}then(e,i){return this.execute().then(e,i)}execute(){return oe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(rt(e))return{data:null,error:e};throw e}})}}var _v;class VT{constructor(e,i){this.downloadFn=e,this.shouldThrowOnError=i,this[_v]="BlobDownloadBuilder",this.promise=null}asStream(){return new zT(this.downloadFn,this.shouldThrowOnError)}then(e,i){return this.getPromise().then(e,i)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return oe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(rt(e))return{data:null,error:e};throw e}})}}_v=Symbol.toStringTag;const jT={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Rg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class FT{constructor(e,i={},r,a){this.shouldThrowOnError=!1,this.url=e,this.headers=i,this.bucketId=r,this.fetch=uf(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,i,r,a){return oe(this,void 0,void 0,function*(){try{let l;const c=Object.assign(Object.assign({},Rg),a);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const g=c.metadata;typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),g&&l.append("metadata",this.encodeMetadata(g)),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.has("cacheControl")||l.append("cacheControl",c.cacheControl),g&&!l.has("metadata")&&l.append("metadata",this.encodeMetadata(g))):(l=r,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType,g&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(g))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!c.duplex&&(c.duplex="half")),a!=null&&a.headers&&(h=Object.assign(Object.assign({},h),a.headers));const m=this._removeEmptyFolders(i),_=this._getFinalPath(m),E=yield(e=="PUT"?Gd:Tn)(this.fetch,`${this.url}/object/${_}`,l,Object.assign({headers:h},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{data:{path:m,id:E.Id,fullPath:E.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(rt(l))return{data:null,error:l};throw l}})}upload(e,i,r){return oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,i,r)})}uploadToSignedUrl(e,i,r,a){return oe(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),c=this._getFinalPath(l),h=new URL(this.url+`/object/upload/sign/${c}`);h.searchParams.set("token",i);try{let g;const m=Object.assign({upsert:Rg.upsert},a),_=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&r instanceof Blob?(g=new FormData,g.append("cacheControl",m.cacheControl),g.append("",r)):typeof FormData<"u"&&r instanceof FormData?(g=r,g.append("cacheControl",m.cacheControl)):(g=r,_["cache-control"]=`max-age=${m.cacheControl}`,_["content-type"]=m.contentType);const E=yield Gd(this.fetch,h.toString(),g,{headers:_});return{data:{path:l,fullPath:E.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(rt(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(e,i){return oe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const a=Object.assign({},this.headers);i!=null&&i.upsert&&(a["x-upsert"]="true");const l=yield Tn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:a}),c=new URL(this.url+l.url),h=c.searchParams.get("token");if(!h)throw new Vo("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:h},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rt(r))return{data:null,error:r};throw r}})}update(e,i,r){return oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,i,r)})}move(e,i,r){return oe(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:i,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(rt(a))return{data:null,error:a};throw a}})}copy(e,i,r){return oe(this,void 0,void 0,function*(){try{return{data:{path:(yield Tn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:i,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(rt(a))return{data:null,error:a};throw a}})}createSignedUrl(e,i,r){return oe(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),l=yield Tn(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:i},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const c=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(rt(a))return{data:null,error:a};throw a}})}createSignedUrls(e,i,r){return oe(this,void 0,void 0,function*(){try{const a=yield Tn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:e},{headers:this.headers}),l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${l}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(rt(a))return{data:null,error:a};throw a}})}download(e,i){const a=typeof(i==null?void 0:i.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((i==null?void 0:i.transform)||{}),c=l?`?${l}`:"",h=this._getFinalPath(e),g=()=>Go(this.fetch,`${this.url}/${a}/${h}${c}`,{headers:this.headers,noResolveJson:!0});return new VT(g,this.shouldThrowOnError)}info(e){return oe(this,void 0,void 0,function*(){const i=this._getFinalPath(e);try{const r=yield Go(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:Hd(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rt(r))return{data:null,error:r};throw r}})}exists(e){return oe(this,void 0,void 0,function*(){const i=this._getFinalPath(e);try{return yield BT(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rt(r)&&r instanceof Ul){const a=r.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,i){const r=this._getFinalPath(e),a=[],l=i!=null&&i.download?`download=${i.download===!0?"":i.download}`:"";l!==""&&a.push(l);const h=typeof(i==null?void 0:i.transform)<"u"?"render/image":"object",g=this.transformOptsToQueryString((i==null?void 0:i.transform)||{});g!==""&&a.push(g);let m=a.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${r}${m}`)}}}remove(e){return oe(this,void 0,void 0,function*(){try{return{data:yield cf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rt(i))return{data:null,error:i};throw i}})}list(e,i,r){return oe(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},jT),i),{prefix:e||""});return{data:yield Tn(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(rt(a))return{data:null,error:a};throw a}})}listV2(e,i){return oe(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Tn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},i),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rt(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const i=[];return e.width&&i.push(`width=${e.width}`),e.height&&i.push(`height=${e.height}`),e.resize&&i.push(`resize=${e.resize}`),e.format&&i.push(`format=${e.format}`),e.quality&&i.push(`quality=${e.quality}`),i.join("&")}}const Ev="2.86.2",bv={"X-Client-Info":`storage-js/${Ev}`};class $T{constructor(e,i={},r,a){this.shouldThrowOnError=!1;const l=new URL(e);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bv),i),this.fetch=uf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return oe(this,void 0,void 0,function*(){try{const i=this.listBucketOptionsToQueryString(e);return{data:yield Go(this.fetch,`${this.url}/bucket${i}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rt(i))return{data:null,error:i};throw i}})}getBucket(e){return oe(this,void 0,void 0,function*(){try{return{data:yield Go(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rt(i))return{data:null,error:i};throw i}})}createBucket(e){return oe(this,arguments,void 0,function*(i,r={public:!1}){try{return{data:yield Tn(this.fetch,`${this.url}/bucket`,{id:i,name:i,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(rt(a))return{data:null,error:a};throw a}})}updateBucket(e,i){return oe(this,void 0,void 0,function*(){try{return{data:yield Gd(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rt(r))return{data:null,error:r};throw r}})}emptyBucket(e){return oe(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rt(i))return{data:null,error:i};throw i}})}deleteBucket(e){return oe(this,void 0,void 0,function*(){try{return{data:yield cf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rt(i))return{data:null,error:i};throw i}})}listBucketOptionsToQueryString(e){const i={};return e&&("limit"in e&&(i.limit=String(e.limit)),"offset"in e&&(i.offset=String(e.offset)),e.search&&(i.search=e.search),e.sortColumn&&(i.sortColumn=e.sortColumn),e.sortOrder&&(i.sortOrder=e.sortOrder)),Object.keys(i).length>0?"?"+new URLSearchParams(i).toString():""}}var Bo=class extends Error{constructor(n,e){var i;super(n),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((i=e.icebergType)==null?void 0:i.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function JT(n,e,i){const r=new URL(e,n);if(i)for(const[a,l]of Object.entries(i))l!==void 0&&r.searchParams.set(a,l);return r.toString()}async function YT(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function KT(n){const e=n.fetchImpl??globalThis.fetch;return{async request({method:i,path:r,query:a,body:l,headers:c}){const h=JT(n.baseUrl,r,a),g=await YT(n.auth),m=await e(h,{method:i,headers:{...l?{"Content-Type":"application/json"}:{},...g,...c},body:l?JSON.stringify(l):void 0}),_=await m.text(),E=(m.headers.get("content-type")||"").includes("application/json"),b=E&&_?JSON.parse(_):_;if(!m.ok){const T=E?b:void 0,A=T==null?void 0:T.error;throw new Bo((A==null?void 0:A.message)??`Request failed with status ${m.status}`,{status:m.status,icebergType:A==null?void 0:A.type,icebergCode:A==null?void 0:A.code,details:T})}return{status:m.status,headers:m.headers,data:b}}}}function bl(n){return n.join("")}var QT=class{constructor(n,e=""){this.client=n,this.prefix=e}async listNamespaces(n){const e=n?{parent:bl(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(n,e){const i={namespace:n.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${bl(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${bl(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${bl(n.namespace)}`}),!0}catch(e){if(e instanceof Bo&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(n,e){try{return await this.createNamespace(n,e)}catch(i){if(i instanceof Bo&&i.status===409)return;throw i}}};function cr(n){return n.join("")}var XT=class{constructor(n,e="",i){this.client=n,this.prefix=e,this.accessDelegation=i}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${cr(n.namespace)}/tables`})).data.identifiers}async createTable(n,e){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${cr(n.namespace)}/tables`,body:e,headers:i})).data.metadata}async updateTable(n,e){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${cr(n.namespace)}/tables/${n.name}`,body:e});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(n,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${cr(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(n){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${cr(n.namespace)}/tables/${n.name}`,headers:e})).data.metadata}async tableExists(n){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${cr(n.namespace)}/tables/${n.name}`,headers:e}),!0}catch(i){if(i instanceof Bo&&i.status===404)return!1;throw i}}async createTableIfNotExists(n,e){try{return await this.createTable(n,e)}catch(i){if(i instanceof Bo&&i.status===409)return await this.loadTable({namespace:n.namespace,name:e.name});throw i}}},WT=class{constructor(n){var r;let e="v1";n.catalogName&&(e+=`/${n.catalogName}`);const i=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=KT({baseUrl:i,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=(r=n.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new QT(this.client,e),this.tableOps=new XT(this.client,e,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,e){return this.namespaceOps.createNamespace(n,e)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,e){return this.tableOps.createTable(n,e)}async updateTable(n,e){return this.tableOps.updateTable(n,e)}async dropTable(n,e){await this.tableOps.dropTable(n,e)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,e){return this.namespaceOps.createNamespaceIfNotExists(n,e)}async createTableIfNotExists(n,e){return this.tableOps.createTableIfNotExists(n,e)}};class Sv{constructor(e,i={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bv),i),this.fetch=uf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return oe(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rt(i))return{data:null,error:i};throw i}})}listBuckets(e){return oe(this,void 0,void 0,function*(){try{const i=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&i.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&i.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&i.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&i.set("sortOrder",e.sortOrder),e!=null&&e.search&&i.set("search",e.search);const r=i.toString(),a=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Go(this.fetch,a,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rt(i))return{data:null,error:i};throw i}})}deleteBucket(e){return oe(this,void 0,void 0,function*(){try{return{data:yield cf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rt(i))return{data:null,error:i};throw i}})}from(e){if(!qT(e))throw new Vo("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new WT({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>oe(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const df={"X-Client-Info":`storage-js/${Ev}`,"Content-Type":"application/json"};class ff extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Yt(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}class xl extends ff{constructor(e,i,r){super(e),this.name="StorageVectorsApiError",this.status=i,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Tv extends ff{constructor(e,i){super(e),this.name="StorageVectorsUnknownError",this.originalError=i}}var Bd;(function(n){n.InternalError="InternalError",n.S3VectorConflictException="S3VectorConflictException",n.S3VectorNotFoundException="S3VectorNotFoundException",n.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",n.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",n.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Bd||(Bd={}));const Yl=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),ZT=()=>Response,xv=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},ex=n=>Array.from(new Float32Array(n)),tx=(n,e)=>{if(e!==void 0&&n.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${n.float32.length}`)},Mg=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),nx=(n,e,i)=>oe(void 0,void 0,void 0,function*(){if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!(i!=null&&i.noResolveJson)){const a=n.status||500,l=n;if(typeof l.json=="function")l.json().then(c=>{const h=(c==null?void 0:c.statusCode)||(c==null?void 0:c.code)||a+"";e(new xl(Mg(c),a,h))}).catch(()=>{const c=a+"",h=l.statusText||`HTTP ${a} error`;e(new xl(h,a,c))});else{const c=a+"",h=l.statusText||`HTTP ${a} error`;e(new xl(h,a,c))}}else e(new Tv(Mg(n),n))}),ix=(n,e,i,r)=>{const a={method:n,headers:(e==null?void 0:e.headers)||{}};return r?(xv(r)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(r)):a.body=r,Object.assign(Object.assign({},a),i)):a};function sx(n,e,i,r,a,l){return oe(this,void 0,void 0,function*(){return new Promise((c,h)=>{n(i,ix(e,r,a,l)).then(g=>{if(!g.ok)throw g;if(r!=null&&r.noResolveJson)return g;const m=g.headers.get("content-type");return!m||!m.includes("application/json")?{}:g.json()}).then(g=>c(g)).catch(g=>nx(g,h,r))})})}function nn(n,e,i,r,a){return oe(this,void 0,void 0,function*(){return sx(n,"POST",e,r,a,i)})}class wv{constructor(e,i={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},df),i),this.fetch=Yl(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return oe(this,void 0,void 0,function*(){try{return{data:(yield nn(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Yt(i))return{data:null,error:i};throw i}})}getIndex(e,i){return oe(this,void 0,void 0,function*(){try{return{data:yield nn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:i},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}listIndexes(e){return oe(this,void 0,void 0,function*(){try{return{data:yield nn(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Yt(i))return{data:null,error:i};throw i}})}deleteIndex(e,i){return oe(this,void 0,void 0,function*(){try{return{data:(yield nn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:i},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}})}}class Av{constructor(e,i={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},df),i),this.fetch=Yl(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return oe(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield nn(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Yt(i))return{data:null,error:i};throw i}})}getVectors(e){return oe(this,void 0,void 0,function*(){try{return{data:yield nn(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Yt(i))return{data:null,error:i};throw i}})}listVectors(e){return oe(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield nn(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Yt(i))return{data:null,error:i};throw i}})}queryVectors(e){return oe(this,void 0,void 0,function*(){try{return{data:yield nn(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Yt(i))return{data:null,error:i};throw i}})}deleteVectors(e){return oe(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield nn(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Yt(i))return{data:null,error:i};throw i}})}}class Cv{constructor(e,i={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},df),i),this.fetch=Yl(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return oe(this,void 0,void 0,function*(){try{return{data:(yield nn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Yt(i))return{data:null,error:i};throw i}})}getBucket(e){return oe(this,void 0,void 0,function*(){try{return{data:yield nn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Yt(i))return{data:null,error:i};throw i}})}listBuckets(){return oe(this,arguments,void 0,function*(e={}){try{return{data:yield nn(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Yt(i))return{data:null,error:i};throw i}})}deleteBucket(e){return oe(this,void 0,void 0,function*(){try{return{data:(yield nn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Yt(i))return{data:null,error:i};throw i}})}}class Nv extends Cv{constructor(e,i={}){super(e,i.headers||{},i.fetch)}from(e){return new Rv(this.url,this.headers,e,this.fetch)}createBucket(e){const i=Object.create(null,{createBucket:{get:()=>super.createBucket}});return oe(this,void 0,void 0,function*(){return i.createBucket.call(this,e)})}getBucket(e){const i=Object.create(null,{getBucket:{get:()=>super.getBucket}});return oe(this,void 0,void 0,function*(){return i.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return oe(this,arguments,void 0,function*(i={}){return e.listBuckets.call(this,i)})}deleteBucket(e){const i=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return oe(this,void 0,void 0,function*(){return i.deleteBucket.call(this,e)})}}class Rv extends wv{constructor(e,i,r,a){super(e,i,a),this.vectorBucketName=r}createIndex(e){const i=Object.create(null,{createIndex:{get:()=>super.createIndex}});return oe(this,void 0,void 0,function*(){return i.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return oe(this,arguments,void 0,function*(i={}){return e.listIndexes.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const i=Object.create(null,{getIndex:{get:()=>super.getIndex}});return oe(this,void 0,void 0,function*(){return i.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const i=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return oe(this,void 0,void 0,function*(){return i.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Mv(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Mv extends Av{constructor(e,i,r,a,l){super(e,i,l),this.vectorBucketName=r,this.indexName=a}putVectors(e){const i=Object.create(null,{putVectors:{get:()=>super.putVectors}});return oe(this,void 0,void 0,function*(){return i.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const i=Object.create(null,{getVectors:{get:()=>super.getVectors}});return oe(this,void 0,void 0,function*(){return i.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return oe(this,arguments,void 0,function*(i={}){return e.listVectors.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const i=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return oe(this,void 0,void 0,function*(){return i.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const i=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return oe(this,void 0,void 0,function*(){return i.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class rx extends $T{constructor(e,i={},r,a){super(e,i,r,a)}from(e){return new FT(this.url,this.headers,e,this.fetch)}get vectors(){return new Nv(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Sv(this.url+"/iceberg",this.headers,this.fetch)}}const ox=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:Sv,StorageApiError:vv,StorageClient:rx,StorageError:Vo,StorageUnknownError:Ul,StorageVectorsApiError:xl,StorageVectorsClient:Nv,StorageVectorsError:ff,get StorageVectorsErrorCode(){return Bd},StorageVectorsUnknownError:Tv,VectorBucketApi:Cv,VectorBucketScope:Rv,VectorDataApi:Av,VectorIndexApi:wv,VectorIndexScope:Mv,isPlainObject:xv,isStorageError:rt,isStorageVectorsError:Yt,normalizeToFloat32:ex,resolveFetch:Yl,resolveResponse:ZT,validateVectorDimension:tx},Symbol.toStringTag,{value:"Module"})),ax=zo(ox);var _d={},ko={},Ig;function lx(){return Ig||(Ig=1,Object.defineProperty(ko,"__esModule",{value:!0}),ko.version=void 0,ko.version="2.86.2"),ko}var Dg;function ux(){return Dg||(Dg=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_REALTIME_OPTIONS=n.DEFAULT_AUTH_OPTIONS=n.DEFAULT_DB_OPTIONS=n.DEFAULT_GLOBAL_OPTIONS=n.DEFAULT_HEADERS=void 0;const e=lx();let i="";typeof Deno<"u"?i="deno":typeof document<"u"?i="web":typeof navigator<"u"&&navigator.product==="ReactNative"?i="react-native":i="node",n.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${i}/${e.version}`},n.DEFAULT_GLOBAL_OPTIONS={headers:n.DEFAULT_HEADERS},n.DEFAULT_DB_OPTIONS={schema:"public"},n.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},n.DEFAULT_REALTIME_OPTIONS={}})(_d)),_d}var Ed={},kg;function cx(){return kg||(kg=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.fetchWithAuth=n.resolveHeadersConstructor=n.resolveFetch=void 0;const e=a=>a?(...l)=>a(...l):(...l)=>fetch(...l);n.resolveFetch=e;const i=()=>Headers;n.resolveHeadersConstructor=i;const r=(a,l,c)=>{const h=(0,n.resolveFetch)(c),g=(0,n.resolveHeadersConstructor)();return async(m,_)=>{var E;const b=(E=await l())!==null&&E!==void 0?E:a;let T=new g(_==null?void 0:_.headers);return T.has("apikey")||T.set("apikey",a),T.has("Authorization")||T.set("Authorization",`Bearer ${b}`),h(m,Object.assign(Object.assign({},_),{headers:T}))}};n.fetchWithAuth=r})(Ed)),Ed}var oi={},Ug;function dx(){if(Ug)return oi;Ug=1,Object.defineProperty(oi,"__esModule",{value:!0}),oi.isBrowser=void 0,oi.uuid=n,oi.ensureTrailingSlash=e,oi.applySettingDefaults=r,oi.validateSupabaseUrl=a;function n(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){var c=Math.random()*16|0,h=l=="x"?c:c&3|8;return h.toString(16)})}function e(l){return l.endsWith("/")?l:l+"/"}const i=()=>typeof window<"u";oi.isBrowser=i;function r(l,c){var h,g;const{db:m,auth:_,realtime:E,global:b}=l,{db:T,auth:A,realtime:N,global:R}=c,P={db:Object.assign(Object.assign({},T),m),auth:Object.assign(Object.assign({},A),_),realtime:Object.assign(Object.assign({},N),E),storage:{},global:Object.assign(Object.assign(Object.assign({},R),b),{headers:Object.assign(Object.assign({},(h=R==null?void 0:R.headers)!==null&&h!==void 0?h:{}),(g=b==null?void 0:b.headers)!==null&&g!==void 0?g:{})}),accessToken:async()=>""};return l.accessToken?P.accessToken=l.accessToken:delete P.accessToken,P}function a(l){const c=l==null?void 0:l.trim();if(!c)throw new Error("supabaseUrl is required.");if(!c.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(e(c))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return oi}var Uo={};const Iv="2.86.2",pr=30*1e3,zd=3,bd=zd*pr,fx="http://localhost:9999",hx="supabase.auth.token",px={"X-Client-Info":`gotrue-js/${Iv}`},Vd="X-Supabase-Api-Version",Dv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},mx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,gx=600*1e3;let Tr=class extends Error{constructor(e,i,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=r}};function ue(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}let kv=class extends Tr{constructor(e,i,r){super(e,i,r),this.name="AuthApiError",this.status=i,this.code=r}};function Uv(n){return ue(n)&&n.name==="AuthApiError"}let Vi=class extends Tr{constructor(e,i){super(e),this.name="AuthUnknownError",this.originalError=i}},li=class extends Tr{constructor(e,i,r,a){super(e,r,a),this.name=i,this.status=r}},Jt=class extends li{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Pv(n){return ue(n)&&n.name==="AuthSessionMissingError"}let vs=class extends li{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Oo=class extends li{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},Lo=class extends li{constructor(e,i=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function Ov(n){return ue(n)&&n.name==="AuthImplicitGrantRedirectError"}let jd=class extends li{constructor(e,i=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Pl=class extends li{constructor(e,i){super(e,"AuthRetryableFetchError",i,void 0)}};function wl(n){return ue(n)&&n.name==="AuthRetryableFetchError"}let Fd=class extends li{constructor(e,i,r){super(e,"AuthWeakPasswordError",i,"weak_password"),this.reasons=r}};function yx(n){return ue(n)&&n.name==="AuthWeakPasswordError"}let Ol=class extends li{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const Ll="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Pg=` 	
\r=`.split(""),vx=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<Pg.length;e+=1)n[Pg[e].charCodeAt(0)]=-2;for(let e=0;e<Ll.length;e+=1)n[Ll[e].charCodeAt(0)]=e;return n})();function Og(n,e,i){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;i(Ll[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;i(Ll[r]),e.queuedBits-=6}}function Lv(n,e,i){const r=vx[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)i(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Lg(n){const e=[],i=c=>{e.push(String.fromCodePoint(c))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},l=c=>{bx(c,r,i)};for(let c=0;c<n.length;c+=1)Lv(n.charCodeAt(c),a,l);return e.join("")}function _x(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function Ex(n,e){for(let i=0;i<n.length;i+=1){let r=n.charCodeAt(i);if(r>55295&&r<=56319){const a=(r-55296)*1024&65535;r=(n.charCodeAt(i+1)-56320&65535|a)+65536,i+=1}_x(r,e)}}function bx(n,e,i){if(e.utf8seq===0){if(n<=127){i(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&i(e.codepoint)}}function vr(n){const e=[],i={queue:0,queuedBits:0},r=a=>{e.push(a)};for(let a=0;a<n.length;a+=1)Lv(n.charCodeAt(a),i,r);return new Uint8Array(e)}function Sx(n){const e=[];return Ex(n,i=>e.push(i)),new Uint8Array(e)}function Ts(n){const e=[],i={queue:0,queuedBits:0},r=a=>{e.push(a)};return n.forEach(a=>Og(a,i,r)),Og(null,i,r),e.join("")}function Tx(n){return Math.round(Date.now()/1e3)+n}function xx(){return Symbol("auth-callback")}const Nt=()=>typeof window<"u"&&typeof document<"u",gs={tested:!1,writable:!1},qv=()=>{if(!Nt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(gs.tested)return gs.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),gs.tested=!0,gs.writable=!0}catch{gs.tested=!0,gs.writable=!1}return gs.writable};function wx(n){const e={},i=new URL(n);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((a,l)=>{e[l]=a})}catch{}return i.searchParams.forEach((r,a)=>{e[a]=r}),e}const Hv=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),Ax=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",mr=async(n,e,i)=>{await n.setItem(e,JSON.stringify(i))},ys=async(n,e)=>{const i=await n.getItem(e);if(!i)return null;try{return JSON.parse(i)}catch{return i}},Ct=async(n,e)=>{await n.removeItem(e)};class Kl{constructor(){this.promise=new Kl.promiseConstructor((e,i)=>{this.resolve=e,this.reject=i})}}Kl.promiseConstructor=Promise;function Sd(n){const e=n.split(".");if(e.length!==3)throw new Ol("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!mx.test(e[r]))throw new Ol("JWT not in base64url format");return{header:JSON.parse(Lg(e[0])),payload:JSON.parse(Lg(e[1])),signature:vr(e[2]),raw:{header:e[0],payload:e[1]}}}async function Cx(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function Nx(n,e){return new Promise((r,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await n(l);if(!e(l,null,c)){r(c);return}}catch(c){if(!e(l,c)){a(c);return}}})()})}function Rx(n){return("0"+n.toString(16)).substr(-2)}function Mx(){const e=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=i.length;let a="";for(let l=0;l<56;l++)a+=i.charAt(Math.floor(Math.random()*r));return a}return crypto.getRandomValues(e),Array.from(e,Rx).join("")}async function Ix(n){const i=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",i),a=new Uint8Array(r);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}async function Dx(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const i=await Ix(n);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function dr(n,e,i=!1){const r=Mx();let a=r;i&&(a+="/PASSWORD_RECOVERY"),await mr(n,`${e}-code-verifier`,a);const l=await Dx(r);return[l,r===l?"plain":"s256"]}const kx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ux(n){const e=n.headers.get(Vd);if(!e||!e.match(kx))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Px(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function Ox(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Lx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function fr(n){if(!Lx.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Td(){const n={};return new Proxy(n,{get:(e,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const r=i.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function qx(n,e){return new Proxy(n,{get:(i,r,a)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const l=r.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,r,a)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(i,r,a)}})}function qg(n){return JSON.parse(JSON.stringify(n))}const _s=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Hx=[502,503,504];async function Hg(n){var e;if(!Ax(n))throw new Pl(_s(n),0);if(Hx.includes(n.status))throw new Pl(_s(n),n.status);let i;try{i=await n.json()}catch(l){throw new Vi(_s(l),l)}let r;const a=Ux(n);if(a&&a.getTime()>=Dv["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?r=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(r=i.error_code),r){if(r==="weak_password")throw new Fd(_s(i),n.status,((e=i.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Jt}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new Fd(_s(i),n.status,i.weak_password.reasons);throw new kv(_s(i),n.status||500,r)}const Gx=(n,e,i,r)=>{const a={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),i))};async function me(n,e,i,r){var a;const l=Object.assign({},r==null?void 0:r.headers);l[Vd]||(l[Vd]=Dv["2024-01-01"].name),r!=null&&r.jwt&&(l.Authorization=`Bearer ${r.jwt}`);const c=(a=r==null?void 0:r.query)!==null&&a!==void 0?a:{};r!=null&&r.redirectTo&&(c.redirect_to=r.redirectTo);const h=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",g=await Bx(n,e,i+h,{headers:l,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(g):{data:Object.assign({},g),error:null}}async function Bx(n,e,i,r,a,l){const c=Gx(e,r,a,l);let h;try{h=await n(i,Object.assign({},c))}catch(g){throw console.error(g),new Pl(_s(g),0)}if(h.ok||await Hg(h),r!=null&&r.noResolveJson)return h;try{return await h.json()}catch(g){await Hg(g)}}function Sn(n){var e;let i=null;jx(n)&&(i=Object.assign({},n),n.expires_at||(i.expires_at=Tx(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:i,user:r},error:null}}function Gg(n){const e=Sn(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((i,r)=>i&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function ji(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function zx(n){return{data:n,error:null}}function Vx(n){const{action_link:e,email_otp:i,hashed_token:r,redirect_to:a,verification_type:l}=n,c=xr(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:i,hashed_token:r,redirect_to:a,verification_type:l},g=Object.assign({},c);return{data:{properties:h,user:g},error:null}}function Bg(n){return n}function jx(n){return n.access_token&&n.refresh_token&&n.expires_in}const Al=["global","local","others"];let hf=class{constructor({url:e="",headers:i={},fetch:r}){this.url=e,this.headers=i,this.fetch=Hv(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,i=Al[0]){if(Al.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Al.join(", ")}`);try{return await me(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,i={}){try{return await me(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:ji})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:i}=e,r=xr(e,["options"]),a=Object.assign(Object.assign({},r),i);return"newEmail"in r&&(a.new_email=r==null?void 0:r.newEmail,delete a.newEmail),await me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Vx,redirectTo:i==null?void 0:i.redirectTo})}catch(i){if(ue(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(e){try{return await me(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ji})}catch(i){if(ue(i))return{data:{user:null},error:i};throw i}}async listUsers(e){var i,r,a,l,c,h,g;try{const m={nextPage:null,lastPage:0,total:0},_=await me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(i=e==null?void 0:e.page)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:"",per_page:(l=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:Bg});if(_.error)throw _.error;const E=await _.json(),b=(c=_.headers.get("x-total-count"))!==null&&c!==void 0?c:0,T=(g=(h=_.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&g!==void 0?g:[];return T.length>0&&(T.forEach(A=>{const N=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(A.split(";")[1].split("=")[1]);m[`${R}Page`]=N}),m.total=parseInt(b)),{data:Object.assign(Object.assign({},E),m),error:null}}catch(m){if(ue(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){fr(e);try{return await me(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ji})}catch(i){if(ue(i))return{data:{user:null},error:i};throw i}}async updateUserById(e,i){fr(e);try{return await me(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:i,headers:this.headers,xform:ji})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,i=!1){fr(e);try{return await me(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:i},xform:ji})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){fr(e.userId);try{const{data:i,error:r}=await me(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:i,error:r}}catch(i){if(ue(i))return{data:null,error:i};throw i}}async _deleteFactor(e){fr(e.userId),fr(e.id);try{return{data:await me(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(i){if(ue(i))return{data:null,error:i};throw i}}async _listOAuthClients(e){var i,r,a,l,c,h,g;try{const m={nextPage:null,lastPage:0,total:0},_=await me(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(i=e==null?void 0:e.page)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:"",per_page:(l=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:Bg});if(_.error)throw _.error;const E=await _.json(),b=(c=_.headers.get("x-total-count"))!==null&&c!==void 0?c:0,T=(g=(h=_.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&g!==void 0?g:[];return T.length>0&&(T.forEach(A=>{const N=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(A.split(";")[1].split("=")[1]);m[`${R}Page`]=N}),m.total=parseInt(b)),{data:Object.assign(Object.assign({},E),m),error:null}}catch(m){if(ue(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await me(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ue(i))return{data:null,error:i};throw i}}async _getOAuthClient(e){try{return await me(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ue(i))return{data:null,error:i};throw i}}async _updateOAuthClient(e,i){try{return await me(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:i,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await me(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ue(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(e){try{return await me(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ue(i))return{data:null,error:i};throw i}}};function zg(n={}){return{getItem:e=>n[e]||null,setItem:(e,i)=>{n[e]=i},removeItem:e=>{delete n[e]}}}const Es={debug:!!(globalThis&&qv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class pf extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let Gv=class extends pf{};class Fx extends pf{}async function Bv(n,e,i){Es.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Es.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async a=>{if(a){Es.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,a.name);try{return await i()}finally{Es.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,a.name)}}else{if(e===0)throw Es.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new Gv(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Es.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}const Vg={};async function $x(n,e,i){var r;const a=(r=Vg[n])!==null&&r!==void 0?r:Promise.resolve(),l=Promise.race([a.catch(()=>null),e>=0?new Promise((c,h)=>{setTimeout(()=>{h(new Fx(`Acquring process lock with name "${n}" timed out`))},e)}):null].filter(c=>c)).catch(c=>{if(c&&c.isAcquireTimeout)throw c;return null}).then(async()=>await i());return Vg[n]=l.catch(async c=>{if(c&&c.isAcquireTimeout)return await a,null;throw c}),await l}function Jx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function zv(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function Yx(n){return parseInt(n,16)}function Kx(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function Qx(n){var e;const{chainId:i,domain:r,expirationTime:a,issuedAt:l=new Date,nonce:c,notBefore:h,requestId:g,resources:m,scheme:_,uri:E,version:b}=n;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!E)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const T=zv(n.address),A=_?`${_}://${r}`:r,N=n.statement?`${n.statement}
`:"",R=`${A} wants you to sign in with your Ethereum account:
${T}

${N}`;let P=`URI: ${E}
Version: ${b}
Chain ID: ${i}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(a&&(P+=`
Expiration Time: ${a.toISOString()}`),h&&(P+=`
Not Before: ${h.toISOString()}`),g&&(P+=`
Request ID: ${g}`),m){let L=`
Resources:`;for(const k of m){if(!k||typeof k!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${k}`);L+=`
- ${k}`}P+=L}return`${R}
${P}`}class _t extends Error{constructor({message:e,code:i,cause:r,name:a}){var l;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(l=a??(r instanceof Error?r.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=i}}class ql extends _t{constructor(e,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:e}),this.name="WebAuthnUnknownError",this.originalError=i}}function Xx({error:n,options:e}){var i,r,a;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new _t({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((i=l.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new _t({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((r=l.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new _t({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new _t({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new _t({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new _t({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return l.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new _t({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new _t({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const c=window.location.hostname;if(Vv(c)){if(l.rp.id!==c)return new _t({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new _t({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new _t({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new _t({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new _t({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function Wx({error:n,options:e}){const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new _t({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new _t({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const r=window.location.hostname;if(Vv(r)){if(i.rpId!==r)return new _t({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new _t({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new _t({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new _t({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class Zx{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const ew=new Zx;function tw(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:i,excludeCredentials:r}=n,a=xr(n,["challenge","user","excludeCredentials"]),l=vr(e).buffer,c=Object.assign(Object.assign({},i),{id:vr(i.id).buffer}),h=Object.assign(Object.assign({},a),{challenge:l,user:c});if(r&&r.length>0){h.excludeCredentials=new Array(r.length);for(let g=0;g<r.length;g++){const m=r[g];h.excludeCredentials[g]=Object.assign(Object.assign({},m),{id:vr(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return h}function nw(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:i}=n,r=xr(n,["challenge","allowCredentials"]),a=vr(e).buffer,l=Object.assign(Object.assign({},r),{challenge:a});if(i&&i.length>0){l.allowCredentials=new Array(i.length);for(let c=0;c<i.length;c++){const h=i[c];l.allowCredentials[c]=Object.assign(Object.assign({},h),{id:vr(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return l}function iw(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const i=n;return{id:n.id,rawId:n.id,response:{attestationObject:Ts(new Uint8Array(n.response.attestationObject)),clientDataJSON:Ts(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=i.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function sw(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const i=n,r=n.getClientExtensionResults(),a=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:Ts(new Uint8Array(a.authenticatorData)),clientDataJSON:Ts(new Uint8Array(a.clientDataJSON)),signature:Ts(new Uint8Array(a.signature)),userHandle:a.userHandle?Ts(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=i.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Vv(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function jg(){var n,e;return!!(Nt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function rw(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ql("Browser returned unexpected credential type",e)}:{data:null,error:new ql("Empty credential response",e)}}catch(e){return{data:null,error:Xx({error:e,options:n})}}}async function ow(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ql("Browser returned unexpected credential type",e)}:{data:null,error:new ql("Empty credential response",e)}}catch(e){return{data:null,error:Wx({error:e,options:n})}}}const aw={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},lw={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Hl(...n){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),i=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),r={};for(const a of n)if(a)for(const l in a){const c=a[l];if(c!==void 0)if(Array.isArray(c))r[l]=c;else if(i(c))r[l]=c;else if(e(c)){const h=r[l];e(h)?r[l]=Hl(h,c):r[l]=Hl(c)}else r[l]=c}return r}function uw(n,e){return Hl(aw,n,e||{})}function cw(n,e){return Hl(lw,n,e||{})}class dw{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:i,friendlyName:r,signal:a},l){try{const{data:c,error:h}=await this.client.mfa.challenge({factorId:e,webauthn:i});if(!c)return{data:null,error:h};const g=a??ew.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:m}=c.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${r}`),m.displayName||(m.displayName=m.name)}switch(c.webauthn.type){case"create":{const m=uw(c.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:_,error:E}=await rw({publicKey:m,signal:g});return _?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:_}},error:null}:{data:null,error:E}}case"request":{const m=cw(c.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:_,error:E}=await ow(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:m,signal:g}));return _?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:_}},error:null}:{data:null,error:E}}}}catch(c){return ue(c)?{data:null,error:c}:{data:null,error:new Vi("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:i,webauthn:r}){return this.client.mfa.verify({factorId:i,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!i)return{data:null,error:new Tr("rpId is required for WebAuthn authentication")};try{if(!jg())return{data:null,error:new Vi("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this.challenge({factorId:e,webauthn:{rpId:i,rpOrigins:r},signal:a},{request:l});if(!c)return{data:null,error:h};const{webauthn:g}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:g.type,rpId:i,rpOrigins:r,credential_response:g.credential_response}})}catch(c){return ue(c)?{data:null,error:c}:{data:null,error:new Vi("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!i)return{data:null,error:new Tr("rpId is required for WebAuthn registration")};try{if(!jg())return{data:null,error:new Vi("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(_=>{var E;return(E=_.data)===null||E===void 0?void 0:E.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===e&&b.status!=="unverified")}).then(_=>_?this.client.mfa.unenroll({factorId:_==null?void 0:_.id}):void 0),{data:null,error:h};const{data:g,error:m}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:i,rpOrigins:r},signal:a},{create:l});return g?this._verify({factorId:c.id,challengeId:g.challengeId,webauthn:{rpId:i,rpOrigins:r,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:m}}catch(c){return ue(c)?{data:null,error:c}:{data:null,error:new Vi("Unexpected error in register",c)}}}}Jx();const fw={url:fx,storageKey:hx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:px,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Fg(n,e,i){return await i()}const hr={};let mf=class $d{get jwks(){var e,i;return(i=(e=hr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(e){hr[this.storageKey]=Object.assign(Object.assign({},hr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,i;return(i=(e=hr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){hr[this.storageKey]=Object.assign(Object.assign({},hr[this.storageKey]),{cachedAt:e})}constructor(e){var i,r,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},fw),e);if(this.storageKey=l.storageKey,this.instanceID=(i=$d.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,$d.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&Nt()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new hf({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=Hv(l.fetch),this.lock=l.lock||Fg,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:Nt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Bv:this.lock=Fg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new dw(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:qv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=zg(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=zg(this.memoryStorage)),Nt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Iv}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let i={},r="none";if(Nt()&&(i=wx(window.location.href),this._isImplicitGrantCallback(i)?r="implicit":await this._isPKCECallback(i)&&(r="pkce")),Nt()&&this.detectSessionInUrl&&r!=="none"){const{data:a,error:l}=await this._getSessionFromURL(i,r);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),Ov(l)){const g=(e=l.details)===null||e===void 0?void 0:e.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:h}=a;return this._debug("#_initialize()","detected session in URL",c,"redirect type",h),await this._saveSession(c),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return ue(i)?this._returnResult({error:i}):this._returnResult({error:new Vi("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var i,r,a;try{const l=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:Sn}),{data:c,error:h}=l;if(h||!c)return this._returnResult({data:{user:null,session:null},error:h});const g=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:m,session:g},error:null})}catch(l){if(ue(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var i,r,a;try{let l;if("email"in e){const{email:_,password:E,options:b}=e;let T=null,A=null;this.flowType==="pkce"&&([T,A]=await dr(this.storage,this.storageKey)),l=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:_,password:E,data:(i=b==null?void 0:b.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:T,code_challenge_method:A},xform:Sn})}else if("phone"in e){const{phone:_,password:E,options:b}=e;l=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_,password:E,data:(r=b==null?void 0:b.data)!==null&&r!==void 0?r:{},channel:(a=b==null?void 0:b.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:Sn})}else throw new Oo("You must provide either an email or phone number and a password");const{data:c,error:h}=l;if(h||!c)return await Ct(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const g=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:m,session:g},error:null})}catch(l){if(await Ct(this.storage,`${this.storageKey}-code-verifier`),ue(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let i;if("email"in e){const{email:l,password:c,options:h}=e;i=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Gg})}else if("phone"in e){const{phone:l,password:c,options:h}=e;i=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Gg})}else throw new Oo("You must provide either an email or phone number and a password");const{data:r,error:a}=i;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!r||!r.session||!r.user){const l=new vs;return this._returnResult({data:{user:null,session:null},error:l})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:a})}catch(i){if(ue(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(e){var i,r,a,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:i}=e;switch(i){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(e){var i,r,a,l,c,h,g,m,_,E,b;let T,A;if("message"in e)T=e.message,A=e.signature;else{const{chain:N,wallet:R,statement:P,options:L}=e;let k;if(Nt())if(typeof R=="object")k=R;else{const ee=window;if("ethereum"in ee&&typeof ee.ethereum=="object"&&"request"in ee.ethereum&&typeof ee.ethereum.request=="function")k=ee.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!(L!=null&&L.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=R}const j=new URL((i=L==null?void 0:L.url)!==null&&i!==void 0?i:window.location.href),Y=await k.request({method:"eth_requestAccounts"}).then(ee=>ee).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Y||Y.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Q=zv(Y[0]);let $=(r=L==null?void 0:L.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!$){const ee=await k.request({method:"eth_chainId"});$=Yx(ee)}const ae={domain:j.host,address:Q,statement:P,uri:j.href,version:"1",chainId:$,nonce:(a=L==null?void 0:L.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(c=(l=L==null?void 0:L.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(h=L==null?void 0:L.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(g=L==null?void 0:L.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(m=L==null?void 0:L.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(_=L==null?void 0:L.signInWithEthereum)===null||_===void 0?void 0:_.resources};T=Qx(ae),A=await k.request({method:"personal_sign",params:[Kx(T),Q]})}try{const{data:N,error:R}=await me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:T,signature:A},!((E=e.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Sn});if(R)throw R;if(!N||!N.session||!N.user){const P=new vs;return this._returnResult({data:{user:null,session:null},error:P})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:R})}catch(N){if(ue(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async signInWithSolana(e){var i,r,a,l,c,h,g,m,_,E,b,T;let A,N;if("message"in e)A=e.message,N=e.signature;else{const{chain:R,wallet:P,statement:L,options:k}=e;let j;if(Nt())if(typeof P=="object")j=P;else{const Q=window;if("solana"in Q&&typeof Q.solana=="object"&&("signIn"in Q.solana&&typeof Q.solana.signIn=="function"||"signMessage"in Q.solana&&typeof Q.solana.signMessage=="function"))j=Q.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof P!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=P}const Y=new URL((i=k==null?void 0:k.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in j&&j.signIn){const Q=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k==null?void 0:k.signInWithSolana),{version:"1",domain:Y.host,uri:Y.href}),L?{statement:L}:null));let $;if(Array.isArray(Q)&&Q[0]&&typeof Q[0]=="object")$=Q[0];else if(Q&&typeof Q=="object"&&"signedMessage"in Q&&"signature"in Q)$=Q;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in $&&"signature"in $&&(typeof $.signedMessage=="string"||$.signedMessage instanceof Uint8Array)&&$.signature instanceof Uint8Array)A=typeof $.signedMessage=="string"?$.signedMessage:new TextDecoder().decode($.signedMessage),N=$.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${Y.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...L?["",L,""]:[""],"Version: 1",`URI: ${Y.href}`,`Issued At: ${(a=(r=k==null?void 0:k.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((l=k==null?void 0:k.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((c=k==null?void 0:k.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((h=k==null?void 0:k.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((g=k==null?void 0:k.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((m=k==null?void 0:k.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((E=(_=k==null?void 0:k.signInWithSolana)===null||_===void 0?void 0:_.resources)===null||E===void 0)&&E.length?["Resources",...k.signInWithSolana.resources.map($=>`- ${$}`)]:[]].join(`
`);const Q=await j.signMessage(new TextEncoder().encode(A),"utf8");if(!Q||!(Q instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=Q}}try{const{data:R,error:P}=await me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:Ts(N)},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(T=e.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:Sn});if(P)throw P;if(!R||!R.session||!R.user){const L=new vs;return this._returnResult({data:{user:null,session:null},error:L})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:P})}catch(R){if(ue(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async _exchangeCodeForSession(e){const i=await ys(this.storage,`${this.storageKey}-code-verifier`),[r,a]=(i??"").split("/");try{const{data:l,error:c}=await me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Sn});if(await Ct(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!l||!l.session||!l.user){const h=new vs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:a??null}),error:c})}catch(l){if(await Ct(this.storage,`${this.storageKey}-code-verifier`),ue(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:i,provider:r,token:a,access_token:l,nonce:c}=e,h=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:a,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:Sn}),{data:g,error:m}=h;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!g||!g.session||!g.user){const _=new vs;return this._returnResult({data:{user:null,session:null},error:_})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:m})}catch(i){if(ue(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(e){var i,r,a,l,c;try{if("email"in e){const{email:h,options:g}=e;let m=null,_=null;this.flowType==="pkce"&&([m,_]=await dr(this.storage,this.storageKey));const{error:E}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(i=g==null?void 0:g.data)!==null&&i!==void 0?i:{},create_user:(r=g==null?void 0:g.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:m,code_challenge_method:_},redirectTo:g==null?void 0:g.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:E})}if("phone"in e){const{phone:h,options:g}=e,{data:m,error:_}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(a=g==null?void 0:g.data)!==null&&a!==void 0?a:{},create_user:(l=g==null?void 0:g.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(c=g==null?void 0:g.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:_})}throw new Oo("You must provide either an email or phone number.")}catch(h){if(await Ct(this.storage,`${this.storageKey}-code-verifier`),ue(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(e){var i,r;try{let a,l;"options"in e&&(a=(i=e.options)===null||i===void 0?void 0:i.redirectTo,l=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:c,error:h}=await me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:Sn});if(h)throw h;if(!c)throw new Error("An error occurred on token verification.");const g=c.session,m=c.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:m,session:g},error:null})}catch(a){if(ue(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var i,r,a,l,c;try{let h=null,g=null;this.flowType==="pkce"&&([h,g]=await dr(this.storage,this.storageKey));const m=await me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(i=e.options)===null||i===void 0?void 0:i.redirectTo)!==null&&r!==void 0?r:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:g}),headers:this.headers,xform:zx});return!((l=m.data)===null||l===void 0)&&l.url&&Nt()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(h){if(await Ct(this.storage,`${this.storageKey}-code-verifier`),ue(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:i},error:r}=e;if(r)throw r;if(!i)throw new Jt;const{error:a}=await me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(ue(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const i=`${this.url}/resend`;if("email"in e){const{email:r,type:a,options:l}=e,{error:c}=await me(this.fetch,"POST",i,{headers:this.headers,body:{email:r,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:r,type:a,options:l}=e,{data:c,error:h}=await me(this.fetch,"POST",i,{headers:this.headers,body:{phone:r,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h})}throw new Oo("You must provide either an email or phone number and a type")}catch(i){if(ue(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(e,i){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await r,await i()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=i();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await e(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const i=await ys(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?e=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<bd:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const c=await ys(this.userStorage,this.storageKey+"-user");c!=null&&c.user?e.user=c.user:e.user=Td()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=qx(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const i=await this._acquireLock(-1,async()=>await this._getUser());return i.data.user&&(this.suppressGetSessionWarning=!0),i}async _getUser(e){try{return e?await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ji}):await this._useSession(async i=>{var r,a,l;const{data:c,error:h}=i;if(h)throw h;return!(!((r=c.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Jt}:await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:ji})})}catch(i){if(ue(i))return Pv(i)&&(await this._removeSession(),await Ct(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(e,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,i))}async _updateUser(e,i={}){try{return await this._useSession(async r=>{const{data:a,error:l}=r;if(l)throw l;if(!a.session)throw new Jt;const c=a.session;let h=null,g=null;this.flowType==="pkce"&&e.email!=null&&([h,g]=await dr(this.storage,this.storageKey));const{data:m,error:_}=await me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i==null?void 0:i.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:g}),jwt:c.access_token,xform:ji});if(_)throw _;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(r){if(await Ct(this.storage,`${this.storageKey}-code-verifier`),ue(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Jt;const i=Date.now()/1e3;let r=i,a=!0,l=null;const{payload:c}=Sd(e.access_token);if(c.exp&&(r=c.exp,a=r<=i),a){const{data:h,error:g}=await this._callRefreshToken(e.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!h)return{data:{user:null,session:null},error:null};l=h}else{const{data:h,error:g}=await this._getUser(e.access_token);if(g)throw g;l={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:r-i,expires_at:r},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(i){if(ue(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async i=>{var r;if(!e){const{data:c,error:h}=i;if(h)throw h;e=(r=c.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Jt;const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(ue(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(e,i){try{if(!Nt())throw new Lo("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Lo(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new jd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Lo("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new jd("No code detected.");const{data:L,error:k}=await this._exchangeCodeForSession(e.code);if(k)throw k;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:L.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:a,access_token:l,refresh_token:c,expires_in:h,expires_at:g,token_type:m}=e;if(!l||!h||!c||!m)throw new Lo("No session defined in URL");const _=Math.round(Date.now()/1e3),E=parseInt(h);let b=_+E;g&&(b=parseInt(g));const T=b-_;T*1e3<=pr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${T}s, should have been closer to ${E}s`);const A=b-E;_-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,b,_):_-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,b,_);const{data:N,error:R}=await this._getUser(l);if(R)throw R;const P={provider_token:r,provider_refresh_token:a,access_token:l,expires_in:E,expires_at:b,refresh_token:c,token_type:m,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:P,redirectType:e.type},error:null})}catch(r){if(ue(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const i=await ys(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&i)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async i=>{var r;const{data:a,error:l}=i;if(l)return this._returnResult({error:l});const c=(r=a.session)===null||r===void 0?void 0:r.access_token;if(c){const{error:h}=await this.admin.signOut(c,e);if(h&&!(Uv(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return e!=="others"&&(await this._removeSession(),await Ct(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const i=xx(),r={id:i,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async i=>{var r,a;try{const{data:{session:l},error:c}=i;if(c)throw c;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,i={}){let r=null,a=null;this.flowType==="pkce"&&([r,a]=await dr(this.storage,this.storageKey,!0));try{return await me(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:a,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(l){if(await Ct(this.storage,`${this.storageKey}-code-verifier`),ue(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:i,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=i.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(i){if(ue(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var i;try{const{data:r,error:a}=await this._useSession(async l=>{var c,h,g,m,_;const{data:E,error:b}=l;if(b)throw b;const T=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(g=e.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await me(this.fetch,"GET",T,{headers:this.headers,jwt:(_=(m=E.session)===null||m===void 0?void 0:m.access_token)!==null&&_!==void 0?_:void 0})});if(a)throw a;return Nt()&&!(!((i=e.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(ue(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async i=>{var r;try{const{error:a,data:{session:l}}=i;if(a)throw a;const{options:c,provider:h,token:g,access_token:m,nonce:_}=e,E=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=l==null?void 0:l.access_token)!==null&&r!==void 0?r:void 0,body:{provider:h,id_token:g,access_token:m,nonce:_,link_identity:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Sn}),{data:b,error:T}=E;return T?this._returnResult({data:{user:null,session:null},error:T}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new vs}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:T}))}catch(a){if(await Ct(this.storage,`${this.storageKey}-code-verifier`),ue(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async i=>{var r,a;const{data:l,error:c}=i;if(c)throw c;return await me(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0})})}catch(i){if(ue(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(e){const i=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{const r=Date.now();return await Nx(async a=>(a>0&&await Cx(200*Math.pow(2,a-1)),this._debug(i,"refreshing attempt",a),await me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Sn})),(a,l)=>{const c=200*Math.pow(2,a);return l&&wl(l)&&Date.now()+c-r<pr})}catch(r){if(this._debug(i,"error",r),ue(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(i,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,i){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",i,"url",r),Nt()&&!i.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,i;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const a=await ys(this.storage,this.storageKey);if(a&&this.userStorage){let c=await ys(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:a.user},await mr(this.userStorage,this.storageKey+"-user",c)),a.user=(e=c==null?void 0:c.user)!==null&&e!==void 0?e:Td()}else if(a&&!a.user&&!a.user){const c=await ys(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(a.user=c.user,await Ct(this.storage,this.storageKey+"-user"),await mr(this.storage,this.storageKey,a)):a.user=Td()}if(this._debug(r,"session from storage",a),!this._isValidSession(a)){this._debug(r,"session is not valid"),a!==null&&await this._removeSession();return}const l=((i=a.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<bd;if(this._debug(r,`session has${l?"":" not"} expired with margin of ${bd}s`),l){if(this.autoRefreshToken&&a.refresh_token){const{error:c}=await this._callRefreshToken(a.refresh_token);c&&(console.error(c),wl(c)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:h}=await this._getUser(a.access_token);!h&&(c!=null&&c.user)?(a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(r,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(r,"error",a),console.error(a);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var i,r;if(!e)throw new Jt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Kl;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new Jt;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const h={data:l.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(l){if(this._debug(a,"error",l),ue(l)){const c={data:null,error:l};return wl(l)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(c),c}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,i,r=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",i,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:i});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,i)}catch(g){l.push(g)}});if(await Promise.all(c),l.length>0){for(let h=0;h<l.length;h+=1)console.error(l[h]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Ct(this.storage,`${this.storageKey}-code-verifier`);const i=Object.assign({},e),r=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&i.user&&await mr(this.userStorage,this.storageKey+"-user",{user:i.user});const a=Object.assign({},i);delete a.user;const l=qg(a);await mr(this.storage,this.storageKey,l)}else{const a=qg(i);await mr(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ct(this.storage,this.storageKey),await Ct(this.storage,this.storageKey+"-code-verifier"),await Ct(this.storage,this.storageKey+"-user"),this.userStorage&&await Ct(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Nt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),pr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async i=>{const{data:{session:r}}=i;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((r.expires_at*1e3-e)/pr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${pr}ms, refresh threshold is ${zd} ticks`),a<=zd&&await this._callRefreshToken(r.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof pf)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Nt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const i=`#_onVisibilityChanged(${e})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,i,r){const a=[`provider=${encodeURIComponent(i)}`];if(r!=null&&r.redirectTo&&a.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&a.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[l,c]=await dr(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});a.push(h.toString())}if(r!=null&&r.queryParams){const l=new URLSearchParams(r.queryParams);a.push(l.toString())}return r!=null&&r.skipBrowserRedirect&&a.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async i=>{var r;const{data:a,error:l}=i;return l?this._returnResult({data:null,error:l}):await me(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(i){if(ue(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(e){try{return await this._useSession(async i=>{var r,a;const{data:l,error:c}=i;if(c)return this._returnResult({data:null,error:c});const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:g,error:m}=await me(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(r=l==null?void 0:l.session)===null||r===void 0?void 0:r.access_token});return m?this._returnResult({data:null,error:m}):(e.factorType==="totp"&&g.type==="totp"&&(!((a=g==null?void 0:g.totp)===null||a===void 0)&&a.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(i){if(ue(i))return this._returnResult({data:null,error:i});throw i}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var r;const{data:a,error:l}=i;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?iw(e.webauthn.credential_response):sw(e.webauthn.credential_response)})}:{code:e.code}),{data:h,error:g}=await me(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:g}))})}catch(i){if(ue(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var r;const{data:a,error:l}=i;if(l)return this._returnResult({data:null,error:l});const c=await me(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});if(c.error)return c;const{data:h}=c;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:tw(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:nw(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(ue(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(e){const{data:i,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:i.id,code:e.code})}async _listFactors(){var e;const{data:{user:i},error:r}=await this.getUser();if(r)return{data:null,error:r};const a={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=i==null?void 0:i.factors)!==null&&e!==void 0?e:[])a.all.push(l),l.status==="verified"&&a[l.factor_type].push(l);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var e,i;const{data:{session:r},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Sd(r.access_token);let c=null;l.aal&&(c=l.aal);let h=c;((i=(e=r.user.factors)===null||e===void 0?void 0:e.filter(_=>_.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(h="aal2");const m=l.amr||[];return{data:{currentLevel:c,nextLevel:h,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async i=>{const{data:{session:r},error:a}=i;return a?this._returnResult({data:null,error:a}):r?await me(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Jt})})}catch(i){if(ue(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(e,i){try{return await this._useSession(async r=>{const{data:{session:a},error:l}=r;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new Jt});const c=await me(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&Nt()&&!(i!=null&&i.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,i){try{return await this._useSession(async r=>{const{data:{session:a},error:l}=r;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new Jt});const c=await me(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&Nt()&&!(i!=null&&i.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:i},error:r}=e;return r?this._returnResult({data:null,error:r}):i?await me(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Jt})})}catch(e){if(ue(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async i=>{const{data:{session:r},error:a}=i;return a?this._returnResult({data:null,error:a}):r?(await me(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Jt})})}catch(i){if(ue(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(e,i={keys:[]}){let r=i.keys.find(h=>h.kid===e);if(r)return r;const a=Date.now();if(r=this.jwks.keys.find(h=>h.kid===e),r&&this.jwks_cached_at+gx>a)return r;const{data:l,error:c}=await me(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=a,r=l.keys.find(h=>h.kid===e),!r)?null:r}async getClaims(e,i={}){try{let r=e;if(!r){const{data:T,error:A}=await this.getSession();if(A||!T.session)return this._returnResult({data:null,error:A});r=T.session.access_token}const{header:a,payload:l,signature:c,raw:{header:h,payload:g}}=Sd(r);i!=null&&i.allowExpired||Px(l.exp);const m=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,i!=null&&i.keys?{keys:i.keys}:i==null?void 0:i.jwks);if(!m){const{error:T}=await this.getUser(r);if(T)throw T;return{data:{claims:l,header:a,signature:c},error:null}}const _=Ox(a.alg),E=await crypto.subtle.importKey("jwk",m,_,!0,["verify"]);if(!await crypto.subtle.verify(_,E,c,Sx(`${h}.${g}`)))throw new Ol("Invalid JWT signature");return{data:{claims:l,header:a,signature:c},error:null}}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}};mf.nextInstanceID={};const hw=hf,pw=mf,mw=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:hw,AuthApiError:kv,AuthClient:pw,AuthError:Tr,AuthImplicitGrantRedirectError:Lo,AuthInvalidCredentialsError:Oo,AuthInvalidJwtError:Ol,AuthInvalidTokenResponseError:vs,AuthPKCEGrantCodeExchangeError:jd,AuthRetryableFetchError:Pl,AuthSessionMissingError:Jt,AuthUnknownError:Vi,AuthWeakPasswordError:Fd,CustomAuthError:li,GoTrueAdminApi:hf,GoTrueClient:mf,NavigatorLockAcquireTimeoutError:Gv,SIGN_OUT_SCOPES:Al,isAuthApiError:Uv,isAuthError:ue,isAuthImplicitGrantRedirectError:Ov,isAuthRetryableFetchError:wl,isAuthSessionMissingError:Pv,isAuthWeakPasswordError:yx,lockInternals:Es,navigatorLock:Bv,processLock:$x},Symbol.toStringTag,{value:"Module"})),jv=zo(mw);var $g;function gw(){if($g)return Uo;$g=1,Object.defineProperty(Uo,"__esModule",{value:!0}),Uo.SupabaseAuthClient=void 0;const n=jv;let e=class extends n.AuthClient{constructor(r){super(r)}};return Uo.SupabaseAuthClient=e,Uo}var Jg;function Yg(){if(Jg)return hl;Jg=1,Object.defineProperty(hl,"__esModule",{value:!0});const n=nv,e=lv(),i=yv,r=ax,a=ux(),l=cx(),c=dx(),h=gw();class g{constructor(_,E,b){var T,A,N;this.supabaseUrl=_,this.supabaseKey=E;const R=(0,c.validateSupabaseUrl)(_);if(!E)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",R),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",R),this.storageUrl=new URL("storage/v1",R),this.functionsUrl=new URL("functions/v1",R);const P=`sb-${R.hostname.split(".")[0]}-auth-token`,L={db:a.DEFAULT_DB_OPTIONS,realtime:a.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},a.DEFAULT_AUTH_OPTIONS),{storageKey:P}),global:a.DEFAULT_GLOBAL_OPTIONS},k=(0,c.applySettingDefaults)(b??{},L);this.storageKey=(T=k.auth.storageKey)!==null&&T!==void 0?T:"",this.headers=(A=k.global.headers)!==null&&A!==void 0?A:{},k.accessToken?(this.accessToken=k.accessToken,this.auth=new Proxy({},{get:(j,Y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(Y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((N=k.auth)!==null&&N!==void 0?N:{},this.headers,k.global.fetch),this.fetch=(0,l.fetchWithAuth)(E,this._getAccessToken.bind(this),k.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},k.realtime)),this.accessToken&&this.accessToken().then(j=>this.realtime.setAuth(j)).catch(j=>console.warn("Failed to set initial Realtime auth token:",j)),this.rest=new e.PostgrestClient(new URL("rest/v1",R).href,{headers:this.headers,schema:k.db.schema,fetch:this.fetch}),this.storage=new r.StorageClient(this.storageUrl.href,this.headers,this.fetch,b==null?void 0:b.storage),k.accessToken||this._listenForAuthEvents()}get functions(){return new n.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(_){return this.rest.from(_)}schema(_){return this.rest.schema(_)}rpc(_,E={},b={head:!1,get:!1,count:void 0}){return this.rest.rpc(_,E,b)}channel(_,E={config:{}}){return this.realtime.channel(_,E)}getChannels(){return this.realtime.getChannels()}removeChannel(_){return this.realtime.removeChannel(_)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var _,E;if(this.accessToken)return await this.accessToken();const{data:b}=await this.auth.getSession();return(E=(_=b.session)===null||_===void 0?void 0:_.access_token)!==null&&E!==void 0?E:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:_,persistSession:E,detectSessionInUrl:b,storage:T,userStorage:A,storageKey:N,flowType:R,lock:P,debug:L,throwOnError:k},j,Y){const Q={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new h.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},Q),j),storageKey:N,autoRefreshToken:_,persistSession:E,detectSessionInUrl:b,storage:T,userStorage:A,flowType:R,lock:P,debug:L,throwOnError:k,fetch:Y,hasCustomAuthorizationHeader:Object.keys(this.headers).some($=>$.toLowerCase()==="authorization")})}_initRealtimeClient(_){return new i.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},_),{params:Object.assign({apikey:this.supabaseKey},_==null?void 0:_.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((E,b)=>{this._handleTokenChanged(E,"CLIENT",b==null?void 0:b.access_token)})}_handleTokenChanged(_,E,b){(_==="TOKEN_REFRESHED"||_==="SIGNED_IN")&&this.changedAccessToken!==b?(this.changedAccessToken=b,this.realtime.setAuth(b)):_==="SIGNED_OUT"&&(this.realtime.setAuth(),E=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return hl.default=g,hl}var Kg;function yw(){return Kg||(Kg=1,(function(n){var e=ri&&ri.__createBinding||(Object.create?(function(_,E,b,T){T===void 0&&(T=b);var A=Object.getOwnPropertyDescriptor(E,b);(!A||("get"in A?!E.__esModule:A.writable||A.configurable))&&(A={enumerable:!0,get:function(){return E[b]}}),Object.defineProperty(_,T,A)}):(function(_,E,b,T){T===void 0&&(T=b),_[T]=E[b]})),i=ri&&ri.__exportStar||function(_,E){for(var b in _)b!=="default"&&!Object.prototype.hasOwnProperty.call(E,b)&&e(E,_,b)},r=ri&&ri.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(n,"__esModule",{value:!0}),n.createClient=n.SupabaseClient=n.FunctionRegion=n.FunctionsError=n.FunctionsRelayError=n.FunctionsFetchError=n.FunctionsHttpError=n.PostgrestError=void 0;const a=r(Yg());i(jv,n);var l=lv();Object.defineProperty(n,"PostgrestError",{enumerable:!0,get:function(){return l.PostgrestError}});var c=nv;Object.defineProperty(n,"FunctionsHttpError",{enumerable:!0,get:function(){return c.FunctionsHttpError}}),Object.defineProperty(n,"FunctionsFetchError",{enumerable:!0,get:function(){return c.FunctionsFetchError}}),Object.defineProperty(n,"FunctionsRelayError",{enumerable:!0,get:function(){return c.FunctionsRelayError}}),Object.defineProperty(n,"FunctionsError",{enumerable:!0,get:function(){return c.FunctionsError}}),Object.defineProperty(n,"FunctionRegion",{enumerable:!0,get:function(){return c.FunctionRegion}}),i(yv,n);var h=Yg();Object.defineProperty(n,"SupabaseClient",{enumerable:!0,get:function(){return r(h).default}});const g=(_,E,b)=>new a.default(_,E,b);n.createClient=g;function m(){if(typeof window<"u"||typeof process>"u")return!1;const _=process.version;if(_==null)return!1;const E=_.match(/^v(\d+)\./);return E?parseInt(E[1],10)<=18:!1}m()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(ri)),ri}var Fv=yw();const $v=nf(Fv),vw=Ab({__proto__:null,default:$v},[Fv]),{PostgrestError:BI,FunctionsHttpError:zI,FunctionsFetchError:VI,FunctionsRelayError:jI,FunctionsError:FI,FunctionRegion:$I,SupabaseClient:JI,createClient:_w,GoTrueAdminApi:YI,GoTrueClient:KI,AuthAdminApi:QI,AuthClient:XI,navigatorLock:WI,NavigatorLockAcquireTimeoutError:ZI,lockInternals:e2,processLock:t2,SIGN_OUT_SCOPES:n2,AuthError:i2,AuthApiError:s2,AuthUnknownError:r2,CustomAuthError:o2,AuthSessionMissingError:a2,AuthInvalidTokenResponseError:l2,AuthInvalidCredentialsError:u2,AuthImplicitGrantRedirectError:c2,AuthPKCEGrantCodeExchangeError:d2,AuthRetryableFetchError:f2,AuthWeakPasswordError:h2,AuthInvalidJwtError:p2,isAuthError:m2,isAuthApiError:g2,isAuthSessionMissingError:y2,isAuthImplicitGrantRedirectError:v2,isAuthRetryableFetchError:_2,isAuthWeakPasswordError:E2,RealtimePresence:b2,RealtimeChannel:S2,RealtimeClient:T2,REALTIME_LISTEN_TYPES:x2,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:w2,REALTIME_PRESENCE_LISTEN_EVENTS:A2,REALTIME_SUBSCRIBE_STATES:C2,REALTIME_CHANNEL_STATES:N2}=$v||vw,Ew="https://dvwgawprlevpknpsumoi.supabase.co",bw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR2d2dhd3BybGV2cGtucHN1bW9pIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQzNDQ0NTYsImV4cCI6MjA3OTkyMDQ1Nn0.JyghEtuB5c-0SQ0i_cJZuUHZFJwDsvx8DId6i9YUxa8",Ee=_w(Ew,bw),kn=({ads:n,location:e,contentContext:i,isSubscribed:r,isAdmin:a,materialAdsEnabled:l=!0,className:c=""})=>{const[h,g]=K.useState("DESKTOP"),[m,_]=K.useState([]);return K.useEffect(()=>{const E=()=>{g(window.innerWidth<768?"MOBILE":"DESKTOP")};return E(),window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)},[]),K.useEffect(()=>{if(l===!1){_([]);return}if(!(a||!r)){_([]);return}const b=n.filter(T=>{if(T.location!==e||!T.is_active)return!1;const A=new Date;return T.start_date&&new Date(T.start_date)>A||T.end_date&&new Date(T.end_date)<A||T.device_target!=="ALL"&&T.device_target!==h?!1:T.target_type==="ALL"?!0:i?T.target_type===i:!1});_(b)},[n,e,i,r,a,h,l]),K.useEffect(()=>{m.length>0&&!a&&m.forEach(async E=>{try{await Ee.from("advertisements").update({impressions:(E.impressions||0)+1}).eq("id",E.id)}catch{}})},[m,a]),m.length===0?null:v.jsx("div",{className:`w-full flex flex-col items-center gap-4 my-4 animate-in fade-in duration-700 ${c}`,children:m.map(E=>v.jsx("div",{className:"w-full max-w-full flex justify-center relative",children:v.jsx(R0,{adCode:E.ad_code,format:E.ad_format})},E.id))})},Sw=({banners:n})=>{const[e,i]=K.useState(0);if(K.useEffect(()=>{if(n.length<=1)return;const l=setInterval(()=>{i(c=>(c+1)%n.length)},5e3);return()=>clearInterval(l)},[n.length]),n.length===0)return null;const r=()=>i(l=>(l+1)%n.length),a=()=>i(l=>(l-1+n.length)%n.length);return v.jsxs("div",{className:"relative w-full h-[250px] md:h-[350px] overflow-hidden rounded-3xl shadow-2xl group border border-white/20 animate-in zoom-in duration-500 bg-slate-900",children:[n.map((l,c)=>v.jsx("div",{className:`absolute inset-0 transition-all duration-700 ease-in-out transform ${c===e?"opacity-100 z-10":"opacity-0 z-0"}`,children:l.html_content?v.jsx("div",{className:"w-full h-full overflow-hidden bg-white",children:v.jsx(R0,{adCode:l.html_content,className:"w-full h-full",format:"BANNER"})}):v.jsxs(v.Fragment,{children:[v.jsx("img",{src:l.image_url,alt:l.title,className:"w-full h-full object-cover"}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent flex items-end p-6 md:p-10 pointer-events-none",children:v.jsxs("div",{className:"text-white max-w-2xl transform transition-all duration-700 translate-y-0 pointer-events-auto",children:[v.jsx("span",{className:"bg-rose-500 text-white text-[10px] font-bold px-2 py-1 rounded-full uppercase tracking-wider mb-2 inline-block animate-pulse",children:"Special Offer"}),v.jsx("h3",{className:"text-2xl md:text-4xl font-extrabold mb-4 leading-tight shadow-sm drop-shadow-md",children:l.title}),l.link_url&&v.jsxs("a",{href:l.link_url,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 bg-white text-indigo-900 px-6 py-2.5 rounded-full font-bold text-sm hover:bg-indigo-50 transition-colors shadow-lg",children:["Check Offer ",v.jsx(dS,{className:"h-4 w-4"})]})]})})]})},l.id)),n.length>1&&v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:a,className:"absolute left-4 top-1/2 -translate-y-1/2 bg-black/30 hover:bg-black/60 text-white p-3 rounded-full backdrop-blur-md opacity-0 group-hover:opacity-100 transition-opacity border border-white/10 z-20",children:v.jsx(Wb,{className:"h-5 w-5"})}),v.jsx("button",{onClick:r,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-black/30 hover:bg-black/60 text-white p-3 rounded-full backdrop-blur-md opacity-0 group-hover:opacity-100 transition-opacity border border-white/10 z-20",children:v.jsx(Qb,{className:"h-5 w-5"})}),v.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2 z-20",children:n.map((l,c)=>v.jsx("button",{onClick:()=>i(c),className:`h-2 rounded-full transition-all duration-300 ${c===e?"bg-rose-500 w-8":"bg-white/50 w-2 hover:bg-white"}`},c))})]})]})},Tw=({onGetStarted:n,ads:e,banners:i,featuredHtml:r,onChangeView:a,onMaterialClick:l})=>v.jsxs("div",{className:"bg-surface font-sans",children:[v.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-indigo-900 via-purple-900 to-rose-900 text-white pb-20",children:[v.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10"}),v.jsx("div",{className:"absolute top-0 right-0 -mr-20 -mt-20 w-96 h-96 rounded-full bg-blue-600/30 blur-3xl animate-blob"}),v.jsx("div",{className:"absolute bottom-0 left-0 -ml-20 -mb-20 w-80 h-80 rounded-full bg-rose-500/20 blur-3xl animate-blob animation-delay-2000"}),v.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 md:py-20",children:[v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[v.jsxs("div",{className:"animate-in slide-in-from-bottom-8 duration-700",children:[v.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/10 border border-white/20 text-indigo-100 text-xs font-bold uppercase tracking-wider mb-6 backdrop-blur-sm",children:[v.jsx("span",{className:"w-2 h-2 rounded-full bg-rose-400 animate-pulse"}),"#1 Platform for RRB & SSC"]}),v.jsxs("h1",{className:"text-4xl md:text-5xl font-extrabold tracking-tight mb-6 leading-tight",children:["Master Your ",v.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-300 via-purple-300 to-rose-300",children:"Competitive Exams"})]}),v.jsxs("p",{className:"text-lg text-indigo-100 mb-8 leading-relaxed font-light",children:["Access premium PDF notes, interactive HTML courses, and mock tests. ",v.jsx("br",{}),v.jsx("span",{className:"font-semibold text-white",children:"Join 10,000+ students achieving their dreams."})]}),v.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[v.jsxs("button",{onClick:n,className:"px-8 py-4 bg-white text-indigo-900 font-bold rounded-2xl text-lg shadow-xl shadow-indigo-900/20 transition-all flex items-center justify-center gap-2 transform hover:-translate-y-1 hover:bg-indigo-50 hover:scale-105 active:scale-95 duration-200",children:["Explore Library ",v.jsx(Rl,{className:"h-5 w-5 text-rose-500"})]}),v.jsxs("button",{onClick:()=>a(we.MOCK_TEST_LIST),className:"px-8 py-4 bg-white/10 backdrop-blur-sm border border-white/20 text-white font-bold rounded-2xl text-lg flex items-center justify-center gap-2 hover:bg-white/20 transition-all hover:-translate-y-1 hover:scale-105 active:scale-95 duration-200",children:[v.jsx(lT,{className:"h-5 w-5 text-yellow-400"})," Free Mock Tests"]})]})]}),v.jsx("div",{className:"w-full animate-in fade-in slide-in-from-right-8 duration-1000",children:i.length>0?v.jsx(Sw,{banners:i}):v.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-3xl p-8 flex flex-col items-center justify-center h-[300px] text-indigo-200 backdrop-blur-sm",children:[v.jsx(vg,{className:"h-12 w-12 text-yellow-400 mb-4 opacity-50"}),v.jsx("p",{className:"font-bold",children:"New Offers Coming Soon!"}),v.jsx("p",{className:"text-sm opacity-70",children:"Stay tuned for premium discounts."})]})})]}),v.jsxs("div",{className:"mt-12 flex flex-wrap items-center justify-center lg:justify-start gap-6 text-sm text-indigo-200 font-medium animate-in fade-in duration-1000 delay-300",children:[v.jsxs("div",{className:"flex items-center gap-2 bg-white/5 px-4 py-2 rounded-full border border-white/10 hover:bg-white/10 transition-colors",children:[v.jsx(C0,{className:"h-5 w-5 text-green-400"})," Verified Content"]}),v.jsxs("div",{className:"flex items-center gap-2 bg-white/5 px-4 py-2 rounded-full border border-white/10 hover:bg-white/10 transition-colors",children:[v.jsx(rT,{className:"h-5 w-5 text-blue-300"})," 10k+ Registered Students"]}),v.jsxs("div",{className:"flex items-center gap-2 bg-white/5 px-4 py-2 rounded-full border border-white/10 hover:bg-white/10 transition-colors",children:[v.jsx(vg,{className:"h-5 w-5 text-rose-400"})," 4.9/5 Rating"]})]})]})]}),v.jsx("div",{className:"py-20 bg-gradient-to-b from-white to-surface relative",children:v.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[v.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-10 gap-4",children:[v.jsxs("div",{className:"animate-in slide-in-from-left-8 duration-700",children:[v.jsxs("span",{className:"text-rose-500 font-bold text-xs uppercase tracking-widest mb-2 flex items-center gap-2",children:[v.jsx(x0,{className:"h-4 w-4"})," Study Resources"]}),v.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold text-slate-900 mb-2",children:"Best HTML Resources"}),v.jsx("div",{className:"h-1.5 w-24 bg-gradient-to-r from-rose-500 to-orange-400 rounded-full mt-2"}),v.jsx("p",{className:"text-slate-500 mt-4 max-w-lg",children:"Hand-picked web resources available as document views."})]}),r.length>0&&v.jsxs("button",{onClick:n,className:"text-primary font-bold hover:text-primaryDark flex items-center gap-2 bg-indigo-50 px-4 py-2 rounded-full transition-all hover:bg-indigo-100",children:["View All ",v.jsx(Rl,{className:"h-4 w-4"})]})]}),r.length>0?v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.slice(0,3).map((c,h)=>v.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-8",style:{animationDelay:`${h*150}ms`},children:v.jsx(N0,{material:c,onClick:l})},c.id))}):v.jsxs("div",{className:"text-center py-16 bg-white rounded-3xl border-2 border-dashed border-slate-200 animate-in fade-in",children:[v.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-4",children:v.jsx(wd,{className:"h-8 w-8 text-slate-300"})}),v.jsx("h3",{className:"text-lg font-bold text-slate-700",children:"No HTML resources featured yet"}),v.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Check back later for interactive content."})]})]})}),v.jsx("div",{className:"max-w-7xl mx-auto px-4 mt-8",children:v.jsx(kn,{ads:e,location:"HOME_HERO"})}),v.jsx("div",{className:"py-24 bg-surface",children:v.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[v.jsxs("div",{className:"text-center max-w-2xl mx-auto mb-16 animate-in slide-in-from-bottom-8 duration-700",children:[v.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-4 font-serif",children:"Everything You Need to Excel"}),v.jsx("div",{className:"h-1 w-20 bg-gradient-to-r from-primary to-secondary mx-auto rounded-full mb-4"}),v.jsx("p",{className:"text-slate-600 text-lg",children:"We provide structured content designed specifically for competitive exam patterns."})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{icon:v.jsx(wd,{className:"h-8 w-8 text-primary"}),title:"Comprehensive Notes",desc:"Detailed PDF notes covering History, Geography, Polity, and Science for all major exams.",bg:"bg-indigo-50",border:"border-indigo-100"},{icon:v.jsx(Fl,{className:"h-8 w-8 text-secondary"}),title:"Previous Year Papers",desc:"Practice with authentic PYQs from RRB Group D, SSC CGL, and Banking exams.",bg:"bg-rose-50",border:"border-rose-100"},{icon:v.jsx(Ad,{className:"h-8 w-8 text-purple-600"}),title:"Exam Targeted",desc:"Content categorized by exam type ensuring you study exactly what matters.",bg:"bg-purple-50",border:"border-purple-100"}].map((c,h)=>v.jsxs("div",{className:`bg-white p-8 rounded-3xl shadow-sm border ${c.border} hover:shadow-xl hover:-translate-y-2 transition-all duration-300 animate-in fade-in zoom-in`,style:{animationDelay:`${h*150}ms`},children:[v.jsx("div",{className:`mb-6 p-4 ${c.bg} rounded-2xl w-fit`,children:c.icon}),v.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-3",children:c.title}),v.jsx("p",{className:"text-slate-600 leading-relaxed",children:c.desc})]},h))})]})}),v.jsx("div",{className:"max-w-7xl mx-auto px-4",children:v.jsx(kn,{ads:e,location:"HOME_FOOTER"})}),v.jsx("footer",{className:"bg-white text-slate-600 py-12 border-t border-indigo-50",children:v.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-12 mb-12",children:[v.jsxs("div",{className:"col-span-1 md:col-span-2",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[v.jsx("div",{className:"bg-primary p-2 rounded-lg",children:v.jsx(Ad,{className:"h-6 w-6 text-white"})}),v.jsx("span",{className:"text-2xl font-bold text-slate-900",children:"DPR Study Centre"})]}),v.jsx("p",{className:"max-w-sm mb-6 leading-relaxed text-slate-500",children:"Empowering students with affordable, high-quality educational resources."})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"text-slate-900 font-bold mb-6 text-lg",children:"Quick Links"}),v.jsxs("ul",{className:"space-y-3",children:[v.jsx("li",{children:v.jsx("button",{onClick:()=>a(we.DASHBOARD),className:"hover:text-primary transition-colors",children:"Library"})}),v.jsx("li",{children:v.jsx("button",{onClick:()=>a(we.TERMS),className:"hover:text-primary transition-colors",children:"Terms & Conditions"})}),v.jsx("li",{children:v.jsx("button",{onClick:()=>a(we.PRIVACY),className:"hover:text-primary transition-colors",children:"Privacy Policy"})}),v.jsx("li",{children:v.jsx("button",{onClick:()=>a(we.REFUND),className:"hover:text-primary transition-colors",children:"Refund Policy"})})]})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"text-slate-900 font-bold mb-6 text-lg",children:"Contact Us"}),v.jsxs("ul",{className:"space-y-3",children:[v.jsx("li",{onClick:()=>a(we.CONTACT),className:"flex items-center gap-2 hover:text-primary cursor-pointer transition-colors",children:"padhlikhle783@gmail.com"}),v.jsx("li",{className:"flex items-center gap-2 text-slate-400 cursor-default",children:"New Delhi, India"})]})]})]}),v.jsxs("div",{className:"pt-8 border-t border-slate-100 text-sm text-center text-slate-400",children:[" ",new Date().getFullYear()," DPR Study Centre. All rights reserved."]})]})})]}),xw=({isOpen:n,title:e,message:i,confirmLabel:r="Confirm",cancelLabel:a="Cancel",isDestructive:l=!1,showCancel:c=!0,onConfirm:h,onCancel:g})=>n?v.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:v.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-sm w-full overflow-hidden border border-white/20 transform transition-all scale-100",children:[v.jsx("div",{className:"p-6",children:v.jsxs("div",{className:"flex items-start gap-4",children:[v.jsx("div",{className:`p-3 rounded-full flex-shrink-0 ${l?"bg-rose-50 text-rose-600":c?"bg-indigo-50 text-primary":"bg-green-50 text-green-600"}`,children:l?v.jsx(Rd,{className:"h-6 w-6"}):c?v.jsx(w0,{className:"h-6 w-6"}):v.jsx(Fl,{className:"h-6 w-6"})}),v.jsxs("div",{className:"flex-1",children:[v.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:e}),v.jsx("p",{className:"text-sm text-slate-500 leading-relaxed font-medium",children:i})]})]})}),v.jsxs("div",{className:"bg-slate-50 px-6 py-4 flex justify-end gap-3 border-t border-slate-100",children:[c&&v.jsx("button",{onClick:g,className:"px-5 py-2.5 bg-white border border-slate-200 text-slate-600 font-bold rounded-xl hover:bg-slate-100 transition-colors text-sm",children:a}),v.jsx("button",{onClick:h,className:`px-5 py-2.5 text-white font-bold rounded-xl shadow-lg transition-all transform hover:-translate-y-0.5 text-sm ${l?"bg-rose-600 hover:bg-rose-700 shadow-rose-200":c?"bg-primary hover:bg-primaryDark shadow-indigo-200":"bg-slate-900 hover:bg-slate-800 shadow-slate-200"}`,children:r})]})]})}):null,ww=({children:n})=>(K.useEffect(()=>{const e=a=>{const l=a.target;return l.tagName==="INPUT"||l.tagName==="TEXTAREA"?!0:(a.preventDefault(),!1)},i=a=>{const l=a.target,c=l.tagName==="INPUT"||l.tagName==="TEXTAREA";if(a.key==="F12"||a.ctrlKey&&a.shiftKey&&(a.key==="I"||a.key==="J"||a.key==="C"||a.key==="K"))return a.preventDefault(),!1;if(a.key==="PrintScreen")return navigator.clipboard.writeText(""),!1;if(a.ctrlKey&&(a.key==="u"||a.key==="s"||a.key==="p"||a.key==="a"||a.key==="c"||a.key==="x"||a.key==="v"))return c&&(a.key==="v"||a.key==="c"||a.key==="x"||a.key==="a")?!0:(a.preventDefault(),!1)},r=setInterval(()=>{const a=performance.now();performance.now()-a>100,console.clear()},2e3);return document.addEventListener("contextmenu",e),document.addEventListener("keydown",i),()=>{document.removeEventListener("contextmenu",e),document.removeEventListener("keydown",i),clearInterval(r)}},[]),v.jsx("div",{className:"relative w-full min-h-screen select-none print:hidden",onCopy:e=>{const i=e.target;i.tagName!=="INPUT"&&i.tagName!=="TEXTAREA"&&e.preventDefault()},children:n})),Aw=({user:n,userProfile:e})=>{const i=n?`${(e==null?void 0:e.full_name)||"User"} - ${n.email}`:"DPR Study Centre  Protected",r=new Date().toISOString(),a=n!=null&&n.id?n.id.substring(0,8):"GUEST";return v.jsxs("div",{className:"absolute inset-0 z-[50] pointer-events-none overflow-hidden select-none bg-transparent",children:[v.jsx("div",{className:"absolute inset-0 opacity-[0.05] z-10 pointer-events-none",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='1.5' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E")`}}),v.jsx("div",{className:"absolute inset-0 flex flex-wrap content-start justify-center opacity-[0.08] z-30 overflow-hidden",children:Array.from({length:20}).map((l,c)=>v.jsxs("div",{className:"transform -rotate-45 p-16 text-center select-none",children:[v.jsx("span",{className:"text-lg font-black text-slate-500 block",children:i}),v.jsx("span",{className:"text-xs font-mono font-bold text-slate-400 block",children:r}),v.jsxs("span",{className:"text-[10px] font-mono text-slate-300 block",children:["ID: ",a]})]},c))}),v.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-0 z-0 select-text overflow-hidden text-[1px] text-transparent pointer-events-none",children:Array(50).fill("COPYRIGHT INFRINGEMENT TRACKED. DO NOT COPY. ").join(" ")})]})},Cw=({onLoginSuccess:n,onCancel:e})=>{const[i,r]=K.useState(""),[a,l]=K.useState(""),[c,h]=K.useState(!1),[g,m]=K.useState(""),[_,E]=K.useState(""),[b,T]=K.useState(0),[A,N]=K.useState(!1),[R,P]=K.useState(0),[L,k]=K.useState("");K.useEffect(()=>{const Y=btoa(`${navigator.userAgent}-${navigator.language}-${new Date().getTimezoneOffset()}`).substring(0,16);k(Y);const Q=localStorage.getItem("admin_lockout");if(Q){const $=parseInt(Q)-Date.now();if($>0){N(!0),P(Math.ceil($/1e3));const ae=setInterval(()=>{P(ee=>ee<=1?(N(!1),localStorage.removeItem("admin_lockout"),clearInterval(ae),0):ee-1)},1e3);return()=>clearInterval(ae)}else localStorage.removeItem("admin_lockout")}},[]);const j=async Y=>{if(Y.preventDefault(),E(""),!A){h(!0);try{if(m("Analyzing Device Fingerprint..."),await new Promise(ae=>setTimeout(ae,600)),m("Checking for Proxy/VPN Connections..."),await new Promise(ae=>setTimeout(ae,600)),m("Verifying Session Integrity..."),await new Promise(ae=>setTimeout(ae,600)),i==="king211raj@gmail.com"&&a==="Raj23@1")m("Access Granted."),await new Promise(ae=>setTimeout(ae,400)),n();else throw new Error("Invalid Credentials")}catch{const $=b+1;if(T($),E("Invalid Administration Credentials."),$>=5){const ae=Date.now()+9e5;localStorage.setItem("admin_lockout",ae.toString()),N(!0),P(900),E("Security Alert: Too many failed attempts. Access locked for 15 minutes.")}}finally{h(!1),m("")}}};return v.jsx("div",{className:"min-h-[80vh] flex items-center justify-center p-4",children:v.jsxs("div",{className:"bg-white w-full max-w-md rounded-3xl shadow-2xl border border-indigo-50 overflow-hidden relative",children:[v.jsxs("div",{className:"bg-slate-900 p-8 text-center relative overflow-hidden",children:[v.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-20"}),v.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[v.jsx("div",{className:"h-16 w-16 bg-gradient-to-br from-rose-500 to-red-700 rounded-2xl flex items-center justify-center shadow-lg mb-4 border-2 border-slate-700",children:v.jsx(Nd,{className:"h-8 w-8 text-white"})}),v.jsx("h2",{className:"text-2xl font-bold text-white tracking-wide",children:"SECURE ADMIN"}),v.jsx("p",{className:"text-slate-400 text-xs mt-1 uppercase tracking-widest",children:"Restricted Access Only"})]})]}),v.jsx("div",{className:"p-8",children:A?v.jsxs("div",{className:"bg-rose-50 border border-rose-100 rounded-xl p-6 text-center animate-in fade-in",children:[v.jsx(Rd,{className:"h-10 w-10 text-rose-600 mx-auto mb-3"}),v.jsx("h3",{className:"text-lg font-bold text-rose-800 mb-2",children:"Security Lockout"}),v.jsx("p",{className:"text-sm text-rose-600 mb-4",children:"Multiple failed attempts detected. Access is temporarily suspended."}),v.jsxs("div",{className:"text-2xl font-mono font-bold text-slate-800",children:[Math.floor(R/60),":",(R%60).toString().padStart(2,"0")]})]}):v.jsxs("form",{onSubmit:j,className:"space-y-6",children:[v.jsxs("div",{className:"flex justify-between items-center text-[10px] text-slate-400 font-mono bg-slate-50 p-2 rounded border border-slate-100",children:[v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(_S,{className:"h-3 w-3"})," ID: ",L]}),v.jsxs("span",{className:"flex items-center gap-1 text-green-600",children:[v.jsx(Fl,{className:"h-3 w-3"})," TLS 1.3"]})]}),_&&v.jsxs("div",{className:"p-3 bg-rose-50 border border-rose-100 text-rose-600 text-xs rounded-lg flex items-center gap-2",children:[v.jsx(Rd,{className:"h-4 w-4 flex-shrink-0"})," ",_]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5 ml-1",children:"Admin Email"}),v.jsxs("div",{className:"relative group",children:[v.jsx(bS,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400 group-focus-within:text-indigo-500 transition-colors"}),v.jsx("input",{type:"email",value:i,onChange:Y=>r(Y.target.value),className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:bg-white focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all text-sm font-medium",placeholder:"Enter authorized email",required:!0})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5 ml-1",children:"Secure Password"}),v.jsxs("div",{className:"relative group",children:[v.jsx(Ho,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400 group-focus-within:text-indigo-500 transition-colors"}),v.jsx("input",{type:"password",value:a,onChange:Y=>l(Y.target.value),className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:bg-white focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all text-sm font-medium",placeholder:"",required:!0})]})]}),c?v.jsxs("div",{className:"py-4 text-center",children:[v.jsxs("div",{className:"flex items-center justify-center gap-2 text-indigo-600 font-bold text-sm mb-2",children:[v.jsx(Ml,{className:"h-4 w-4 animate-spin"})," ",g]}),v.jsx("div",{className:"w-full h-1 bg-slate-100 rounded-full overflow-hidden",children:v.jsx("div",{className:"h-full bg-indigo-500 animate-progress origin-left"})})]}):v.jsxs("div",{className:"space-y-3",children:[v.jsxs("button",{type:"submit",className:"w-full py-3.5 bg-slate-900 text-white font-bold rounded-xl shadow-lg hover:bg-slate-800 transition-all transform hover:-translate-y-0.5 flex items-center justify-center gap-2",children:[v.jsx(Nd,{className:"h-4 w-4"})," Authenticate"]}),v.jsx("button",{type:"button",onClick:e,className:"w-full py-3 text-slate-500 font-bold hover:text-slate-800 transition-colors text-sm",children:"Return to Site"})]})]})}),v.jsx("div",{className:"bg-slate-50 p-4 text-center border-t border-slate-100",children:v.jsxs("p",{className:"text-[10px] text-slate-400",children:["Unauthorized access attempts are monitored and logged.",v.jsx("br",{}),"IP: ",Math.floor(Math.random()*255),".",Math.floor(Math.random()*255),".X.X (Logged)"]})})]})})},Nw=({children:n})=>{const e=`dpr-${Math.random().toString(36).substring(7)}`;return v.jsxs("div",{className:e,children:[v.jsxs("div",{style:{opacity:0,position:"absolute",top:0,left:0,height:0,width:0,zIndex:-1,overflow:"hidden"},"aria-hidden":"true",children:[v.jsx("input",{type:"text",name:"honeypot_name",tabIndex:-1,autoComplete:"off"}),v.jsx("input",{type:"email",name:"honeypot_email",tabIndex:-1,autoComplete:"off"}),v.jsx("input",{type:"checkbox",name:"is_bot",tabIndex:-1}),v.jsx("p",{children:"If you are human, do not fill these fields."})]}),n]})},Rw=({view:n,onBack:e})=>{const i=()=>{switch(n){case we.CONTACT:return v.jsx("div",{className:"space-y-8",children:v.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-indigo-100 shadow-sm",children:[v.jsxs("h2",{className:"text-2xl font-bold text-slate-900 mb-6 flex items-center gap-3",children:[v.jsx(Cd,{className:"h-6 w-6 text-primary"})," Contact Us"]}),v.jsxs("div",{className:"space-y-6",children:[v.jsx("p",{className:"text-slate-600 leading-relaxed",children:"We are here to help! If you have any queries regarding our study materials, subscriptions, or technical issues, please reach out to us."}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex items-start gap-4 p-4 bg-slate-50 rounded-xl",children:[v.jsx(Cd,{className:"h-5 w-5 text-indigo-500 mt-1"}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-bold text-slate-900",children:"Email Support"}),v.jsx("p",{className:"text-slate-600",children:"padhlikhle783@gmail.com"}),v.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Response time: Within 24 hours"})]})]}),v.jsxs("div",{className:"flex items-start gap-4 p-4 bg-slate-50 rounded-xl",children:[v.jsx(kS,{className:"h-5 w-5 text-rose-500 mt-1"}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-bold text-slate-900",children:"Registered Office"}),v.jsxs("p",{className:"text-slate-600",children:["DPR Study Centre",v.jsx("br",{}),"New Delhi, India"]})]})]})]})]})]})});case we.REFUND:return v.jsx("div",{className:"space-y-8",children:v.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-indigo-100 shadow-sm",children:[v.jsxs("h2",{className:"text-2xl font-bold text-slate-900 mb-6 flex items-center gap-3",children:[v.jsx(rf,{className:"h-6 w-6 text-green-600"})," Refund & Cancellation Policy"]}),v.jsxs("div",{className:"prose prose-slate max-w-none text-slate-600",children:[v.jsx("p",{children:"Last updated: October 2023"}),v.jsx("p",{children:"At DPR Study Centre, we strive to provide the highest quality educational resources. Please read our subscription and refund policy carefully before making a purchase."}),v.jsx("h3",{className:"text-lg font-bold text-slate-800 mt-6 mb-2",children:"1. Digital Content Policy"}),v.jsxs("p",{children:["Since our services consist of instant access to digital content (PDF Notes, Practice Sets, etc.), ",v.jsx("strong",{children:"all sales are final"}),". Once a subscription is active and content has been accessed, we generally do not offer refunds."]}),v.jsx("h3",{className:"text-lg font-bold text-slate-800 mt-6 mb-2",children:"2. Exceptional Circumstances"}),v.jsxs("p",{children:["However, we may consider a refund request within ",v.jsx("strong",{children:"5-7 days"})," of purchase under the following specific circumstances:"]}),v.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[v.jsx("li",{children:"If a duplicate payment was made due to a technical error."}),v.jsx("li",{children:"If the content is proven to be inaccessible due to a fault on our platform."})]}),v.jsx("h3",{className:"text-lg font-bold text-slate-800 mt-6 mb-2",children:"3. How to Request a Refund"}),v.jsxs("p",{children:["To request a refund, please email us at ",v.jsx("strong",{className:"text-primary",children:"padhlikhle783@gmail.com"})," with your Transaction ID and registered email address. Our team will review your request within 48 hours."]}),v.jsx("h3",{className:"text-lg font-bold text-slate-800 mt-6 mb-2",children:"4. Processing Timeline"}),v.jsxs("p",{children:["Approved refunds will be processed back to the original payment method within ",v.jsx("strong",{children:"5-7 business days"}),"."]})]})]})});case we.PRIVACY:return v.jsx("div",{className:"space-y-8",children:v.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-indigo-100 shadow-sm",children:[v.jsxs("h2",{className:"text-2xl font-bold text-slate-900 mb-6 flex items-center gap-3",children:[v.jsx(C0,{className:"h-6 w-6 text-blue-600"})," Privacy Policy"]}),v.jsxs("div",{className:"prose prose-slate max-w-none text-slate-600",children:[v.jsx("p",{children:'DPR Study Centre ("we", "our", or "us") is committed to protecting your privacy. This Privacy Policy explains how we collect, use, and safeguard your information.'}),v.jsx("h3",{className:"text-lg font-bold text-slate-800 mt-6 mb-2",children:"1. Information We Collect"}),v.jsx("p",{children:"We collect information you provide directly to us, such as:"}),v.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[v.jsxs("li",{children:[v.jsx("strong",{children:"Account Information:"})," Name, Email address, and Phone number when you register."]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Payment Information:"})," Transaction details (processed securely via Razorpay). We do not store card details."]})]}),v.jsx("h3",{className:"text-lg font-bold text-slate-800 mt-6 mb-2",children:"2. How We Use Your Information"}),v.jsx("p",{children:"We use the information to:"}),v.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[v.jsx("li",{children:"Provide, maintain, and improve our services."}),v.jsx("li",{children:"Process transactions and send related information."}),v.jsx("li",{children:"Send technical notices, updates, and support messages."})]}),v.jsx("h3",{className:"text-lg font-bold text-slate-800 mt-6 mb-2",children:"3. Data Security"}),v.jsx("p",{children:"We implement appropriate security measures to protect your personal data. However, no method of transmission over the Internet is 100% secure."}),v.jsx("h3",{className:"text-lg font-bold text-slate-800 mt-6 mb-2",children:"4. Contact Us"}),v.jsxs("p",{children:["If you have questions about this Privacy Policy, please contact us at ",v.jsx("strong",{className:"text-primary",children:"padhlikhle783@gmail.com"}),"."]})]})]})});case we.TERMS:return v.jsx("div",{className:"space-y-8",children:v.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-indigo-100 shadow-sm",children:[v.jsxs("h2",{className:"text-2xl font-bold text-slate-900 mb-6 flex items-center gap-3",children:[v.jsx(Sl,{className:"h-6 w-6 text-purple-600"})," Terms & Conditions"]}),v.jsxs("div",{className:"prose prose-slate max-w-none text-slate-600",children:[v.jsx("p",{children:"Welcome to DPR Study Centre. By accessing or using our website, you agree to be bound by these Terms and Conditions."}),v.jsx("h3",{className:"text-lg font-bold text-slate-800 mt-6 mb-2",children:"1. Use of Services"}),v.jsx("p",{children:"You agree to use our platform for lawful educational purposes only. You must not:"}),v.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[v.jsx("li",{children:"Share your account credentials with others."}),v.jsx("li",{children:"Attempt to copy, distribute, or reverse engineer our proprietary content."}),v.jsx("li",{children:"Engage in any activity that disrupts our services."})]}),v.jsx("h3",{className:"text-lg font-bold text-slate-800 mt-6 mb-2",children:"2. Intellectual Property"}),v.jsx("p",{children:"All content (PDFs, Videos, Text) on this platform is the property of DPR Study Centre. Unauthorized reproduction is strictly prohibited."}),v.jsx("h3",{className:"text-lg font-bold text-slate-800 mt-6 mb-2",children:"3. Limitation of Liability"}),v.jsx("p",{children:"DPR Study Centre shall not be liable for any indirect, incidental, or consequential damages arising from the use of our services."}),v.jsx("h3",{className:"text-lg font-bold text-slate-800 mt-6 mb-2",children:"4. Governing Law"}),v.jsx("p",{children:"These terms shall be governed by the laws of India. Any disputes shall be subject to the exclusive jurisdiction of the courts in New Delhi."}),v.jsxs("p",{className:"mt-6 text-sm",children:[v.jsx("strong",{children:"Contact:"})," padhlikhle783@gmail.com"]})]})]})});default:return null}};return v.jsx("div",{className:"min-h-screen bg-surface py-12 px-4 sm:px-6 lg:px-8",children:v.jsxs("div",{className:"max-w-4xl mx-auto",children:[v.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-slate-500 hover:text-primary font-bold mb-8 transition-colors",children:[v.jsx(jl,{className:"h-4 w-4"})," Back to Home"]}),i()]})})},Mw=({quiz:n,userEmail:e,ads:i,onFinish:r})=>{const[a,l]=K.useState([]),[c,h]=K.useState(0),[g,m]=K.useState({}),[_,E]=K.useState(new Set),[b,T]=K.useState(n.duration_minutes*60),[A,N]=K.useState(!1),[R,P]=K.useState(!1),[L,k]=K.useState(null);K.useEffect(()=>{(async()=>{const{data:ye}=await Ee.from("questions").select("*").eq("quiz_id",n.id);ye&&l(ye)})();const ne=setInterval(()=>{T(ye=>ye<=1?(Q(),clearInterval(ne),0):ye-1)},1e3);return()=>clearInterval(ne)},[n.id]);const j=Z=>{if(A)return;const ne=a[c].id;m(ye=>({...ye,[ne]:Z}))},Y=()=>{if(A)return;const Z=a[c].id;E(ne=>{const ye=new Set(ne);return ye.has(Z)?ye.delete(Z):ye.add(Z),ye})},Q=async()=>{if(A)return;N(!0);let Z=0,ne=0,ye=0,Be=0;a.forEach(Pe=>{const H=g[Pe.id];H?H===Pe.correct_option?(Z+=Pe.marks||1,ne++):ye++:Be++}),k({score:Z,correct:ne,wrong:ye,unattempted:Be,total:a.length});try{const{data:{user:Pe}}=await Ee.auth.getUser();if(Pe){const H={user_id:Pe.id,quiz_id:n.id,score:Z,total_questions:a.length,correct_answers:ne,wrong_answers:ye,time_taken_seconds:n.duration_minutes*60-b};await Ee.from("quiz_attempts").insert([H])}}catch(Pe){console.error("Error saving result",Pe)}},$=Z=>{const ne=Math.floor(Z/60),ye=Z%60;return`${ne.toString().padStart(2,"0")}:${ye.toString().padStart(2,"0")}`},ae=(Z,ne)=>n.language==="HINDI"&&ne?v.jsx("span",{className:"font-serif text-lg",children:ne}):n.language==="BILINGUAL"&&ne?v.jsxs("div",{className:"flex flex-col gap-1",children:[v.jsx("span",{className:"font-serif text-lg border-b border-dashed border-slate-200 pb-1 mb-1",children:ne}),v.jsx("span",{className:"text-slate-700",children:Z})]}):Z,ee=(Z,ne)=>n.language==="HINDI"&&ne?ne:n.language==="BILINGUAL"&&ne?`${ne} / ${Z}`:Z;if(a.length===0)return v.jsx("div",{className:"p-10 text-center flex items-center justify-center h-64",children:v.jsx("div",{className:"text-slate-500 font-bold",children:"Loading Questions..."})});if(A&&L)return v.jsx("div",{className:"max-w-4xl mx-auto p-4 animate-in fade-in zoom-in duration-300",children:v.jsxs("div",{className:"bg-white rounded-3xl shadow-xl overflow-hidden border border-indigo-50",children:[v.jsxs("div",{className:"p-8 bg-slate-900 text-white text-center relative",children:[v.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Test Completed"}),v.jsx("p",{className:"text-white/80",children:n.title}),v.jsx("div",{className:"my-4",children:v.jsx(kn,{ads:i,location:"DETAILS_FOOTER"})})]}),v.jsxs("div",{className:"p-8",children:[v.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8 text-center",children:[v.jsxs("div",{className:"p-4 bg-indigo-50 rounded-2xl",children:[v.jsx("div",{className:"text-3xl font-bold text-indigo-600",children:L.score.toFixed(0)}),v.jsx("div",{className:"text-[10px] font-bold uppercase text-slate-500 mt-1",children:"Total Score"})]}),v.jsxs("div",{className:"p-4 bg-green-50 rounded-2xl",children:[v.jsx("div",{className:"text-3xl font-bold text-green-600",children:L.correct}),v.jsx("div",{className:"text-[10px] font-bold uppercase text-slate-500 mt-1",children:"Correct"})]}),v.jsxs("div",{className:"p-4 bg-rose-50 rounded-2xl",children:[v.jsx("div",{className:"text-3xl font-bold text-rose-600",children:L.wrong}),v.jsx("div",{className:"text-[10px] font-bold uppercase text-slate-500 mt-1",children:"Wrong"})]}),v.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl",children:[v.jsx("div",{className:"text-3xl font-bold text-slate-600",children:L.unattempted}),v.jsx("div",{className:"text-[10px] font-bold uppercase text-slate-500 mt-1",children:"Unattempted"})]})]}),v.jsxs("div",{className:"space-y-6",children:[v.jsx("h3",{className:"font-bold text-lg border-b pb-2",children:"Detailed Analysis"}),a.map((Z,ne)=>{const ye=g[Z.id],Be=ye===Z.correct_option,Pe=!ye;let H="border-slate-200",W="bg-slate-50";return Be?(H="border-green-300",W="bg-green-50"):Pe||(H="border-rose-300",W="bg-rose-50"),v.jsxs("div",{className:`p-5 border rounded-xl ${W} ${H}`,children:[v.jsxs("div",{className:"font-bold mb-3 text-sm",children:[v.jsxs("span",{className:"text-slate-500 mr-2",children:["Q",ne+1,"."]}),ae(Z.question_text,Z.question_text_hindi)]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-xs mb-3",children:["A","B","C","D"].map(ie=>{const Ce=Z.correct_option===ie,ke=ye===ie;let M="bg-white border-slate-200",z=null;return Ce&&(M="bg-green-100 border-green-400 font-bold",z=v.jsx("span",{className:"text-green-700 ml-2 font-bold",children:"(Correct Answer)"})),ke&&(Ce?z=v.jsx("span",{className:"text-green-700 ml-2 font-bold",children:"(Your Answer - Correct)"}):(M="bg-rose-100 border-rose-400 font-bold",z=v.jsx("span",{className:"text-rose-700 ml-2 font-bold",children:"(Your Answer - Wrong)"}))),v.jsxs("div",{className:`p-3 rounded border flex items-center ${M}`,children:[v.jsx("span",{className:"w-6 h-6 rounded-full bg-white border flex items-center justify-center text-[10px] font-bold mr-2 shadow-sm",children:ie}),ee(Z[`option_${ie.toLowerCase()}`],Z[`option_${ie.toLowerCase()}_hindi`]),z]},ie)})}),v.jsxs("div",{className:"text-xs bg-white p-3 rounded-lg border border-slate-100",children:[v.jsx("strong",{className:"text-slate-700",children:"Explanation:"}),v.jsx("div",{className:"mt-1 text-slate-600",children:ae(Z.explanation,Z.explanation_hindi)||"No explanation provided."})]})]},Z.id)})]}),v.jsx("div",{className:"mt-8 text-center",children:v.jsx("button",{onClick:r,className:"px-8 py-3 bg-slate-900 text-white rounded-xl font-bold shadow-lg",children:"Back to Tests"})}),v.jsx(kn,{ads:i,location:"HOME_FOOTER",className:"mt-8"})]})]})});const fe=a[c];return v.jsxs("div",{className:"flex flex-col md:flex-row h-[100dvh] overflow-hidden bg-slate-100 fixed inset-0 z-[100]",children:[v.jsxs("div",{className:"flex-1 flex flex-col h-full relative",children:[v.jsxs("div",{className:"bg-white p-4 border-b flex justify-between items-center shadow-sm z-20 flex-shrink-0",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("button",{onClick:()=>P(!0),className:"md:hidden p-2 -ml-2 text-slate-600 hover:bg-slate-100 rounded-lg",children:v.jsx(A0,{className:"h-6 w-6"})}),v.jsx("h2",{className:"font-bold text-slate-800 line-clamp-1",children:n.title})]}),v.jsxs("div",{className:`flex items-center gap-2 font-mono font-bold text-lg px-4 py-1 rounded-lg ${b<300?"bg-rose-100 text-rose-600 animate-pulse":"bg-slate-100 text-slate-700"}`,children:[v.jsx(T0,{className:"h-5 w-5"})," ",$(b)]})]}),v.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 pb-24 md:pb-32",children:[v.jsx(kn,{ads:i,location:"DETAILS_FOOTER",className:"mb-4"}),v.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-2xl shadow-sm border border-indigo-50 min-h-[300px]",children:[v.jsxs("div",{className:"text-lg font-bold text-slate-900 mb-6 leading-relaxed",children:[v.jsxs("span",{className:"text-slate-400 mr-2 select-none",children:["Q",c+1,"."]}),ae(fe.question_text,fe.question_text_hindi)]}),v.jsx("div",{className:"space-y-3",children:["A","B","C","D"].map(Z=>{const ne=fe[`option_${Z.toLowerCase()}`],ye=fe[`option_${Z.toLowerCase()}_hindi`],Be=g[fe.id]===Z;return v.jsxs("button",{onClick:()=>j(Z),className:`w-full text-left p-4 rounded-xl border-2 transition-all flex items-center gap-3 active:scale-[0.98] ${Be?"border-primary bg-indigo-50":"border-slate-100 hover:border-slate-300"}`,children:[v.jsx("div",{className:`w-8 h-8 rounded-full flex-shrink-0 flex items-center justify-center font-bold border ${Be?"bg-primary text-white border-primary":"bg-white text-slate-500 border-slate-300"}`,children:Z}),v.jsx("span",{className:"text-slate-700 font-medium",children:ee(ne,ye)})]},Z)})})]})]}),v.jsxs("div",{className:"bg-white p-4 border-t flex justify-between items-center absolute bottom-0 w-full z-20 pb-safe",children:[v.jsx("button",{onClick:()=>h(Z=>Math.max(0,Z-1)),disabled:c===0,className:"px-4 py-2 border rounded-lg hover:bg-slate-50 disabled:opacity-50",children:v.jsx(jl,{className:"h-5 w-5"})}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:Y,className:"px-3 md:px-4 py-2 text-orange-600 border border-orange-200 bg-orange-50 rounded-lg font-bold text-xs md:text-sm whitespace-nowrap",children:_.has(fe.id)?"Unmark":"Mark Review"}),v.jsx("button",{onClick:()=>{const Z={...g};delete Z[fe.id],m(Z)},className:"px-3 md:px-4 py-2 text-slate-500 hover:text-slate-700 text-xs md:text-sm font-bold border border-slate-200 rounded-lg whitespace-nowrap",children:"Clear"})]}),v.jsxs("button",{onClick:()=>h(Z=>Math.min(a.length-1,Z+1)),disabled:c===a.length-1,className:"px-6 py-2 bg-slate-900 text-white rounded-lg hover:bg-slate-800 disabled:opacity-50 flex items-center gap-2",children:["Next ",v.jsx(Rl,{className:"h-4 w-4"})]})]})]}),R&&v.jsx("div",{className:"fixed inset-0 bg-slate-900/50 z-40 md:hidden backdrop-blur-sm",onClick:()=>P(!1)}),v.jsxs("div",{className:`fixed inset-y-0 right-0 w-[280px] md:w-80 bg-white shadow-2xl z-50 transform transition-transform duration-300 md:translate-x-0 md:static md:shadow-none md:border-l flex flex-col h-full ${R?"translate-x-0":"translate-x-full"}`,children:[v.jsxs("div",{className:"p-4 bg-slate-50 border-b font-bold text-slate-700 flex justify-between items-center flex-shrink-0",children:[v.jsx("span",{children:"Question Palette"}),v.jsx("button",{className:"md:hidden p-1 hover:bg-slate-200 rounded",onClick:()=>P(!1),children:v.jsx(of,{className:"h-5 w-5 text-slate-500"})})]}),v.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[v.jsx("div",{className:"grid grid-cols-5 gap-2 mb-6",children:a.map((Z,ne)=>{const ye=!!g[Z.id],Be=_.has(Z.id);let Pe="bg-slate-100 text-slate-600 border-slate-200";return Be?Pe="bg-orange-100 text-orange-700 border-orange-300":ye&&(Pe="bg-green-100 text-green-700 border-green-300"),c===ne&&(Pe+=" ring-2 ring-primary ring-offset-1"),v.jsx("button",{onClick:()=>{h(ne),P(!1)},className:`h-10 w-10 rounded-lg border font-bold text-sm flex items-center justify-center ${Pe}`,children:ne+1},Z.id)})}),v.jsxs("div",{className:"space-y-2 text-xs text-slate-500 border-t pt-4",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-3 h-3 bg-green-100 border border-green-300 rounded"})," Answered"]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-3 h-3 bg-orange-100 border border-orange-300 rounded"})," Marked for Review"]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-3 h-3 bg-slate-100 border border-slate-200 rounded"})," Not Visited"]})]}),v.jsx("div",{className:"mt-8",children:v.jsx(kn,{ads:i,location:"MOCK_SIDEBAR"})})]}),v.jsx("div",{className:"p-4 border-t bg-slate-50 flex-shrink-0",children:v.jsx("button",{onClick:Q,className:"w-full py-3 bg-green-600 hover:bg-green-700 text-white font-bold rounded-xl shadow-lg shadow-green-200",children:"Submit Test"})})]})]})},gf=()=>window.location.origin.replace(/\/$/,""),Iw=async(n,e,i,r,a,l,c)=>{const h=gf();console.log("Attempting Signup. Redirect URL:",h);const{data:g,error:m}=await Ee.auth.signUp({email:n,password:e,options:{data:{full_name:i,last_name:r,age:a,course_interest:l,ip_address:c},emailRedirectTo:h}});if(m)throw console.error("SignUp Error Details:",m),m;return g},Dw=async(n,e,i)=>{const{data:r,error:a}=await Ee.auth.signInWithPassword({email:n,password:e});if(a)throw a;return r},xd=async n=>{try{const{data:e,error:i}=await Ee.from("profiles").select("*").eq("id",n).single();return i?(i.code!=="PGRST116"&&console.error("Error fetching profile:",i),null):e}catch{return null}},kw=async n=>{const e=gf(),{error:i}=await Ee.auth.resetPasswordForEmail(n,{redirectTo:e});if(i)throw i},Uw=async n=>{const{data:e,error:i}=await Ee.auth.updateUser({password:n});if(i)throw i;return e},Pw=async n=>{const e=gf(),{error:i}=await Ee.auth.resend({type:"signup",email:n,options:{emailRedirectTo:e}});if(i)throw i},Ow=async n=>{try{const{count:e,error:i}=await Ee.from("profiles").select("*",{count:"exact",head:!0}).eq("email",n);return i?!0:e!==null&&e>0}catch{return!0}},Lw=({onClose:n,onSuccess:e,initialMode:i="LOGIN",customMessage:r})=>{const[a,l]=K.useState(i),[c,h]=K.useState(!1),[g,m]=K.useState(""),[_,E]=K.useState(""),[b,T]=K.useState(""),[A,N]=K.useState(!1),[R,P]=K.useState(""),[L,k]=K.useState(""),[j,Y]=K.useState(""),[Q,$]=K.useState(!1),[ae,ee]=K.useState(!1),[fe,Z]=K.useState(""),[ne,ye]=K.useState(""),[Be,Pe]=K.useState(""),[H,W]=K.useState("RRB Group D"),[ie,Ce]=K.useState("");K.useEffect(()=>{l(i),m(""),E(""),T(r||""),N(!1)},[i,r]),K.useEffect(()=>{fetch("https://api.ipify.org?format=json").then(X=>X.json()).then(X=>Ce(X.ip)).catch(()=>Ce("Unknown"))},[]);const ke=X=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(X),M=async X=>{if(X.preventDefault(),m(""),E(""),r||T(""),N(!1),a!=="UPDATE_PASSWORD"&&!ke(R)){m("Please enter a valid email address.");return}if((a==="SIGNUP"||a==="UPDATE_PASSWORD")&&L.length<6){m("Password must be at least 6 characters.");return}if(a==="UPDATE_PASSWORD"&&L!==j){m("Passwords do not match.");return}h(!0);try{if(a==="SIGNUP"){if(!fe.trim()||!ne.trim()||!Be.trim())throw new Error("All fields (Name, Age) are required.");await Iw(R,L,`${fe} ${ne}`,ne,Be,H,ie),E("Registration Successful!"),T("A confirmation link has been sent to your email. You MUST click it before logging in. Check your Spam/Junk/Promotions folder.")}else if(a==="FORGOT"){if(!await Ow(R))throw new Error("This email is not registered in our system.");await kw(R),E("Recovery Link Sent!"),T("Please check your email (Inbox & Spam). Click the link to set a new password.")}else a==="UPDATE_PASSWORD"?(await Uw(L),E("Password updated successfully!"),setTimeout(()=>{e(),n()},1500)):(await Dw(R,L,ae),e(),n())}catch(he){console.error("Auth Error:",he);const ce=he.message||"";ce.includes("Email not confirmed")||ce.includes("Email not verified")?(m("Your email address is not verified."),T("Please check your inbox/spam for the confirmation link."),N(!0)):ce.includes("Invalid login credentials")||ce.includes("Invalid Grant")?m("Incorrect email or password."):ce.includes("User already registered")?m("This email is already registered. Please login."):ce.includes("Error sending confirmation email")?m(`SMTP Error: ${ce}. Check Supabase Dashboard > SMTP Settings (User/Pass).`):ce.includes("redirect_url")?m("Configuration Error: The Redirect URL is not whitelisted in Supabase Dashboard."):m(ce||"Authentication failed. Please try again.")}finally{h(!1)}},z=async()=>{if(R){h(!0);try{await Pw(R),E("Verification email resent!"),T("Check your Inbox and Spam folder."),N(!1)}catch(X){const he=X.message||"";he.includes("Error sending confirmation email")?m(`Email Delivery Failed: ${he}`):m(he||"Failed to resend email.")}finally{h(!1)}}},te=()=>{switch(a){case"LOGIN":return"Welcome Back";case"SIGNUP":return"New Registration";case"FORGOT":return"Reset Password";case"UPDATE_PASSWORD":return"Set New Password"}};return v.jsx("div",{className:"fixed inset-0 z-[100] bg-indigo-900/60 backdrop-blur-sm flex items-center justify-center p-4",children:v.jsxs("div",{className:`bg-white rounded-3xl shadow-2xl w-full overflow-hidden animate-in fade-in zoom-in duration-200 border border-white/20 ${a==="SIGNUP"?"max-w-lg":"max-w-sm"}`,children:[v.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-surface",children:[v.jsx("h2",{className:"text-xl font-bold text-indigo-900",children:te()}),v.jsx("button",{onClick:n,className:"p-1 rounded-full hover:bg-slate-200 text-slate-500 transition-colors",children:v.jsx(of,{className:"h-5 w-5"})})]}),v.jsxs("div",{className:"p-8 max-h-[80vh] overflow-y-auto",children:[g&&v.jsxs("div",{className:"mb-4 p-3 bg-rose-50 border border-rose-100 text-rose-600 text-xs rounded-xl font-medium flex items-center gap-2",children:[v.jsx(eS,{className:"h-4 w-4 shrink-0"})," ",v.jsx("div",{children:g})]}),_&&v.jsxs("div",{className:"mb-4 p-3 bg-green-50 border border-green-100 text-green-700 text-xs rounded-xl font-medium flex items-center gap-2",children:[v.jsx(Fl,{className:"h-4 w-4 shrink-0"})," ",_]}),b&&v.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-100 text-blue-700 text-xs rounded-xl font-medium flex items-start gap-2",children:[v.jsx(w0,{className:"h-4 w-4 shrink-0 mt-0.5"})," ",v.jsx("span",{children:b})]}),A&&v.jsxs("button",{onClick:z,disabled:c,className:"w-full mb-4 py-2 bg-indigo-50 text-indigo-700 border border-indigo-200 rounded-xl text-xs font-bold flex items-center justify-center gap-2 hover:bg-indigo-100 transition-colors",children:[c?v.jsx(Ml,{className:"h-3 w-3 animate-spin"}):v.jsx(rf,{className:"h-3 w-3"})," Resend Verification Email"]}),v.jsxs("form",{onSubmit:M,className:"space-y-4",children:[a==="SIGNUP"&&v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{className:"col-span-1",children:[v.jsx("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-1",children:"First Name"}),v.jsxs("div",{className:"relative",children:[v.jsx(iT,{className:"absolute left-3 top-2.5 h-4 w-4 text-slate-400"}),v.jsx("input",{type:"text",required:!0,className:"w-full pl-9 px-3 py-2 border rounded-xl text-sm focus:ring-2 focus:ring-primary/20 outline-none",placeholder:"John",value:fe,onChange:X=>Z(X.target.value)})]})]}),v.jsxs("div",{className:"col-span-1",children:[v.jsx("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-1",children:"Last Name"}),v.jsx("input",{type:"text",required:!0,className:"w-full px-3 py-2 border rounded-xl text-sm focus:ring-2 focus:ring-primary/20 outline-none",placeholder:"Doe",value:ne,onChange:X=>ye(X.target.value)})]}),v.jsxs("div",{className:"col-span-1",children:[v.jsx("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-1",children:"Age"}),v.jsxs("div",{className:"relative",children:[v.jsx(Yb,{className:"absolute left-3 top-2.5 h-4 w-4 text-slate-400"}),v.jsx("input",{type:"number",required:!0,min:"10",max:"100",className:"w-full pl-9 px-3 py-2 border rounded-xl text-sm focus:ring-2 focus:ring-primary/20 outline-none",placeholder:"20",value:Be,onChange:X=>Pe(X.target.value)})]})]}),v.jsxs("div",{className:"col-span-1",children:[v.jsx("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-1",children:"Interested In"}),v.jsxs("div",{className:"relative",children:[v.jsx(wd,{className:"absolute left-3 top-2.5 h-4 w-4 text-slate-400"}),v.jsxs("select",{className:"w-full pl-9 px-3 py-2 border rounded-xl text-sm bg-white focus:ring-2 focus:ring-primary/20 outline-none",value:H,onChange:X=>W(X.target.value),children:[v.jsx("option",{children:"RRB Group D"}),v.jsx("option",{children:"SSC CGL"}),v.jsx("option",{children:"Banking"}),v.jsx("option",{children:"UPSC"}),v.jsx("option",{children:"Web Dev (HTML)"})]})]})]})]}),a!=="UPDATE_PASSWORD"&&v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-1",children:"Email Address"}),v.jsxs("div",{className:"relative",children:[v.jsx(Cd,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-indigo-300"}),v.jsx("input",{type:"email",required:!0,placeholder:"you@example.com",className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none text-sm",value:R,onChange:X=>P(X.target.value)})]})]}),(a==="LOGIN"||a==="SIGNUP"||a==="UPDATE_PASSWORD")&&v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-1",children:a==="UPDATE_PASSWORD"?"New Password":"Password"}),v.jsxs("div",{className:"relative group",children:[v.jsx(Ho,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-indigo-300"}),v.jsx("input",{type:Q?"text":"password",required:!0,placeholder:"",className:"w-full pl-10 pr-10 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none text-sm",value:L,onChange:X=>k(X.target.value)}),v.jsx("button",{type:"button",onClick:()=>$(!Q),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:Q?v.jsx(hS,{className:"h-4 w-4"}):v.jsx(mS,{className:"h-4 w-4"})})]})]}),a==="UPDATE_PASSWORD"&&v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-1",children:"Confirm New Password"}),v.jsxs("div",{className:"relative group",children:[v.jsx(Ho,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-indigo-300"}),v.jsx("input",{type:"password",required:!0,placeholder:"",className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none text-sm",value:j,onChange:X=>Y(X.target.value)})]})]}),a==="LOGIN"&&v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("input",{type:"checkbox",id:"rememberMe",checked:ae,onChange:X=>ee(X.target.checked),className:"h-4 w-4 rounded border-slate-300 text-primary focus:ring-primary cursor-pointer"}),v.jsx("label",{htmlFor:"rememberMe",className:"text-sm text-slate-600 cursor-pointer select-none",children:"Remember Me"})]}),v.jsx("button",{type:"submit",disabled:c,className:"w-full py-3 bg-primary hover:bg-primaryDark text-white font-bold rounded-xl shadow-lg flex items-center justify-center transform hover:-translate-y-0.5 transition-all",children:c?v.jsx(Ml,{className:"h-4 w-4 animate-spin"}):a==="LOGIN"?"Login":a==="SIGNUP"?"Register":a==="UPDATE_PASSWORD"?"Update Password":"Send Reset Link"})]}),v.jsx("div",{className:"mt-6 flex flex-col gap-2 text-center text-sm",children:a==="LOGIN"?v.jsxs(v.Fragment,{children:[v.jsxs("p",{className:"text-slate-600",children:["New Student? ",v.jsx("button",{onClick:()=>l("SIGNUP"),className:"text-primary font-bold hover:underline",children:"Register Free"})]}),v.jsx("button",{onClick:()=>l("FORGOT"),className:"text-slate-400 hover:text-slate-600 text-xs",children:"Forgot Password?"})]}):a==="SIGNUP"?v.jsxs("p",{className:"text-slate-600",children:["Already have an ID? ",v.jsx("button",{onClick:()=>l("LOGIN"),className:"text-primary font-bold hover:underline",children:"Login"})]}):a==="FORGOT"?v.jsxs("button",{onClick:()=>l("LOGIN"),className:"flex items-center justify-center gap-1 text-slate-500 hover:text-slate-800",children:[v.jsx(jl,{className:"h-3 w-3"})," Back to Login"]}):null})]})]})})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let qw,Hw;function Gw(){return{geminiUrl:qw,vertexUrl:Hw}}function Bw(n,e,i,r){var a,l;if(!(n!=null&&n.baseUrl)){const c=Gw();return e?(a=c.vertexUrl)!==null&&a!==void 0?a:i:(l=c.geminiUrl)!==null&&l!==void 0?l:r}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ui{}function se(n,e){const i=/\{([^}]+)\}/g;return n.replace(i,(r,a)=>{if(Object.prototype.hasOwnProperty.call(e,a)){const l=e[a];return l!=null?String(l):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function f(n,e,i){for(let l=0;l<e.length-1;l++){const c=e[l];if(c.endsWith("[]")){const h=c.slice(0,-2);if(!(h in n))if(Array.isArray(i))n[h]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(n[h])){const g=n[h];if(Array.isArray(i))for(let m=0;m<g.length;m++){const _=g[m];f(_,e.slice(l+1),i[m])}else for(const m of g)f(m,e.slice(l+1),i)}return}else if(c.endsWith("[0]")){const h=c.slice(0,-3);h in n||(n[h]=[{}]);const g=n[h];f(g[0],e.slice(l+1),i);return}(!n[c]||typeof n[c]!="object")&&(n[c]={}),n=n[c]}const r=e[e.length-1],a=n[r];if(a!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===a)return;if(typeof a=="object"&&typeof i=="object"&&a!==null&&i!==null)Object.assign(a,i);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof i=="object"&&i!==null&&!Array.isArray(i)?Object.assign(n,i):n[r]=i}function d(n,e,i=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let r=0;r<e.length;r++){if(typeof n!="object"||n===null)return i;const a=e[r];if(a.endsWith("[]")){const l=a.slice(0,-2);if(l in n){const c=n[l];return Array.isArray(c)?c.map(h=>d(h,e.slice(r+1),i)):i}else return i}else n=n[a]}return n}catch(r){if(r instanceof TypeError)return i;throw r}}function zw(n,e){for(const[i,r]of Object.entries(e)){const a=i.split("."),l=r.split("."),c=new Set;let h=-1;for(let g=0;g<a.length;g++)if(a[g]==="*"){h=g;break}if(h!==-1&&l.length>h)for(let g=h;g<l.length;g++){const m=l[g];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&c.add(m)}Jd(n,a,l,0,c)}}function Jd(n,e,i,r,a){if(r>=e.length||typeof n!="object"||n===null)return;const l=e[r];if(l.endsWith("[]")){const c=l.slice(0,-2),h=n;if(c in h&&Array.isArray(h[c]))for(const g of h[c])Jd(g,e,i,r+1,a)}else if(l==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const c=n,h=Object.keys(c).filter(m=>!m.startsWith("_")&&!a.has(m)),g={};for(const m of h)g[m]=c[m];for(const[m,_]of Object.entries(g)){const E=[];for(const b of i.slice(r))b==="*"?E.push(m):E.push(b);f(c,E,_)}for(const m of h)delete c[m]}}else{const c=n;l in c&&Jd(c[l],e,i,r+1,a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yf(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vw(n){const e={},i=d(n,["operationName"]);i!=null&&f(e,["operationName"],i);const r=d(n,["resourceName"]);return r!=null&&f(e,["_url","resourceName"],r),e}function jw(n){const e={},i=d(n,["name"]);i!=null&&f(e,["name"],i);const r=d(n,["metadata"]);r!=null&&f(e,["metadata"],r);const a=d(n,["done"]);a!=null&&f(e,["done"],a);const l=d(n,["error"]);l!=null&&f(e,["error"],l);const c=d(n,["response","generateVideoResponse"]);return c!=null&&f(e,["response"],$w(c)),e}function Fw(n){const e={},i=d(n,["name"]);i!=null&&f(e,["name"],i);const r=d(n,["metadata"]);r!=null&&f(e,["metadata"],r);const a=d(n,["done"]);a!=null&&f(e,["done"],a);const l=d(n,["error"]);l!=null&&f(e,["error"],l);const c=d(n,["response"]);return c!=null&&f(e,["response"],Jw(c)),e}function $w(n){const e={},i=d(n,["generatedSamples"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>Yw(c))),f(e,["generatedVideos"],l)}const r=d(n,["raiMediaFilteredCount"]);r!=null&&f(e,["raiMediaFilteredCount"],r);const a=d(n,["raiMediaFilteredReasons"]);return a!=null&&f(e,["raiMediaFilteredReasons"],a),e}function Jw(n){const e={},i=d(n,["videos"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>Kw(c))),f(e,["generatedVideos"],l)}const r=d(n,["raiMediaFilteredCount"]);r!=null&&f(e,["raiMediaFilteredCount"],r);const a=d(n,["raiMediaFilteredReasons"]);return a!=null&&f(e,["raiMediaFilteredReasons"],a),e}function Yw(n){const e={},i=d(n,["video"]);return i!=null&&f(e,["video"],tA(i)),e}function Kw(n){const e={},i=d(n,["_self"]);return i!=null&&f(e,["video"],nA(i)),e}function Qw(n){const e={},i=d(n,["operationName"]);return i!=null&&f(e,["_url","operationName"],i),e}function Xw(n){const e={},i=d(n,["operationName"]);return i!=null&&f(e,["_url","operationName"],i),e}function Ww(n){const e={},i=d(n,["name"]);i!=null&&f(e,["name"],i);const r=d(n,["metadata"]);r!=null&&f(e,["metadata"],r);const a=d(n,["done"]);a!=null&&f(e,["done"],a);const l=d(n,["error"]);l!=null&&f(e,["error"],l);const c=d(n,["response"]);return c!=null&&f(e,["response"],Zw(c)),e}function Zw(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["parent"]);r!=null&&f(e,["parent"],r);const a=d(n,["documentName"]);return a!=null&&f(e,["documentName"],a),e}function Jv(n){const e={},i=d(n,["name"]);i!=null&&f(e,["name"],i);const r=d(n,["metadata"]);r!=null&&f(e,["metadata"],r);const a=d(n,["done"]);a!=null&&f(e,["done"],a);const l=d(n,["error"]);l!=null&&f(e,["error"],l);const c=d(n,["response"]);return c!=null&&f(e,["response"],eA(c)),e}function eA(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["parent"]);r!=null&&f(e,["parent"],r);const a=d(n,["documentName"]);return a!=null&&f(e,["documentName"],a),e}function tA(n){const e={},i=d(n,["uri"]);i!=null&&f(e,["uri"],i);const r=d(n,["encodedVideo"]);r!=null&&f(e,["videoBytes"],yf(r));const a=d(n,["encoding"]);return a!=null&&f(e,["mimeType"],a),e}function nA(n){const e={},i=d(n,["gcsUri"]);i!=null&&f(e,["uri"],i);const r=d(n,["bytesBase64Encoded"]);r!=null&&f(e,["videoBytes"],yf(r));const a=d(n,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Qg;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Qg||(Qg={}));var Xg;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Xg||(Xg={}));var Wg;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(Wg||(Wg={}));var ot;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(ot||(ot={}));var Zg;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Zg||(Zg={}));var ey;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(ey||(ey={}));var ty;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(ty||(ty={}));var ny;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(ny||(ny={}));var iy;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(iy||(iy={}));var sy;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.HIGH="HIGH"})(sy||(sy={}));var ry;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(ry||(ry={}));var oy;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(oy||(oy={}));var ay;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(ay||(ay={}));var ly;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE"})(ly||(ly={}));var uy;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(uy||(uy={}));var cy;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(cy||(cy={}));var dy;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(dy||(dy={}));var fy;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(fy||(fy={}));var hy;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(hy||(hy={}));var Gl;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Gl||(Gl={}));var py;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(py||(py={}));var my;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(my||(my={}));var gy;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(gy||(gy={}));var Yd;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Yd||(Yd={}));var yy;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(yy||(yy={}));var vy;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(vy||(vy={}));var _y;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(_y||(_y={}));var Ey;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(Ey||(Ey={}));var by;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(by||(by={}));var Sy;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Sy||(Sy={}));var Ty;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(Ty||(Ty={}));var xy;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(xy||(xy={}));var wy;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(wy||(wy={}));var Ay;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(Ay||(Ay={}));var Cy;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Cy||(Cy={}));var Ny;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Ny||(Ny={}));var Ry;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Ry||(Ry={}));var My;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(My||(My={}));var Iy;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(Iy||(Iy={}));var Dy;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(Dy||(Dy={}));var ky;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(ky||(ky={}));var Uy;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(Uy||(Uy={}));var Py;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Py||(Py={}));var Oy;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(Oy||(Oy={}));var Ly;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Ly||(Ly={}));var qy;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(qy||(qy={}));var Hy;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Hy||(Hy={}));var Gy;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(Gy||(Gy={}));var By;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(By||(By={}));var zy;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(zy||(zy={}));var Vy;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(Vy||(Vy={}));var jy;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(jy||(jy={}));var Fy;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Fy||(Fy={}));var $y;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})($y||($y={}));var gr;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(gr||(gr={}));class Kd{constructor(e){const i={};for(const r of e.headers.entries())i[r[0]]=r[1];this.headers=i,this.responseInternal=e}json(){return this.responseInternal.json()}}class Po{get text(){var e,i,r,a,l,c,h,g;if(((a=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",_=!1;const E=[];for(const b of(g=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&g!==void 0?g:[]){for(const[T,A]of Object.entries(b))T!=="text"&&T!=="thought"&&T!=="thoughtSignature"&&(A!==null||A!==void 0)&&E.push(T);if(typeof b.text=="string"){if(typeof b.thought=="boolean"&&b.thought)continue;_=!0,m+=b.text}}return E.length>0&&console.warn(`there are non-text parts ${E} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),_?m:void 0}get data(){var e,i,r,a,l,c,h,g;if(((a=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const _=[];for(const E of(g=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&g!==void 0?g:[]){for(const[b,T]of Object.entries(E))b!=="inlineData"&&(T!==null||T!==void 0)&&_.push(b);E.inlineData&&typeof E.inlineData.data=="string"&&(m+=atob(E.inlineData.data))}return _.length>0&&console.warn(`there are non-data parts ${_} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var e,i,r,a,l,c,h,g;if(((a=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(g=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(_=>_.functionCall).map(_=>_.functionCall).filter(_=>_!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var e,i,r,a,l,c,h,g,m;if(((a=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const _=(g=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(E=>E.executableCode).map(E=>E.executableCode).filter(E=>E!==void 0);if((_==null?void 0:_.length)!==0)return(m=_==null?void 0:_[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var e,i,r,a,l,c,h,g,m;if(((a=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const _=(g=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(E=>E.codeExecutionResult).map(E=>E.codeExecutionResult).filter(E=>E!==void 0);if((_==null?void 0:_.length)!==0)return(m=_==null?void 0:_[0])===null||m===void 0?void 0:m.output}}class Jy{}class Yy{}class iA{}class sA{}class rA{}class oA{}class Ky{}class Qy{}class Xy{}class aA{}class Bl{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const r=new Bl;let a;const l=e;return i?a=Fw(l):a=jw(l),Object.assign(r,a),r}}class Wy{}class Zy{}class e0{}class t0{}class lA{}class uA{}class cA{}class vf{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const r=new vf,l=Ww(e);return Object.assign(r,l),r}}class dA{}class fA{}class hA{}class n0{}class pA{get text(){var e,i,r;let a="",l=!1;const c=[];for(const h of(r=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&r!==void 0?r:[]){for(const[g,m]of Object.entries(h))g!=="text"&&g!=="thought"&&m!==null&&c.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;l=!0,a+=h.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?a:void 0}get data(){var e,i,r;let a="";const l=[];for(const c of(r=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&r!==void 0?r:[]){for(const[h,g]of Object.entries(c))h!=="inlineData"&&g!==null&&l.push(h);c.inlineData&&typeof c.inlineData.data=="string"&&(a+=atob(c.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class mA{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class _f{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const r=new _f,l=Jv(e);return Object.assign(r,l),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function He(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const i=e.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Yv(n,e){const i=He(n,e);return i?i.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${i}`:i.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${i}`:i:""}function Kv(n){return Array.isArray(n)?n.map(e=>zl(e)):[zl(n)]}function zl(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function Qv(n){const e=zl(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Xv(n){const e=zl(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function i0(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function Wv(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>i0(e)):[i0(n)]}function Qd(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function s0(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function r0(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function Ut(n){if(n==null)throw new Error("ContentUnion is required");return Qd(n)?n:{role:"user",parts:Wv(n)}}function Ef(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(i=>{const r=Ut(i);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(n.isVertexAI()){const i=Ut(e);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(e)?e.map(i=>Ut(i)):[Ut(e)]}function pn(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(s0(n)||r0(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ut(n)]}const e=[],i=[],r=Qd(n[0]);for(const a of n){const l=Qd(a);if(l!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)e.push(a);else{if(s0(a)||r0(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(a)}}return r||e.push({role:"user",parts:Wv(i)}),e}function gA(n,e){n.includes("null")&&(e.nullable=!0);const i=n.filter(r=>r!=="null");if(i.length===1)e.type=Object.values(ot).includes(i[0].toUpperCase())?i[0].toUpperCase():ot.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of i)e.anyOf.push({type:Object.values(ot).includes(r.toUpperCase())?r.toUpperCase():ot.TYPE_UNSPECIFIED})}}function _r(n){const e={},i=["items"],r=["anyOf"],a=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=n.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(e.nullable=!0,n=l[1]):l[1].type==="null"&&(e.nullable=!0,n=l[0])),n.type instanceof Array&&gA(n.type,e);for(const[c,h]of Object.entries(n))if(h!=null)if(c=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(ot).includes(h.toUpperCase())?h.toUpperCase():ot.TYPE_UNSPECIFIED}else if(i.includes(c))e[c]=_r(h);else if(r.includes(c)){const g=[];for(const m of h){if(m.type=="null"){e.nullable=!0;continue}g.push(_r(m))}e[c]=g}else if(a.includes(c)){const g={};for(const[m,_]of Object.entries(h))g[m]=_r(_);e[c]=g}else{if(c==="additionalProperties")continue;e[c]=h}return e}function bf(n){return _r(n)}function Sf(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function Tf(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Ar(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=_r(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=_r(e.response));return n}function Cr(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const i of n)e.push(i);return e}function yA(n,e,i,r=1){const a=!e.startsWith(`${i}/`)&&e.split("/").length===r;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${i}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:a?`projects/${n.getProject()}/locations/${n.getLocation()}/${i}/${e}`:e:a?`${i}/${e}`:e}function ci(n,e){if(typeof e!="string")throw new Error("name must be a string");return yA(n,e,"cachedContents")}function Zv(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function Fi(n){return yf(n)}function vA(n){return n!=null&&typeof n=="object"&&"name"in n}function _A(n){return n!=null&&typeof n=="object"&&"video"in n}function EA(n){return n!=null&&typeof n=="object"&&"uri"in n}function e_(n){var e;let i;if(vA(n)&&(i=n.name),!(EA(n)&&(i=n.uri,i===void 0))&&!(_A(n)&&(i=(e=n.video)===null||e===void 0?void 0:e.uri,i===void 0))){if(typeof n=="string"&&(i=n),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const a=i.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${i}`);i=a[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function t_(n,e){let i;return n.isVertexAI()?i=e?"publishers/google/models":"models":i=e?"models":"tunedModels",i}function n_(n){for(const e of["models","tunedModels","publisherModels"])if(bA(n,e))return n[e];return[]}function bA(n,e){return n!==null&&typeof n=="object"&&e in n}function SA(n,e={}){const i=n,r={name:i.name,description:i.description,parametersJsonSchema:i.inputSchema};return i.outputSchema&&(r.responseJsonSchema=i.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function TA(n,e={}){const i=[],r=new Set;for(const a of n){const l=a.name;if(r.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);r.add(l);const c=SA(a,e);c.functionDeclarations&&i.push(...c.functionDeclarations)}return{functionDeclarations:i}}function i_(n,e){let i;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))i={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))i={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))i={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");i={inlinedRequests:e}}else i=e;const r=[i.gcsUri,i.bigqueryUri].filter(Boolean).length,a=[i.inlinedRequests,i.fileName].filter(Boolean).length;if(n.isVertexAI()){if(a>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||a!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return i}function xA(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function s_(n){if(typeof n!="object"||n===null)return{};const e=n,i=e.inlinedResponses;if(typeof i!="object"||i===null)return n;const a=i.inlinedResponses;if(!Array.isArray(a)||a.length===0)return n;let l=!1;for(const c of a){if(typeof c!="object"||c===null)continue;const g=c.response;if(typeof g!="object"||g===null)continue;if(g.embedding!==void 0){l=!0;break}}return l&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function Nr(n,e){const i=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function r_(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wA(n){const e={},i=d(n,["responsesFile"]);i!=null&&f(e,["fileName"],i);const r=d(n,["inlinedResponses","inlinedResponses"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>rC(c))),f(e,["inlinedResponses"],l)}const a=d(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["inlinedEmbedContentResponses"],l)}return e}function AA(n){const e={},i=d(n,["predictionsFormat"]);i!=null&&f(e,["format"],i);const r=d(n,["gcsDestination","outputUriPrefix"]);r!=null&&f(e,["gcsUri"],r);const a=d(n,["bigqueryDestination","outputUri"]);return a!=null&&f(e,["bigqueryUri"],a),e}function CA(n){const e={},i=d(n,["format"]);i!=null&&f(e,["predictionsFormat"],i);const r=d(n,["gcsUri"]);r!=null&&f(e,["gcsDestination","outputUriPrefix"],r);const a=d(n,["bigqueryUri"]);if(a!=null&&f(e,["bigqueryDestination","outputUri"],a),d(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Cl(n){const e={},i=d(n,["name"]);i!=null&&f(e,["name"],i);const r=d(n,["metadata","displayName"]);r!=null&&f(e,["displayName"],r);const a=d(n,["metadata","state"]);a!=null&&f(e,["state"],r_(a));const l=d(n,["metadata","createTime"]);l!=null&&f(e,["createTime"],l);const c=d(n,["metadata","endTime"]);c!=null&&f(e,["endTime"],c);const h=d(n,["metadata","updateTime"]);h!=null&&f(e,["updateTime"],h);const g=d(n,["metadata","model"]);g!=null&&f(e,["model"],g);const m=d(n,["metadata","output"]);return m!=null&&f(e,["dest"],wA(s_(m))),e}function Xd(n){const e={},i=d(n,["name"]);i!=null&&f(e,["name"],i);const r=d(n,["displayName"]);r!=null&&f(e,["displayName"],r);const a=d(n,["state"]);a!=null&&f(e,["state"],r_(a));const l=d(n,["error"]);l!=null&&f(e,["error"],l);const c=d(n,["createTime"]);c!=null&&f(e,["createTime"],c);const h=d(n,["startTime"]);h!=null&&f(e,["startTime"],h);const g=d(n,["endTime"]);g!=null&&f(e,["endTime"],g);const m=d(n,["updateTime"]);m!=null&&f(e,["updateTime"],m);const _=d(n,["model"]);_!=null&&f(e,["model"],_);const E=d(n,["inputConfig"]);E!=null&&f(e,["src"],NA(E));const b=d(n,["outputConfig"]);b!=null&&f(e,["dest"],AA(s_(b)));const T=d(n,["completionStats"]);return T!=null&&f(e,["completionStats"],T),e}function NA(n){const e={},i=d(n,["instancesFormat"]);i!=null&&f(e,["format"],i);const r=d(n,["gcsSource","uris"]);r!=null&&f(e,["gcsUri"],r);const a=d(n,["bigquerySource","inputUri"]);return a!=null&&f(e,["bigqueryUri"],a),e}function RA(n,e){const i={};if(d(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=d(e,["fileName"]);r!=null&&f(i,["fileName"],r);const a=d(e,["inlinedRequests"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>sC(n,c))),f(i,["requests","requests"],l)}return i}function MA(n){const e={},i=d(n,["format"]);i!=null&&f(e,["instancesFormat"],i);const r=d(n,["gcsUri"]);r!=null&&f(e,["gcsSource","uris"],r);const a=d(n,["bigqueryUri"]);if(a!=null&&f(e,["bigquerySource","inputUri"],a),d(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function IA(n){const e={},i=d(n,["data"]);if(i!=null&&f(e,["data"],i),d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(n,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function DA(n,e){const i={},r=d(e,["name"]);return r!=null&&f(i,["_url","name"],Nr(n,r)),i}function kA(n,e){const i={},r=d(e,["name"]);return r!=null&&f(i,["_url","name"],Nr(n,r)),i}function UA(n){const e={},i=d(n,["content"]);i!=null&&f(e,["content"],i);const r=d(n,["citationMetadata"]);r!=null&&f(e,["citationMetadata"],PA(r));const a=d(n,["tokenCount"]);a!=null&&f(e,["tokenCount"],a);const l=d(n,["finishReason"]);l!=null&&f(e,["finishReason"],l);const c=d(n,["avgLogprobs"]);c!=null&&f(e,["avgLogprobs"],c);const h=d(n,["groundingMetadata"]);h!=null&&f(e,["groundingMetadata"],h);const g=d(n,["index"]);g!=null&&f(e,["index"],g);const m=d(n,["logprobsResult"]);m!=null&&f(e,["logprobsResult"],m);const _=d(n,["safetyRatings"]);if(_!=null){let b=_;Array.isArray(b)&&(b=b.map(T=>T)),f(e,["safetyRatings"],b)}const E=d(n,["urlContextMetadata"]);return E!=null&&f(e,["urlContextMetadata"],E),e}function PA(n){const e={},i=d(n,["citationSources"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>a)),f(e,["citations"],r)}return e}function o_(n){const e={},i=d(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>fC(l))),f(e,["parts"],a)}const r=d(n,["role"]);return r!=null&&f(e,["role"],r),e}function OA(n,e){const i={},r=d(n,["displayName"]);if(e!==void 0&&r!=null&&f(e,["batch","displayName"],r),d(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function LA(n,e){const i={},r=d(n,["displayName"]);e!==void 0&&r!=null&&f(e,["displayName"],r);const a=d(n,["dest"]);return e!==void 0&&a!=null&&f(e,["outputConfig"],CA(xA(a))),i}function o0(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],He(n,r));const a=d(e,["src"]);a!=null&&f(i,["batch","inputConfig"],RA(n,i_(n,a)));const l=d(e,["config"]);return l!=null&&OA(l,i),i}function qA(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["model"],He(n,r));const a=d(e,["src"]);a!=null&&f(i,["inputConfig"],MA(i_(n,a)));const l=d(e,["config"]);return l!=null&&LA(l,i),i}function HA(n,e){const i={},r=d(n,["displayName"]);return e!==void 0&&r!=null&&f(e,["batch","displayName"],r),i}function GA(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],He(n,r));const a=d(e,["src"]);a!=null&&f(i,["batch","inputConfig"],JA(n,a));const l=d(e,["config"]);return l!=null&&HA(l,i),i}function BA(n,e){const i={},r=d(e,["name"]);return r!=null&&f(i,["_url","name"],Nr(n,r)),i}function zA(n,e){const i={},r=d(e,["name"]);return r!=null&&f(i,["_url","name"],Nr(n,r)),i}function VA(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["name"]);r!=null&&f(e,["name"],r);const a=d(n,["done"]);a!=null&&f(e,["done"],a);const l=d(n,["error"]);return l!=null&&f(e,["error"],l),e}function jA(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["name"]);r!=null&&f(e,["name"],r);const a=d(n,["done"]);a!=null&&f(e,["done"],a);const l=d(n,["error"]);return l!=null&&f(e,["error"],l),e}function FA(n,e){const i={},r=d(e,["contents"]);if(r!=null){let l=Ef(n,r);Array.isArray(l)&&(l=l.map(c=>c)),f(i,["requests[]","request","content"],l)}const a=d(e,["config"]);return a!=null&&(f(i,["_self"],$A(a,i)),zw(i,{"requests[].*":"requests[].request.*"})),i}function $A(n,e){const i={},r=d(n,["taskType"]);e!==void 0&&r!=null&&f(e,["requests[]","taskType"],r);const a=d(n,["title"]);e!==void 0&&a!=null&&f(e,["requests[]","title"],a);const l=d(n,["outputDimensionality"]);if(e!==void 0&&l!=null&&f(e,["requests[]","outputDimensionality"],l),d(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function JA(n,e){const i={},r=d(e,["fileName"]);r!=null&&f(i,["file_name"],r);const a=d(e,["inlinedRequests"]);return a!=null&&f(i,["requests"],FA(n,a)),i}function YA(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(n,["fileUri"]);i!=null&&f(e,["fileUri"],i);const r=d(n,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function KA(n){const e={},i=d(n,["id"]);i!=null&&f(e,["id"],i);const r=d(n,["args"]);r!=null&&f(e,["args"],r);const a=d(n,["name"]);if(a!=null&&f(e,["name"],a),d(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function QA(n){const e={},i=d(n,["mode"]);i!=null&&f(e,["mode"],i);const r=d(n,["allowedFunctionNames"]);if(r!=null&&f(e,["allowedFunctionNames"],r),d(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function XA(n,e,i){const r={},a=d(e,["systemInstruction"]);i!==void 0&&a!=null&&f(i,["systemInstruction"],o_(Ut(a)));const l=d(e,["temperature"]);l!=null&&f(r,["temperature"],l);const c=d(e,["topP"]);c!=null&&f(r,["topP"],c);const h=d(e,["topK"]);h!=null&&f(r,["topK"],h);const g=d(e,["candidateCount"]);g!=null&&f(r,["candidateCount"],g);const m=d(e,["maxOutputTokens"]);m!=null&&f(r,["maxOutputTokens"],m);const _=d(e,["stopSequences"]);_!=null&&f(r,["stopSequences"],_);const E=d(e,["responseLogprobs"]);E!=null&&f(r,["responseLogprobs"],E);const b=d(e,["logprobs"]);b!=null&&f(r,["logprobs"],b);const T=d(e,["presencePenalty"]);T!=null&&f(r,["presencePenalty"],T);const A=d(e,["frequencyPenalty"]);A!=null&&f(r,["frequencyPenalty"],A);const N=d(e,["seed"]);N!=null&&f(r,["seed"],N);const R=d(e,["responseMimeType"]);R!=null&&f(r,["responseMimeType"],R);const P=d(e,["responseSchema"]);P!=null&&f(r,["responseSchema"],bf(P));const L=d(e,["responseJsonSchema"]);if(L!=null&&f(r,["responseJsonSchema"],L),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=d(e,["safetySettings"]);if(i!==void 0&&k!=null){let ne=k;Array.isArray(ne)&&(ne=ne.map(ye=>hC(ye))),f(i,["safetySettings"],ne)}const j=d(e,["tools"]);if(i!==void 0&&j!=null){let ne=Cr(j);Array.isArray(ne)&&(ne=ne.map(ye=>mC(Ar(ye)))),f(i,["tools"],ne)}const Y=d(e,["toolConfig"]);if(i!==void 0&&Y!=null&&f(i,["toolConfig"],pC(Y)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Q=d(e,["cachedContent"]);i!==void 0&&Q!=null&&f(i,["cachedContent"],ci(n,Q));const $=d(e,["responseModalities"]);$!=null&&f(r,["responseModalities"],$);const ae=d(e,["mediaResolution"]);ae!=null&&f(r,["mediaResolution"],ae);const ee=d(e,["speechConfig"]);if(ee!=null&&f(r,["speechConfig"],Sf(ee)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const fe=d(e,["thinkingConfig"]);fe!=null&&f(r,["thinkingConfig"],fe);const Z=d(e,["imageConfig"]);return Z!=null&&f(r,["imageConfig"],iC(Z)),r}function WA(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["candidates"]);if(r!=null){let g=r;Array.isArray(g)&&(g=g.map(m=>UA(m))),f(e,["candidates"],g)}const a=d(n,["modelVersion"]);a!=null&&f(e,["modelVersion"],a);const l=d(n,["promptFeedback"]);l!=null&&f(e,["promptFeedback"],l);const c=d(n,["responseId"]);c!=null&&f(e,["responseId"],c);const h=d(n,["usageMetadata"]);return h!=null&&f(e,["usageMetadata"],h),e}function ZA(n,e){const i={},r=d(e,["name"]);return r!=null&&f(i,["_url","name"],Nr(n,r)),i}function eC(n,e){const i={},r=d(e,["name"]);return r!=null&&f(i,["_url","name"],Nr(n,r)),i}function tC(n){const e={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(n,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function nC(n){const e={};if(d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(n,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function iC(n){const e={},i=d(n,["aspectRatio"]);i!=null&&f(e,["aspectRatio"],i);const r=d(n,["imageSize"]);if(r!=null&&f(e,["imageSize"],r),d(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function sC(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["request","model"],He(n,r));const a=d(e,["contents"]);if(a!=null){let h=pn(a);Array.isArray(h)&&(h=h.map(g=>o_(g))),f(i,["request","contents"],h)}const l=d(e,["metadata"]);l!=null&&f(i,["metadata"],l);const c=d(e,["config"]);return c!=null&&f(i,["request","generationConfig"],XA(n,c,d(i,["request"],{}))),i}function rC(n){const e={},i=d(n,["response"]);i!=null&&f(e,["response"],WA(i));const r=d(n,["error"]);return r!=null&&f(e,["error"],r),e}function oC(n,e){const i={},r=d(n,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);const a=d(n,["pageToken"]);if(e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),d(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function aC(n,e){const i={},r=d(n,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);const a=d(n,["pageToken"]);e!==void 0&&a!=null&&f(e,["_query","pageToken"],a);const l=d(n,["filter"]);return e!==void 0&&l!=null&&f(e,["_query","filter"],l),i}function lC(n){const e={},i=d(n,["config"]);return i!=null&&oC(i,e),e}function uC(n){const e={},i=d(n,["config"]);return i!=null&&aC(i,e),e}function cC(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);const a=d(n,["operations"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>Cl(c))),f(e,["batchJobs"],l)}return e}function dC(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);const a=d(n,["batchPredictionJobs"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>Xd(c))),f(e,["batchJobs"],l)}return e}function fC(n){const e={},i=d(n,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const r=d(n,["codeExecutionResult"]);r!=null&&f(e,["codeExecutionResult"],r);const a=d(n,["executableCode"]);a!=null&&f(e,["executableCode"],a);const l=d(n,["fileData"]);l!=null&&f(e,["fileData"],YA(l));const c=d(n,["functionCall"]);c!=null&&f(e,["functionCall"],KA(c));const h=d(n,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const g=d(n,["inlineData"]);g!=null&&f(e,["inlineData"],IA(g));const m=d(n,["text"]);m!=null&&f(e,["text"],m);const _=d(n,["thought"]);_!=null&&f(e,["thought"],_);const E=d(n,["thoughtSignature"]);E!=null&&f(e,["thoughtSignature"],E);const b=d(n,["videoMetadata"]);return b!=null&&f(e,["videoMetadata"],b),e}function hC(n){const e={},i=d(n,["category"]);if(i!=null&&f(e,["category"],i),d(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=d(n,["threshold"]);return r!=null&&f(e,["threshold"],r),e}function pC(n){const e={},i=d(n,["functionCallingConfig"]);i!=null&&f(e,["functionCallingConfig"],QA(i));const r=d(n,["retrievalConfig"]);return r!=null&&f(e,["retrievalConfig"],r),e}function mC(n){const e={},i=d(n,["functionDeclarations"]);if(i!=null){let _=i;Array.isArray(_)&&(_=_.map(E=>E)),f(e,["functionDeclarations"],_)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(n,["googleSearchRetrieval"]);r!=null&&f(e,["googleSearchRetrieval"],r);const a=d(n,["computerUse"]);a!=null&&f(e,["computerUse"],a);const l=d(n,["fileSearch"]);l!=null&&f(e,["fileSearch"],l);const c=d(n,["codeExecution"]);if(c!=null&&f(e,["codeExecution"],c),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=d(n,["googleMaps"]);h!=null&&f(e,["googleMaps"],tC(h));const g=d(n,["googleSearch"]);g!=null&&f(e,["googleSearch"],nC(g));const m=d(n,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ai;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(ai||(ai={}));class xs{constructor(e,i,r,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(e,r,a)}init(e,i,r){var a,l;this.nameInternal=e,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i==null?void 0:i.sdkHttpResponse,this.idxInternal=0;let c={config:{}};!r||Object.keys(r).length===0?c={config:{}}:typeof r=="object"?c=Object.assign({},r):c=r,c.config&&(c.config.pageToken=i.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(l=(a=c.config)===null||a===void 0?void 0:a.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gC extends ui{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new xs(ai.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(i),i),this.create=async i=>(this.apiClient.isVertexAI()&&(i.config=this.formatDestination(i.src,i.config)),this.createInternal(i)),this.createEmbeddings=async i=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(i)}}createInlinedGenerateContentRequest(e){const i=o0(this.apiClient,e),r=i._url,a=se("{model}:batchGenerateContent",r),h=i.batch.inputConfig.requests,g=h.requests,m=[];for(const _ of g){const E=Object.assign({},_);if(E.systemInstruction){const b=E.systemInstruction;delete E.systemInstruction;const T=E.request;T.systemInstruction=b,E.request=T}m.push(E)}return h.requests=m,delete i.config,delete i._url,delete i._query,{path:a,body:i}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,i){const r=i?Object.assign({},i):{},a=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${a}`),r.dest===void 0){const l=this.getGcsUri(e),c=this.getBigqueryUri(e);if(l)l.endsWith(".jsonl")?r.dest=`${l.slice(0,-6)}/dest`:r.dest=`${l}_dest_${a}`;else if(c)r.dest=`${c}_dest_${a}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var i,r,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=qA(this.apiClient,e);return h=se("batchPredictionJobs",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c.then(_=>Xd(_))}else{const m=o0(this.apiClient,e);return h=se("{model}:batchGenerateContent",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>Cl(_))}}async createEmbeddingsInternal(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=GA(this.apiClient,e);return l=se("{model}:asyncBatchEmbedContent",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>Cl(g))}}async get(e){var i,r,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=eC(this.apiClient,e);return h=se("batchPredictionJobs/{name}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c.then(_=>Xd(_))}else{const m=ZA(this.apiClient,e);return h=se("batches/{name}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>Cl(_))}}async cancel(e){var i,r,a,l;let c="",h={};if(this.apiClient.isVertexAI()){const g=kA(this.apiClient,e);c=se("batchPredictionJobs/{name}:cancel",g._url),h=g._query,delete g._url,delete g._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const g=DA(this.apiClient,e);c=se("batches/{name}:cancel",g._url),h=g._query,delete g._url,delete g._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var i,r,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=uC(e);return h=se("batchPredictionJobs",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(E=>{const b=E;return b.sdkHttpResponse={headers:_.headers},b})),c.then(_=>{const E=dC(_),b=new n0;return Object.assign(b,E),b})}else{const m=lC(e);return h=se("batches",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(E=>{const b=E;return b.sdkHttpResponse={headers:_.headers},b})),c.then(_=>{const E=cC(_),b=new n0;return Object.assign(b,E),b})}}async delete(e){var i,r,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=zA(this.apiClient,e);return h=se("batchPredictionJobs/{name}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(E=>{const b=E;return b.sdkHttpResponse={headers:_.headers},b})),c.then(_=>jA(_))}else{const m=BA(this.apiClient,e);return h=se("batches/{name}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(E=>{const b=E;return b.sdkHttpResponse={headers:_.headers},b})),c.then(_=>VA(_))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yC(n){const e={},i=d(n,["data"]);if(i!=null&&f(e,["data"],i),d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(n,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function a0(n){const e={},i=d(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>GC(l))),f(e,["parts"],a)}const r=d(n,["role"]);return r!=null&&f(e,["role"],r),e}function vC(n,e){const i={},r=d(n,["ttl"]);e!==void 0&&r!=null&&f(e,["ttl"],r);const a=d(n,["expireTime"]);e!==void 0&&a!=null&&f(e,["expireTime"],a);const l=d(n,["displayName"]);e!==void 0&&l!=null&&f(e,["displayName"],l);const c=d(n,["contents"]);if(e!==void 0&&c!=null){let _=pn(c);Array.isArray(_)&&(_=_.map(E=>a0(E))),f(e,["contents"],_)}const h=d(n,["systemInstruction"]);e!==void 0&&h!=null&&f(e,["systemInstruction"],a0(Ut(h)));const g=d(n,["tools"]);if(e!==void 0&&g!=null){let _=g;Array.isArray(_)&&(_=_.map(E=>zC(E))),f(e,["tools"],_)}const m=d(n,["toolConfig"]);if(e!==void 0&&m!=null&&f(e,["toolConfig"],BC(m)),d(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function _C(n,e){const i={},r=d(n,["ttl"]);e!==void 0&&r!=null&&f(e,["ttl"],r);const a=d(n,["expireTime"]);e!==void 0&&a!=null&&f(e,["expireTime"],a);const l=d(n,["displayName"]);e!==void 0&&l!=null&&f(e,["displayName"],l);const c=d(n,["contents"]);if(e!==void 0&&c!=null){let E=pn(c);Array.isArray(E)&&(E=E.map(b=>b)),f(e,["contents"],E)}const h=d(n,["systemInstruction"]);e!==void 0&&h!=null&&f(e,["systemInstruction"],Ut(h));const g=d(n,["tools"]);if(e!==void 0&&g!=null){let E=g;Array.isArray(E)&&(E=E.map(b=>VC(b))),f(e,["tools"],E)}const m=d(n,["toolConfig"]);e!==void 0&&m!=null&&f(e,["toolConfig"],m);const _=d(n,["kmsKeyName"]);return e!==void 0&&_!=null&&f(e,["encryption_spec","kmsKeyName"],_),i}function EC(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["model"],Yv(n,r));const a=d(e,["config"]);return a!=null&&vC(a,i),i}function bC(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["model"],Yv(n,r));const a=d(e,["config"]);return a!=null&&_C(a,i),i}function SC(n,e){const i={},r=d(e,["name"]);return r!=null&&f(i,["_url","name"],ci(n,r)),i}function TC(n,e){const i={},r=d(e,["name"]);return r!=null&&f(i,["_url","name"],ci(n,r)),i}function xC(n){const e={},i=d(n,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function wC(n){const e={},i=d(n,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function AC(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(n,["fileUri"]);i!=null&&f(e,["fileUri"],i);const r=d(n,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function CC(n){const e={},i=d(n,["id"]);i!=null&&f(e,["id"],i);const r=d(n,["args"]);r!=null&&f(e,["args"],r);const a=d(n,["name"]);if(a!=null&&f(e,["name"],a),d(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function NC(n){const e={},i=d(n,["mode"]);i!=null&&f(e,["mode"],i);const r=d(n,["allowedFunctionNames"]);if(r!=null&&f(e,["allowedFunctionNames"],r),d(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function RC(n){const e={};if(d(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(n,["description"]);i!=null&&f(e,["description"],i);const r=d(n,["name"]);r!=null&&f(e,["name"],r);const a=d(n,["parameters"]);a!=null&&f(e,["parameters"],a);const l=d(n,["parametersJsonSchema"]);l!=null&&f(e,["parametersJsonSchema"],l);const c=d(n,["response"]);c!=null&&f(e,["response"],c);const h=d(n,["responseJsonSchema"]);return h!=null&&f(e,["responseJsonSchema"],h),e}function MC(n,e){const i={},r=d(e,["name"]);return r!=null&&f(i,["_url","name"],ci(n,r)),i}function IC(n,e){const i={},r=d(e,["name"]);return r!=null&&f(i,["_url","name"],ci(n,r)),i}function DC(n){const e={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(n,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function kC(n){const e={};if(d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(n,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function UC(n,e){const i={},r=d(n,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);const a=d(n,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),i}function PC(n,e){const i={},r=d(n,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);const a=d(n,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),i}function OC(n){const e={},i=d(n,["config"]);return i!=null&&UC(i,e),e}function LC(n){const e={},i=d(n,["config"]);return i!=null&&PC(i,e),e}function qC(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);const a=d(n,["cachedContents"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["cachedContents"],l)}return e}function HC(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);const a=d(n,["cachedContents"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["cachedContents"],l)}return e}function GC(n){const e={},i=d(n,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const r=d(n,["codeExecutionResult"]);r!=null&&f(e,["codeExecutionResult"],r);const a=d(n,["executableCode"]);a!=null&&f(e,["executableCode"],a);const l=d(n,["fileData"]);l!=null&&f(e,["fileData"],AC(l));const c=d(n,["functionCall"]);c!=null&&f(e,["functionCall"],CC(c));const h=d(n,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const g=d(n,["inlineData"]);g!=null&&f(e,["inlineData"],yC(g));const m=d(n,["text"]);m!=null&&f(e,["text"],m);const _=d(n,["thought"]);_!=null&&f(e,["thought"],_);const E=d(n,["thoughtSignature"]);E!=null&&f(e,["thoughtSignature"],E);const b=d(n,["videoMetadata"]);return b!=null&&f(e,["videoMetadata"],b),e}function BC(n){const e={},i=d(n,["functionCallingConfig"]);i!=null&&f(e,["functionCallingConfig"],NC(i));const r=d(n,["retrievalConfig"]);return r!=null&&f(e,["retrievalConfig"],r),e}function zC(n){const e={},i=d(n,["functionDeclarations"]);if(i!=null){let _=i;Array.isArray(_)&&(_=_.map(E=>E)),f(e,["functionDeclarations"],_)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(n,["googleSearchRetrieval"]);r!=null&&f(e,["googleSearchRetrieval"],r);const a=d(n,["computerUse"]);a!=null&&f(e,["computerUse"],a);const l=d(n,["fileSearch"]);l!=null&&f(e,["fileSearch"],l);const c=d(n,["codeExecution"]);if(c!=null&&f(e,["codeExecution"],c),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=d(n,["googleMaps"]);h!=null&&f(e,["googleMaps"],DC(h));const g=d(n,["googleSearch"]);g!=null&&f(e,["googleSearch"],kC(g));const m=d(n,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}function VC(n){const e={},i=d(n,["functionDeclarations"]);if(i!=null){let E=i;Array.isArray(E)&&(E=E.map(b=>RC(b))),f(e,["functionDeclarations"],E)}const r=d(n,["retrieval"]);r!=null&&f(e,["retrieval"],r);const a=d(n,["googleSearchRetrieval"]);a!=null&&f(e,["googleSearchRetrieval"],a);const l=d(n,["computerUse"]);if(l!=null&&f(e,["computerUse"],l),d(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=d(n,["codeExecution"]);c!=null&&f(e,["codeExecution"],c);const h=d(n,["enterpriseWebSearch"]);h!=null&&f(e,["enterpriseWebSearch"],h);const g=d(n,["googleMaps"]);g!=null&&f(e,["googleMaps"],g);const m=d(n,["googleSearch"]);m!=null&&f(e,["googleSearch"],m);const _=d(n,["urlContext"]);return _!=null&&f(e,["urlContext"],_),e}function jC(n,e){const i={},r=d(n,["ttl"]);e!==void 0&&r!=null&&f(e,["ttl"],r);const a=d(n,["expireTime"]);return e!==void 0&&a!=null&&f(e,["expireTime"],a),i}function FC(n,e){const i={},r=d(n,["ttl"]);e!==void 0&&r!=null&&f(e,["ttl"],r);const a=d(n,["expireTime"]);return e!==void 0&&a!=null&&f(e,["expireTime"],a),i}function $C(n,e){const i={},r=d(e,["name"]);r!=null&&f(i,["_url","name"],ci(n,r));const a=d(e,["config"]);return a!=null&&jC(a,i),i}function JC(n,e){const i={},r=d(e,["name"]);r!=null&&f(i,["_url","name"],ci(n,r));const a=d(e,["config"]);return a!=null&&FC(a,i),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class YC extends ui{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new xs(ai.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(i),i)}async create(e){var i,r,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=bC(this.apiClient,e);return h=se("cachedContents",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c.then(_=>_)}else{const m=EC(this.apiClient,e);return h=se("cachedContents",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>_)}}async get(e){var i,r,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=IC(this.apiClient,e);return h=se("{name}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c.then(_=>_)}else{const m=MC(this.apiClient,e);return h=se("{name}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>_)}}async delete(e){var i,r,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=TC(this.apiClient,e);return h=se("{name}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(E=>{const b=E;return b.sdkHttpResponse={headers:_.headers},b})),c.then(_=>{const E=wC(_),b=new e0;return Object.assign(b,E),b})}else{const m=SC(this.apiClient,e);return h=se("{name}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(E=>{const b=E;return b.sdkHttpResponse={headers:_.headers},b})),c.then(_=>{const E=xC(_),b=new e0;return Object.assign(b,E),b})}}async update(e){var i,r,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=JC(this.apiClient,e);return h=se("{name}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c.then(_=>_)}else{const m=$C(this.apiClient,e);return h=se("{name}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>_)}}async listInternal(e){var i,r,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=LC(e);return h=se("cachedContents",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(E=>{const b=E;return b.sdkHttpResponse={headers:_.headers},b})),c.then(_=>{const E=HC(_),b=new t0;return Object.assign(b,E),b})}else{const m=OC(e);return h=se("cachedContents",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(E=>{const b=E;return b.sdkHttpResponse={headers:_.headers},b})),c.then(_=>{const E=qC(_),b=new t0;return Object.assign(b,E),b})}}}function l0(n){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&n[e],r=0;if(i)return i.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function nt(n){return this instanceof nt?(this.v=n,this):new nt(n)}function Er(n,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=i.apply(n,e||[]),a,l=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",c),a[Symbol.asyncIterator]=function(){return this},a;function c(T){return function(A){return Promise.resolve(A).then(T,E)}}function h(T,A){r[T]&&(a[T]=function(N){return new Promise(function(R,P){l.push([T,N,R,P])>1||g(T,N)})},A&&(a[T]=A(a[T])))}function g(T,A){try{m(r[T](A))}catch(N){b(l[0][3],N)}}function m(T){T.value instanceof nt?Promise.resolve(T.value.v).then(_,E):b(l[0][2],T)}function _(T){g("next",T)}function E(T){g("throw",T)}function b(T,A){T(A),l.shift(),l.length&&g(l[0][0],l[0][1])}}function qo(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],i;return e?e.call(n):(n=typeof l0=="function"?l0(n):n[Symbol.iterator](),i={},r("next"),r("throw"),r("return"),i[Symbol.asyncIterator]=function(){return this},i);function r(l){i[l]=n[l]&&function(c){return new Promise(function(h,g){c=n[l](c),a(h,g,c.done,c.value)})}}function a(l,c,h,g){Promise.resolve(g).then(function(m){l({value:m,done:h})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KC(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const i=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return i===void 0?!1:a_(i)}function a_(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function QC(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function u0(n){if(n===void 0||n.length===0)return[];const e=[],i=n.length;let r=0;for(;r<i;)if(n[r].role==="user")e.push(n[r]),r++;else{const a=[];let l=!0;for(;r<i&&n[r].role==="model";)a.push(n[r]),l&&!a_(n[r])&&(l=!1),r++;l?e.push(...a):e.pop()}return e}class XC{constructor(e,i){this.modelsModule=e,this.apiClient=i}create(e){return new WC(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class WC{constructor(e,i,r,a={},l=[]){this.apiClient=e,this.modelsModule=i,this.model=r,this.config=a,this.history=l,this.sendPromise=Promise.resolve(),QC(l)}async sendMessage(e){var i;await this.sendPromise;const r=Ut(e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(i=e.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var l,c,h;const g=await a,m=(c=(l=g.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content,_=g.automaticFunctionCallingHistory,E=this.getHistory(!0).length;let b=[];_!=null&&(b=(h=_.slice(E))!==null&&h!==void 0?h:[]);const T=m?[m]:[];this.recordHistory(r,T,b)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var i;await this.sendPromise;const r=Ut(e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(i=e.config)!==null&&i!==void 0?i:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const l=await a;return this.processStreamResponse(l,r)}getHistory(e=!1){const i=e?u0(this.history):this.history;return structuredClone(i)}processStreamResponse(e,i){var r,a;return Er(this,arguments,function*(){var c,h,g,m;const _=[];try{for(var E=!0,b=qo(e),T;T=yield nt(b.next()),c=T.done,!c;E=!0){m=T.value,E=!1;const A=m;if(KC(A)){const N=(a=(r=A.candidates)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.content;N!==void 0&&_.push(N)}yield yield nt(A)}}catch(A){h={error:A}}finally{try{!E&&!c&&(g=b.return)&&(yield nt(g.call(b)))}finally{if(h)throw h.error}}this.recordHistory(i,_)})}recordHistory(e,i,r){let a=[];i.length>0&&i.every(l=>l.role!==void 0)?a=i:a.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...u0(r)):this.history.push(e),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ql extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Ql.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZC(n){const e={},i=d(n,["file"]);return i!=null&&f(e,["file"],i),e}function eN(n){const e={},i=d(n,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function tN(n){const e={},i=d(n,["name"]);return i!=null&&f(e,["_url","file"],e_(i)),e}function nN(n){const e={},i=d(n,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function iN(n){const e={},i=d(n,["name"]);return i!=null&&f(e,["_url","file"],e_(i)),e}function sN(n,e){const i={},r=d(n,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);const a=d(n,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),i}function rN(n){const e={},i=d(n,["config"]);return i!=null&&sN(i,e),e}function oN(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);const a=d(n,["files"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["files"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aN extends ui{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new xs(ai.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(i),i)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(i=>i)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=rN(e);return l=se("files",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:g.headers},_})),a.then(g=>{const m=oN(g),_=new dA;return Object.assign(_,m),_})}}async createInternal(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=ZC(e);return l=se("upload/v1beta/files",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const m=eN(g),_=new fA;return Object.assign(_,m),_})}}async get(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=iN(e);return l=se("files/{file}",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async delete(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=tN(e);return l=se("files/{file}",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:g.headers},_})),a.then(g=>{const m=nN(g),_=new hA;return Object.assign(_,m),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nl(n){const e={},i=d(n,["data"]);if(i!=null&&f(e,["data"],i),d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(n,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function lN(n){const e={},i=d(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>xN(l))),f(e,["parts"],a)}const r=d(n,["role"]);return r!=null&&f(e,["role"],r),e}function uN(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(n,["fileUri"]);i!=null&&f(e,["fileUri"],i);const r=d(n,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function cN(n){const e={},i=d(n,["id"]);i!=null&&f(e,["id"],i);const r=d(n,["args"]);r!=null&&f(e,["args"],r);const a=d(n,["name"]);if(a!=null&&f(e,["name"],a),d(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function dN(n){const e={};if(d(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(n,["description"]);i!=null&&f(e,["description"],i);const r=d(n,["name"]);r!=null&&f(e,["name"],r);const a=d(n,["parameters"]);a!=null&&f(e,["parameters"],a);const l=d(n,["parametersJsonSchema"]);l!=null&&f(e,["parametersJsonSchema"],l);const c=d(n,["response"]);c!=null&&f(e,["response"],c);const h=d(n,["responseJsonSchema"]);return h!=null&&f(e,["responseJsonSchema"],h),e}function fN(n){const e={},i=d(n,["modelSelectionConfig"]);i!=null&&f(e,["modelConfig"],i);const r=d(n,["responseJsonSchema"]);r!=null&&f(e,["responseJsonSchema"],r);const a=d(n,["audioTimestamp"]);a!=null&&f(e,["audioTimestamp"],a);const l=d(n,["candidateCount"]);l!=null&&f(e,["candidateCount"],l);const c=d(n,["enableAffectiveDialog"]);c!=null&&f(e,["enableAffectiveDialog"],c);const h=d(n,["frequencyPenalty"]);h!=null&&f(e,["frequencyPenalty"],h);const g=d(n,["logprobs"]);g!=null&&f(e,["logprobs"],g);const m=d(n,["maxOutputTokens"]);m!=null&&f(e,["maxOutputTokens"],m);const _=d(n,["mediaResolution"]);_!=null&&f(e,["mediaResolution"],_);const E=d(n,["presencePenalty"]);E!=null&&f(e,["presencePenalty"],E);const b=d(n,["responseLogprobs"]);b!=null&&f(e,["responseLogprobs"],b);const T=d(n,["responseMimeType"]);T!=null&&f(e,["responseMimeType"],T);const A=d(n,["responseModalities"]);A!=null&&f(e,["responseModalities"],A);const N=d(n,["responseSchema"]);N!=null&&f(e,["responseSchema"],N);const R=d(n,["routingConfig"]);R!=null&&f(e,["routingConfig"],R);const P=d(n,["seed"]);P!=null&&f(e,["seed"],P);const L=d(n,["speechConfig"]);L!=null&&f(e,["speechConfig"],l_(L));const k=d(n,["stopSequences"]);k!=null&&f(e,["stopSequences"],k);const j=d(n,["temperature"]);j!=null&&f(e,["temperature"],j);const Y=d(n,["thinkingConfig"]);Y!=null&&f(e,["thinkingConfig"],Y);const Q=d(n,["topK"]);Q!=null&&f(e,["topK"],Q);const $=d(n,["topP"]);if($!=null&&f(e,["topP"],$),d(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function hN(n){const e={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(n,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function pN(n){const e={};if(d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(n,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function mN(n,e){const i={},r=d(n,["generationConfig"]);e!==void 0&&r!=null&&f(e,["setup","generationConfig"],r);const a=d(n,["responseModalities"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","responseModalities"],a);const l=d(n,["temperature"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","temperature"],l);const c=d(n,["topP"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","topP"],c);const h=d(n,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const g=d(n,["maxOutputTokens"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","maxOutputTokens"],g);const m=d(n,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const _=d(n,["seed"]);e!==void 0&&_!=null&&f(e,["setup","generationConfig","seed"],_);const E=d(n,["speechConfig"]);e!==void 0&&E!=null&&f(e,["setup","generationConfig","speechConfig"],Tf(E));const b=d(n,["thinkingConfig"]);e!==void 0&&b!=null&&f(e,["setup","generationConfig","thinkingConfig"],b);const T=d(n,["enableAffectiveDialog"]);e!==void 0&&T!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],T);const A=d(n,["systemInstruction"]);e!==void 0&&A!=null&&f(e,["setup","systemInstruction"],lN(Ut(A)));const N=d(n,["tools"]);if(e!==void 0&&N!=null){let Q=Cr(N);Array.isArray(Q)&&(Q=Q.map($=>AN(Ar($)))),f(e,["setup","tools"],Q)}const R=d(n,["sessionResumption"]);e!==void 0&&R!=null&&f(e,["setup","sessionResumption"],wN(R));const P=d(n,["inputAudioTranscription"]);e!==void 0&&P!=null&&f(e,["setup","inputAudioTranscription"],P);const L=d(n,["outputAudioTranscription"]);e!==void 0&&L!=null&&f(e,["setup","outputAudioTranscription"],L);const k=d(n,["realtimeInputConfig"]);e!==void 0&&k!=null&&f(e,["setup","realtimeInputConfig"],k);const j=d(n,["contextWindowCompression"]);e!==void 0&&j!=null&&f(e,["setup","contextWindowCompression"],j);const Y=d(n,["proactivity"]);return e!==void 0&&Y!=null&&f(e,["setup","proactivity"],Y),i}function gN(n,e){const i={},r=d(n,["generationConfig"]);e!==void 0&&r!=null&&f(e,["setup","generationConfig"],fN(r));const a=d(n,["responseModalities"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","responseModalities"],a);const l=d(n,["temperature"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","temperature"],l);const c=d(n,["topP"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","topP"],c);const h=d(n,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const g=d(n,["maxOutputTokens"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","maxOutputTokens"],g);const m=d(n,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const _=d(n,["seed"]);e!==void 0&&_!=null&&f(e,["setup","generationConfig","seed"],_);const E=d(n,["speechConfig"]);e!==void 0&&E!=null&&f(e,["setup","generationConfig","speechConfig"],l_(Tf(E)));const b=d(n,["thinkingConfig"]);e!==void 0&&b!=null&&f(e,["setup","generationConfig","thinkingConfig"],b);const T=d(n,["enableAffectiveDialog"]);e!==void 0&&T!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],T);const A=d(n,["systemInstruction"]);e!==void 0&&A!=null&&f(e,["setup","systemInstruction"],Ut(A));const N=d(n,["tools"]);if(e!==void 0&&N!=null){let Q=Cr(N);Array.isArray(Q)&&(Q=Q.map($=>CN(Ar($)))),f(e,["setup","tools"],Q)}const R=d(n,["sessionResumption"]);e!==void 0&&R!=null&&f(e,["setup","sessionResumption"],R);const P=d(n,["inputAudioTranscription"]);e!==void 0&&P!=null&&f(e,["setup","inputAudioTranscription"],P);const L=d(n,["outputAudioTranscription"]);e!==void 0&&L!=null&&f(e,["setup","outputAudioTranscription"],L);const k=d(n,["realtimeInputConfig"]);e!==void 0&&k!=null&&f(e,["setup","realtimeInputConfig"],k);const j=d(n,["contextWindowCompression"]);e!==void 0&&j!=null&&f(e,["setup","contextWindowCompression"],j);const Y=d(n,["proactivity"]);return e!==void 0&&Y!=null&&f(e,["setup","proactivity"],Y),i}function yN(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["setup","model"],He(n,r));const a=d(e,["config"]);return a!=null&&f(i,["config"],mN(a,i)),i}function vN(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["setup","model"],He(n,r));const a=d(e,["config"]);return a!=null&&f(i,["config"],gN(a,i)),i}function _N(n){const e={},i=d(n,["musicGenerationConfig"]);return i!=null&&f(e,["musicGenerationConfig"],i),e}function EN(n){const e={},i=d(n,["weightedPrompts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>a)),f(e,["weightedPrompts"],r)}return e}function bN(n){const e={},i=d(n,["media"]);if(i!=null){let m=Kv(i);Array.isArray(m)&&(m=m.map(_=>Nl(_))),f(e,["mediaChunks"],m)}const r=d(n,["audio"]);r!=null&&f(e,["audio"],Nl(Xv(r)));const a=d(n,["audioStreamEnd"]);a!=null&&f(e,["audioStreamEnd"],a);const l=d(n,["video"]);l!=null&&f(e,["video"],Nl(Qv(l)));const c=d(n,["text"]);c!=null&&f(e,["text"],c);const h=d(n,["activityStart"]);h!=null&&f(e,["activityStart"],h);const g=d(n,["activityEnd"]);return g!=null&&f(e,["activityEnd"],g),e}function SN(n){const e={},i=d(n,["media"]);if(i!=null){let m=Kv(i);Array.isArray(m)&&(m=m.map(_=>_)),f(e,["mediaChunks"],m)}const r=d(n,["audio"]);r!=null&&f(e,["audio"],Xv(r));const a=d(n,["audioStreamEnd"]);a!=null&&f(e,["audioStreamEnd"],a);const l=d(n,["video"]);l!=null&&f(e,["video"],Qv(l));const c=d(n,["text"]);c!=null&&f(e,["text"],c);const h=d(n,["activityStart"]);h!=null&&f(e,["activityStart"],h);const g=d(n,["activityEnd"]);return g!=null&&f(e,["activityEnd"],g),e}function TN(n){const e={},i=d(n,["setupComplete"]);i!=null&&f(e,["setupComplete"],i);const r=d(n,["serverContent"]);r!=null&&f(e,["serverContent"],r);const a=d(n,["toolCall"]);a!=null&&f(e,["toolCall"],a);const l=d(n,["toolCallCancellation"]);l!=null&&f(e,["toolCallCancellation"],l);const c=d(n,["usageMetadata"]);c!=null&&f(e,["usageMetadata"],NN(c));const h=d(n,["goAway"]);h!=null&&f(e,["goAway"],h);const g=d(n,["sessionResumptionUpdate"]);return g!=null&&f(e,["sessionResumptionUpdate"],g),e}function xN(n){const e={},i=d(n,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const r=d(n,["codeExecutionResult"]);r!=null&&f(e,["codeExecutionResult"],r);const a=d(n,["executableCode"]);a!=null&&f(e,["executableCode"],a);const l=d(n,["fileData"]);l!=null&&f(e,["fileData"],uN(l));const c=d(n,["functionCall"]);c!=null&&f(e,["functionCall"],cN(c));const h=d(n,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const g=d(n,["inlineData"]);g!=null&&f(e,["inlineData"],Nl(g));const m=d(n,["text"]);m!=null&&f(e,["text"],m);const _=d(n,["thought"]);_!=null&&f(e,["thought"],_);const E=d(n,["thoughtSignature"]);E!=null&&f(e,["thoughtSignature"],E);const b=d(n,["videoMetadata"]);return b!=null&&f(e,["videoMetadata"],b),e}function wN(n){const e={},i=d(n,["handle"]);if(i!=null&&f(e,["handle"],i),d(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function l_(n){const e={},i=d(n,["languageCode"]);i!=null&&f(e,["languageCode"],i);const r=d(n,["voiceConfig"]);if(r!=null&&f(e,["voiceConfig"],r),d(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function AN(n){const e={},i=d(n,["functionDeclarations"]);if(i!=null){let _=i;Array.isArray(_)&&(_=_.map(E=>E)),f(e,["functionDeclarations"],_)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(n,["googleSearchRetrieval"]);r!=null&&f(e,["googleSearchRetrieval"],r);const a=d(n,["computerUse"]);a!=null&&f(e,["computerUse"],a);const l=d(n,["fileSearch"]);l!=null&&f(e,["fileSearch"],l);const c=d(n,["codeExecution"]);if(c!=null&&f(e,["codeExecution"],c),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=d(n,["googleMaps"]);h!=null&&f(e,["googleMaps"],hN(h));const g=d(n,["googleSearch"]);g!=null&&f(e,["googleSearch"],pN(g));const m=d(n,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}function CN(n){const e={},i=d(n,["functionDeclarations"]);if(i!=null){let E=i;Array.isArray(E)&&(E=E.map(b=>dN(b))),f(e,["functionDeclarations"],E)}const r=d(n,["retrieval"]);r!=null&&f(e,["retrieval"],r);const a=d(n,["googleSearchRetrieval"]);a!=null&&f(e,["googleSearchRetrieval"],a);const l=d(n,["computerUse"]);if(l!=null&&f(e,["computerUse"],l),d(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=d(n,["codeExecution"]);c!=null&&f(e,["codeExecution"],c);const h=d(n,["enterpriseWebSearch"]);h!=null&&f(e,["enterpriseWebSearch"],h);const g=d(n,["googleMaps"]);g!=null&&f(e,["googleMaps"],g);const m=d(n,["googleSearch"]);m!=null&&f(e,["googleSearch"],m);const _=d(n,["urlContext"]);return _!=null&&f(e,["urlContext"],_),e}function NN(n){const e={},i=d(n,["promptTokenCount"]);i!=null&&f(e,["promptTokenCount"],i);const r=d(n,["cachedContentTokenCount"]);r!=null&&f(e,["cachedContentTokenCount"],r);const a=d(n,["candidatesTokenCount"]);a!=null&&f(e,["responseTokenCount"],a);const l=d(n,["toolUsePromptTokenCount"]);l!=null&&f(e,["toolUsePromptTokenCount"],l);const c=d(n,["thoughtsTokenCount"]);c!=null&&f(e,["thoughtsTokenCount"],c);const h=d(n,["totalTokenCount"]);h!=null&&f(e,["totalTokenCount"],h);const g=d(n,["promptTokensDetails"]);if(g!=null){let T=g;Array.isArray(T)&&(T=T.map(A=>A)),f(e,["promptTokensDetails"],T)}const m=d(n,["cacheTokensDetails"]);if(m!=null){let T=m;Array.isArray(T)&&(T=T.map(A=>A)),f(e,["cacheTokensDetails"],T)}const _=d(n,["candidatesTokensDetails"]);if(_!=null){let T=_;Array.isArray(T)&&(T=T.map(A=>A)),f(e,["responseTokensDetails"],T)}const E=d(n,["toolUsePromptTokensDetails"]);if(E!=null){let T=E;Array.isArray(T)&&(T=T.map(A=>A)),f(e,["toolUsePromptTokensDetails"],T)}const b=d(n,["trafficType"]);return b!=null&&f(e,["trafficType"],b),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RN(n){const e={},i=d(n,["data"]);if(i!=null&&f(e,["data"],i),d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(n,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function MN(n){const e={},i=d(n,["content"]);i!=null&&f(e,["content"],i);const r=d(n,["citationMetadata"]);r!=null&&f(e,["citationMetadata"],IN(r));const a=d(n,["tokenCount"]);a!=null&&f(e,["tokenCount"],a);const l=d(n,["finishReason"]);l!=null&&f(e,["finishReason"],l);const c=d(n,["avgLogprobs"]);c!=null&&f(e,["avgLogprobs"],c);const h=d(n,["groundingMetadata"]);h!=null&&f(e,["groundingMetadata"],h);const g=d(n,["index"]);g!=null&&f(e,["index"],g);const m=d(n,["logprobsResult"]);m!=null&&f(e,["logprobsResult"],m);const _=d(n,["safetyRatings"]);if(_!=null){let b=_;Array.isArray(b)&&(b=b.map(T=>T)),f(e,["safetyRatings"],b)}const E=d(n,["urlContextMetadata"]);return E!=null&&f(e,["urlContextMetadata"],E),e}function IN(n){const e={},i=d(n,["citationSources"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>a)),f(e,["citations"],r)}return e}function DN(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],He(n,r));const a=d(e,["contents"]);if(a!=null){let l=pn(a);Array.isArray(l)&&(l=l.map(c=>c)),f(i,["contents"],l)}return i}function kN(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["tokensInfo"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),f(e,["tokensInfo"],a)}return e}function UN(n){const e={},i=d(n,["values"]);i!=null&&f(e,["values"],i);const r=d(n,["statistics"]);return r!=null&&f(e,["statistics"],PN(r)),e}function PN(n){const e={},i=d(n,["truncated"]);i!=null&&f(e,["truncated"],i);const r=d(n,["token_count"]);return r!=null&&f(e,["tokenCount"],r),e}function Xl(n){const e={},i=d(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>j1(l))),f(e,["parts"],a)}const r=d(n,["role"]);return r!=null&&f(e,["role"],r),e}function ON(n){const e={},i=d(n,["controlType"]);i!=null&&f(e,["controlType"],i);const r=d(n,["enableControlImageComputation"]);return r!=null&&f(e,["computeControl"],r),e}function LN(n){const e={};if(d(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function qN(n,e){const i={},r=d(n,["systemInstruction"]);e!==void 0&&r!=null&&f(e,["systemInstruction"],Ut(r));const a=d(n,["tools"]);if(e!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>h_(h))),f(e,["tools"],c)}const l=d(n,["generationConfig"]);return e!==void 0&&l!=null&&f(e,["generationConfig"],R1(l)),i}function HN(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],He(n,r));const a=d(e,["contents"]);if(a!=null){let c=pn(a);Array.isArray(c)&&(c=c.map(h=>Xl(h))),f(i,["contents"],c)}const l=d(e,["config"]);return l!=null&&LN(l),i}function GN(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],He(n,r));const a=d(e,["contents"]);if(a!=null){let c=pn(a);Array.isArray(c)&&(c=c.map(h=>h)),f(i,["contents"],c)}const l=d(e,["config"]);return l!=null&&qN(l,i),i}function BN(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["totalTokens"]);r!=null&&f(e,["totalTokens"],r);const a=d(n,["cachedContentTokenCount"]);return a!=null&&f(e,["cachedContentTokenCount"],a),e}function zN(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["totalTokens"]);return r!=null&&f(e,["totalTokens"],r),e}function VN(n,e){const i={},r=d(e,["model"]);return r!=null&&f(i,["_url","name"],He(n,r)),i}function jN(n,e){const i={},r=d(e,["model"]);return r!=null&&f(i,["_url","name"],He(n,r)),i}function FN(n){const e={},i=d(n,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function $N(n){const e={},i=d(n,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function JN(n,e){const i={},r=d(n,["outputGcsUri"]);e!==void 0&&r!=null&&f(e,["parameters","storageUri"],r);const a=d(n,["negativePrompt"]);e!==void 0&&a!=null&&f(e,["parameters","negativePrompt"],a);const l=d(n,["numberOfImages"]);e!==void 0&&l!=null&&f(e,["parameters","sampleCount"],l);const c=d(n,["aspectRatio"]);e!==void 0&&c!=null&&f(e,["parameters","aspectRatio"],c);const h=d(n,["guidanceScale"]);e!==void 0&&h!=null&&f(e,["parameters","guidanceScale"],h);const g=d(n,["seed"]);e!==void 0&&g!=null&&f(e,["parameters","seed"],g);const m=d(n,["safetyFilterLevel"]);e!==void 0&&m!=null&&f(e,["parameters","safetySetting"],m);const _=d(n,["personGeneration"]);e!==void 0&&_!=null&&f(e,["parameters","personGeneration"],_);const E=d(n,["includeSafetyAttributes"]);e!==void 0&&E!=null&&f(e,["parameters","includeSafetyAttributes"],E);const b=d(n,["includeRaiReason"]);e!==void 0&&b!=null&&f(e,["parameters","includeRaiReason"],b);const T=d(n,["language"]);e!==void 0&&T!=null&&f(e,["parameters","language"],T);const A=d(n,["outputMimeType"]);e!==void 0&&A!=null&&f(e,["parameters","outputOptions","mimeType"],A);const N=d(n,["outputCompressionQuality"]);e!==void 0&&N!=null&&f(e,["parameters","outputOptions","compressionQuality"],N);const R=d(n,["addWatermark"]);e!==void 0&&R!=null&&f(e,["parameters","addWatermark"],R);const P=d(n,["labels"]);e!==void 0&&P!=null&&f(e,["labels"],P);const L=d(n,["editMode"]);e!==void 0&&L!=null&&f(e,["parameters","editMode"],L);const k=d(n,["baseSteps"]);return e!==void 0&&k!=null&&f(e,["parameters","editConfig","baseSteps"],k),i}function YN(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],He(n,r));const a=d(e,["prompt"]);a!=null&&f(i,["instances[0]","prompt"],a);const l=d(e,["referenceImages"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(g=>Q1(g))),f(i,["instances[0]","referenceImages"],h)}const c=d(e,["config"]);return c!=null&&JN(c,i),i}function KN(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>Wl(l))),f(e,["generatedImages"],a)}return e}function QN(n,e){const i={},r=d(n,["taskType"]);e!==void 0&&r!=null&&f(e,["requests[]","taskType"],r);const a=d(n,["title"]);e!==void 0&&a!=null&&f(e,["requests[]","title"],a);const l=d(n,["outputDimensionality"]);if(e!==void 0&&l!=null&&f(e,["requests[]","outputDimensionality"],l),d(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function XN(n,e){const i={},r=d(n,["taskType"]);e!==void 0&&r!=null&&f(e,["instances[]","task_type"],r);const a=d(n,["title"]);e!==void 0&&a!=null&&f(e,["instances[]","title"],a);const l=d(n,["outputDimensionality"]);e!==void 0&&l!=null&&f(e,["parameters","outputDimensionality"],l);const c=d(n,["mimeType"]);e!==void 0&&c!=null&&f(e,["instances[]","mimeType"],c);const h=d(n,["autoTruncate"]);return e!==void 0&&h!=null&&f(e,["parameters","autoTruncate"],h),i}function WN(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],He(n,r));const a=d(e,["contents"]);if(a!=null){let h=Ef(n,a);Array.isArray(h)&&(h=h.map(g=>g)),f(i,["requests[]","content"],h)}const l=d(e,["config"]);l!=null&&QN(l,i);const c=d(e,["model"]);return c!==void 0&&f(i,["requests[]","model"],He(n,c)),i}function ZN(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],He(n,r));const a=d(e,["contents"]);if(a!=null){let c=Ef(n,a);Array.isArray(c)&&(c=c.map(h=>h)),f(i,["instances[]","content"],c)}const l=d(e,["config"]);return l!=null&&XN(l,i),i}function e1(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["embeddings"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["embeddings"],l)}const a=d(n,["metadata"]);return a!=null&&f(e,["metadata"],a),e}function t1(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["predictions[]","embeddings"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>UN(c))),f(e,["embeddings"],l)}const a=d(n,["metadata"]);return a!=null&&f(e,["metadata"],a),e}function n1(n){const e={},i=d(n,["endpoint"]);i!=null&&f(e,["name"],i);const r=d(n,["deployedModelId"]);return r!=null&&f(e,["deployedModelId"],r),e}function i1(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(n,["fileUri"]);i!=null&&f(e,["fileUri"],i);const r=d(n,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function s1(n){const e={},i=d(n,["id"]);i!=null&&f(e,["id"],i);const r=d(n,["args"]);r!=null&&f(e,["args"],r);const a=d(n,["name"]);if(a!=null&&f(e,["name"],a),d(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function r1(n){const e={},i=d(n,["mode"]);i!=null&&f(e,["mode"],i);const r=d(n,["allowedFunctionNames"]);if(r!=null&&f(e,["allowedFunctionNames"],r),d(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function o1(n){const e={};if(d(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(n,["description"]);i!=null&&f(e,["description"],i);const r=d(n,["name"]);r!=null&&f(e,["name"],r);const a=d(n,["parameters"]);a!=null&&f(e,["parameters"],a);const l=d(n,["parametersJsonSchema"]);l!=null&&f(e,["parametersJsonSchema"],l);const c=d(n,["response"]);c!=null&&f(e,["response"],c);const h=d(n,["responseJsonSchema"]);return h!=null&&f(e,["responseJsonSchema"],h),e}function a1(n,e,i){const r={},a=d(e,["systemInstruction"]);i!==void 0&&a!=null&&f(i,["systemInstruction"],Xl(Ut(a)));const l=d(e,["temperature"]);l!=null&&f(r,["temperature"],l);const c=d(e,["topP"]);c!=null&&f(r,["topP"],c);const h=d(e,["topK"]);h!=null&&f(r,["topK"],h);const g=d(e,["candidateCount"]);g!=null&&f(r,["candidateCount"],g);const m=d(e,["maxOutputTokens"]);m!=null&&f(r,["maxOutputTokens"],m);const _=d(e,["stopSequences"]);_!=null&&f(r,["stopSequences"],_);const E=d(e,["responseLogprobs"]);E!=null&&f(r,["responseLogprobs"],E);const b=d(e,["logprobs"]);b!=null&&f(r,["logprobs"],b);const T=d(e,["presencePenalty"]);T!=null&&f(r,["presencePenalty"],T);const A=d(e,["frequencyPenalty"]);A!=null&&f(r,["frequencyPenalty"],A);const N=d(e,["seed"]);N!=null&&f(r,["seed"],N);const R=d(e,["responseMimeType"]);R!=null&&f(r,["responseMimeType"],R);const P=d(e,["responseSchema"]);P!=null&&f(r,["responseSchema"],bf(P));const L=d(e,["responseJsonSchema"]);if(L!=null&&f(r,["responseJsonSchema"],L),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=d(e,["safetySettings"]);if(i!==void 0&&k!=null){let ne=k;Array.isArray(ne)&&(ne=ne.map(ye=>X1(ye))),f(i,["safetySettings"],ne)}const j=d(e,["tools"]);if(i!==void 0&&j!=null){let ne=Cr(j);Array.isArray(ne)&&(ne=ne.map(ye=>sR(Ar(ye)))),f(i,["tools"],ne)}const Y=d(e,["toolConfig"]);if(i!==void 0&&Y!=null&&f(i,["toolConfig"],iR(Y)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Q=d(e,["cachedContent"]);i!==void 0&&Q!=null&&f(i,["cachedContent"],ci(n,Q));const $=d(e,["responseModalities"]);$!=null&&f(r,["responseModalities"],$);const ae=d(e,["mediaResolution"]);ae!=null&&f(r,["mediaResolution"],ae);const ee=d(e,["speechConfig"]);if(ee!=null&&f(r,["speechConfig"],Sf(ee)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const fe=d(e,["thinkingConfig"]);fe!=null&&f(r,["thinkingConfig"],fe);const Z=d(e,["imageConfig"]);return Z!=null&&f(r,["imageConfig"],U1(Z)),r}function l1(n,e,i){const r={},a=d(e,["systemInstruction"]);i!==void 0&&a!=null&&f(i,["systemInstruction"],Ut(a));const l=d(e,["temperature"]);l!=null&&f(r,["temperature"],l);const c=d(e,["topP"]);c!=null&&f(r,["topP"],c);const h=d(e,["topK"]);h!=null&&f(r,["topK"],h);const g=d(e,["candidateCount"]);g!=null&&f(r,["candidateCount"],g);const m=d(e,["maxOutputTokens"]);m!=null&&f(r,["maxOutputTokens"],m);const _=d(e,["stopSequences"]);_!=null&&f(r,["stopSequences"],_);const E=d(e,["responseLogprobs"]);E!=null&&f(r,["responseLogprobs"],E);const b=d(e,["logprobs"]);b!=null&&f(r,["logprobs"],b);const T=d(e,["presencePenalty"]);T!=null&&f(r,["presencePenalty"],T);const A=d(e,["frequencyPenalty"]);A!=null&&f(r,["frequencyPenalty"],A);const N=d(e,["seed"]);N!=null&&f(r,["seed"],N);const R=d(e,["responseMimeType"]);R!=null&&f(r,["responseMimeType"],R);const P=d(e,["responseSchema"]);P!=null&&f(r,["responseSchema"],bf(P));const L=d(e,["responseJsonSchema"]);L!=null&&f(r,["responseJsonSchema"],L);const k=d(e,["routingConfig"]);k!=null&&f(r,["routingConfig"],k);const j=d(e,["modelSelectionConfig"]);j!=null&&f(r,["modelConfig"],j);const Y=d(e,["safetySettings"]);if(i!==void 0&&Y!=null){let H=Y;Array.isArray(H)&&(H=H.map(W=>W)),f(i,["safetySettings"],H)}const Q=d(e,["tools"]);if(i!==void 0&&Q!=null){let H=Cr(Q);Array.isArray(H)&&(H=H.map(W=>h_(Ar(W)))),f(i,["tools"],H)}const $=d(e,["toolConfig"]);i!==void 0&&$!=null&&f(i,["toolConfig"],$);const ae=d(e,["labels"]);i!==void 0&&ae!=null&&f(i,["labels"],ae);const ee=d(e,["cachedContent"]);i!==void 0&&ee!=null&&f(i,["cachedContent"],ci(n,ee));const fe=d(e,["responseModalities"]);fe!=null&&f(r,["responseModalities"],fe);const Z=d(e,["mediaResolution"]);Z!=null&&f(r,["mediaResolution"],Z);const ne=d(e,["speechConfig"]);ne!=null&&f(r,["speechConfig"],f_(Sf(ne)));const ye=d(e,["audioTimestamp"]);ye!=null&&f(r,["audioTimestamp"],ye);const Be=d(e,["thinkingConfig"]);Be!=null&&f(r,["thinkingConfig"],Be);const Pe=d(e,["imageConfig"]);return Pe!=null&&f(r,["imageConfig"],P1(Pe)),r}function c0(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],He(n,r));const a=d(e,["contents"]);if(a!=null){let c=pn(a);Array.isArray(c)&&(c=c.map(h=>Xl(h))),f(i,["contents"],c)}const l=d(e,["config"]);return l!=null&&f(i,["generationConfig"],a1(n,l,i)),i}function d0(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],He(n,r));const a=d(e,["contents"]);if(a!=null){let c=pn(a);Array.isArray(c)&&(c=c.map(h=>h)),f(i,["contents"],c)}const l=d(e,["config"]);return l!=null&&f(i,["generationConfig"],l1(n,l,i)),i}function f0(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["candidates"]);if(r!=null){let g=r;Array.isArray(g)&&(g=g.map(m=>MN(m))),f(e,["candidates"],g)}const a=d(n,["modelVersion"]);a!=null&&f(e,["modelVersion"],a);const l=d(n,["promptFeedback"]);l!=null&&f(e,["promptFeedback"],l);const c=d(n,["responseId"]);c!=null&&f(e,["responseId"],c);const h=d(n,["usageMetadata"]);return h!=null&&f(e,["usageMetadata"],h),e}function h0(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["candidates"]);if(r!=null){let m=r;Array.isArray(m)&&(m=m.map(_=>_)),f(e,["candidates"],m)}const a=d(n,["createTime"]);a!=null&&f(e,["createTime"],a);const l=d(n,["modelVersion"]);l!=null&&f(e,["modelVersion"],l);const c=d(n,["promptFeedback"]);c!=null&&f(e,["promptFeedback"],c);const h=d(n,["responseId"]);h!=null&&f(e,["responseId"],h);const g=d(n,["usageMetadata"]);return g!=null&&f(e,["usageMetadata"],g),e}function u1(n,e){const i={};if(d(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=d(n,["numberOfImages"]);e!==void 0&&r!=null&&f(e,["parameters","sampleCount"],r);const a=d(n,["aspectRatio"]);e!==void 0&&a!=null&&f(e,["parameters","aspectRatio"],a);const l=d(n,["guidanceScale"]);if(e!==void 0&&l!=null&&f(e,["parameters","guidanceScale"],l),d(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=d(n,["safetyFilterLevel"]);e!==void 0&&c!=null&&f(e,["parameters","safetySetting"],c);const h=d(n,["personGeneration"]);e!==void 0&&h!=null&&f(e,["parameters","personGeneration"],h);const g=d(n,["includeSafetyAttributes"]);e!==void 0&&g!=null&&f(e,["parameters","includeSafetyAttributes"],g);const m=d(n,["includeRaiReason"]);e!==void 0&&m!=null&&f(e,["parameters","includeRaiReason"],m);const _=d(n,["language"]);e!==void 0&&_!=null&&f(e,["parameters","language"],_);const E=d(n,["outputMimeType"]);e!==void 0&&E!=null&&f(e,["parameters","outputOptions","mimeType"],E);const b=d(n,["outputCompressionQuality"]);if(e!==void 0&&b!=null&&f(e,["parameters","outputOptions","compressionQuality"],b),d(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const T=d(n,["imageSize"]);if(e!==void 0&&T!=null&&f(e,["parameters","sampleImageSize"],T),d(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function c1(n,e){const i={},r=d(n,["outputGcsUri"]);e!==void 0&&r!=null&&f(e,["parameters","storageUri"],r);const a=d(n,["negativePrompt"]);e!==void 0&&a!=null&&f(e,["parameters","negativePrompt"],a);const l=d(n,["numberOfImages"]);e!==void 0&&l!=null&&f(e,["parameters","sampleCount"],l);const c=d(n,["aspectRatio"]);e!==void 0&&c!=null&&f(e,["parameters","aspectRatio"],c);const h=d(n,["guidanceScale"]);e!==void 0&&h!=null&&f(e,["parameters","guidanceScale"],h);const g=d(n,["seed"]);e!==void 0&&g!=null&&f(e,["parameters","seed"],g);const m=d(n,["safetyFilterLevel"]);e!==void 0&&m!=null&&f(e,["parameters","safetySetting"],m);const _=d(n,["personGeneration"]);e!==void 0&&_!=null&&f(e,["parameters","personGeneration"],_);const E=d(n,["includeSafetyAttributes"]);e!==void 0&&E!=null&&f(e,["parameters","includeSafetyAttributes"],E);const b=d(n,["includeRaiReason"]);e!==void 0&&b!=null&&f(e,["parameters","includeRaiReason"],b);const T=d(n,["language"]);e!==void 0&&T!=null&&f(e,["parameters","language"],T);const A=d(n,["outputMimeType"]);e!==void 0&&A!=null&&f(e,["parameters","outputOptions","mimeType"],A);const N=d(n,["outputCompressionQuality"]);e!==void 0&&N!=null&&f(e,["parameters","outputOptions","compressionQuality"],N);const R=d(n,["addWatermark"]);e!==void 0&&R!=null&&f(e,["parameters","addWatermark"],R);const P=d(n,["labels"]);e!==void 0&&P!=null&&f(e,["labels"],P);const L=d(n,["imageSize"]);e!==void 0&&L!=null&&f(e,["parameters","sampleImageSize"],L);const k=d(n,["enhancePrompt"]);return e!==void 0&&k!=null&&f(e,["parameters","enhancePrompt"],k),i}function d1(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],He(n,r));const a=d(e,["prompt"]);a!=null&&f(i,["instances[0]","prompt"],a);const l=d(e,["config"]);return l!=null&&u1(l,i),i}function f1(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],He(n,r));const a=d(e,["prompt"]);a!=null&&f(i,["instances[0]","prompt"],a);const l=d(e,["config"]);return l!=null&&c1(l,i),i}function h1(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>w1(c))),f(e,["generatedImages"],l)}const a=d(n,["positivePromptSafetyAttributes"]);return a!=null&&f(e,["positivePromptSafetyAttributes"],c_(a)),e}function p1(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>Wl(c))),f(e,["generatedImages"],l)}const a=d(n,["positivePromptSafetyAttributes"]);return a!=null&&f(e,["positivePromptSafetyAttributes"],d_(a)),e}function m1(n,e){const i={},r=d(n,["numberOfVideos"]);if(e!==void 0&&r!=null&&f(e,["parameters","sampleCount"],r),d(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=d(n,["durationSeconds"]);if(e!==void 0&&a!=null&&f(e,["parameters","durationSeconds"],a),d(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=d(n,["aspectRatio"]);e!==void 0&&l!=null&&f(e,["parameters","aspectRatio"],l);const c=d(n,["resolution"]);e!==void 0&&c!=null&&f(e,["parameters","resolution"],c);const h=d(n,["personGeneration"]);if(e!==void 0&&h!=null&&f(e,["parameters","personGeneration"],h),d(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const g=d(n,["negativePrompt"]);e!==void 0&&g!=null&&f(e,["parameters","negativePrompt"],g);const m=d(n,["enhancePrompt"]);if(e!==void 0&&m!=null&&f(e,["parameters","enhancePrompt"],m),d(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const _=d(n,["lastFrame"]);e!==void 0&&_!=null&&f(e,["instances[0]","lastFrame"],Zl(_));const E=d(n,["referenceImages"]);if(e!==void 0&&E!=null){let b=E;Array.isArray(b)&&(b=b.map(T=>yR(T))),f(e,["instances[0]","referenceImages"],b)}if(d(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return i}function g1(n,e){const i={},r=d(n,["numberOfVideos"]);e!==void 0&&r!=null&&f(e,["parameters","sampleCount"],r);const a=d(n,["outputGcsUri"]);e!==void 0&&a!=null&&f(e,["parameters","storageUri"],a);const l=d(n,["fps"]);e!==void 0&&l!=null&&f(e,["parameters","fps"],l);const c=d(n,["durationSeconds"]);e!==void 0&&c!=null&&f(e,["parameters","durationSeconds"],c);const h=d(n,["seed"]);e!==void 0&&h!=null&&f(e,["parameters","seed"],h);const g=d(n,["aspectRatio"]);e!==void 0&&g!=null&&f(e,["parameters","aspectRatio"],g);const m=d(n,["resolution"]);e!==void 0&&m!=null&&f(e,["parameters","resolution"],m);const _=d(n,["personGeneration"]);e!==void 0&&_!=null&&f(e,["parameters","personGeneration"],_);const E=d(n,["pubsubTopic"]);e!==void 0&&E!=null&&f(e,["parameters","pubsubTopic"],E);const b=d(n,["negativePrompt"]);e!==void 0&&b!=null&&f(e,["parameters","negativePrompt"],b);const T=d(n,["enhancePrompt"]);e!==void 0&&T!=null&&f(e,["parameters","enhancePrompt"],T);const A=d(n,["generateAudio"]);e!==void 0&&A!=null&&f(e,["parameters","generateAudio"],A);const N=d(n,["lastFrame"]);e!==void 0&&N!=null&&f(e,["instances[0]","lastFrame"],wn(N));const R=d(n,["referenceImages"]);if(e!==void 0&&R!=null){let k=R;Array.isArray(k)&&(k=k.map(j=>vR(j))),f(e,["instances[0]","referenceImages"],k)}const P=d(n,["mask"]);e!==void 0&&P!=null&&f(e,["instances[0]","mask"],gR(P));const L=d(n,["compressionQuality"]);return e!==void 0&&L!=null&&f(e,["parameters","compressionQuality"],L),i}function y1(n){const e={},i=d(n,["name"]);i!=null&&f(e,["name"],i);const r=d(n,["metadata"]);r!=null&&f(e,["metadata"],r);const a=d(n,["done"]);a!=null&&f(e,["done"],a);const l=d(n,["error"]);l!=null&&f(e,["error"],l);const c=d(n,["response","generateVideoResponse"]);return c!=null&&f(e,["response"],b1(c)),e}function v1(n){const e={},i=d(n,["name"]);i!=null&&f(e,["name"],i);const r=d(n,["metadata"]);r!=null&&f(e,["metadata"],r);const a=d(n,["done"]);a!=null&&f(e,["done"],a);const l=d(n,["error"]);l!=null&&f(e,["error"],l);const c=d(n,["response"]);return c!=null&&f(e,["response"],S1(c)),e}function _1(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],He(n,r));const a=d(e,["prompt"]);a!=null&&f(i,["instances[0]","prompt"],a);const l=d(e,["image"]);l!=null&&f(i,["instances[0]","image"],Zl(l));const c=d(e,["video"]);c!=null&&f(i,["instances[0]","video"],p_(c));const h=d(e,["source"]);h!=null&&T1(h,i);const g=d(e,["config"]);return g!=null&&m1(g,i),i}function E1(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],He(n,r));const a=d(e,["prompt"]);a!=null&&f(i,["instances[0]","prompt"],a);const l=d(e,["image"]);l!=null&&f(i,["instances[0]","image"],wn(l));const c=d(e,["video"]);c!=null&&f(i,["instances[0]","video"],m_(c));const h=d(e,["source"]);h!=null&&x1(h,i);const g=d(e,["config"]);return g!=null&&g1(g,i),i}function b1(n){const e={},i=d(n,["generatedSamples"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>C1(c))),f(e,["generatedVideos"],l)}const r=d(n,["raiMediaFilteredCount"]);r!=null&&f(e,["raiMediaFilteredCount"],r);const a=d(n,["raiMediaFilteredReasons"]);return a!=null&&f(e,["raiMediaFilteredReasons"],a),e}function S1(n){const e={},i=d(n,["videos"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>N1(c))),f(e,["generatedVideos"],l)}const r=d(n,["raiMediaFilteredCount"]);r!=null&&f(e,["raiMediaFilteredCount"],r);const a=d(n,["raiMediaFilteredReasons"]);return a!=null&&f(e,["raiMediaFilteredReasons"],a),e}function T1(n,e){const i={},r=d(n,["prompt"]);e!==void 0&&r!=null&&f(e,["instances[0]","prompt"],r);const a=d(n,["image"]);e!==void 0&&a!=null&&f(e,["instances[0]","image"],Zl(a));const l=d(n,["video"]);return e!==void 0&&l!=null&&f(e,["instances[0]","video"],p_(l)),i}function x1(n,e){const i={},r=d(n,["prompt"]);e!==void 0&&r!=null&&f(e,["instances[0]","prompt"],r);const a=d(n,["image"]);e!==void 0&&a!=null&&f(e,["instances[0]","image"],wn(a));const l=d(n,["video"]);return e!==void 0&&l!=null&&f(e,["instances[0]","video"],m_(l)),i}function w1(n){const e={},i=d(n,["_self"]);i!=null&&f(e,["image"],O1(i));const r=d(n,["raiFilteredReason"]);r!=null&&f(e,["raiFilteredReason"],r);const a=d(n,["_self"]);return a!=null&&f(e,["safetyAttributes"],c_(a)),e}function Wl(n){const e={},i=d(n,["_self"]);i!=null&&f(e,["image"],u_(i));const r=d(n,["raiFilteredReason"]);r!=null&&f(e,["raiFilteredReason"],r);const a=d(n,["_self"]);a!=null&&f(e,["safetyAttributes"],d_(a));const l=d(n,["prompt"]);return l!=null&&f(e,["enhancedPrompt"],l),e}function A1(n){const e={},i=d(n,["_self"]);i!=null&&f(e,["mask"],u_(i));const r=d(n,["labels"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),f(e,["labels"],a)}return e}function C1(n){const e={},i=d(n,["video"]);return i!=null&&f(e,["video"],pR(i)),e}function N1(n){const e={},i=d(n,["_self"]);return i!=null&&f(e,["video"],mR(i)),e}function R1(n){const e={},i=d(n,["modelSelectionConfig"]);i!=null&&f(e,["modelConfig"],i);const r=d(n,["responseJsonSchema"]);r!=null&&f(e,["responseJsonSchema"],r);const a=d(n,["audioTimestamp"]);a!=null&&f(e,["audioTimestamp"],a);const l=d(n,["candidateCount"]);l!=null&&f(e,["candidateCount"],l);const c=d(n,["enableAffectiveDialog"]);c!=null&&f(e,["enableAffectiveDialog"],c);const h=d(n,["frequencyPenalty"]);h!=null&&f(e,["frequencyPenalty"],h);const g=d(n,["logprobs"]);g!=null&&f(e,["logprobs"],g);const m=d(n,["maxOutputTokens"]);m!=null&&f(e,["maxOutputTokens"],m);const _=d(n,["mediaResolution"]);_!=null&&f(e,["mediaResolution"],_);const E=d(n,["presencePenalty"]);E!=null&&f(e,["presencePenalty"],E);const b=d(n,["responseLogprobs"]);b!=null&&f(e,["responseLogprobs"],b);const T=d(n,["responseMimeType"]);T!=null&&f(e,["responseMimeType"],T);const A=d(n,["responseModalities"]);A!=null&&f(e,["responseModalities"],A);const N=d(n,["responseSchema"]);N!=null&&f(e,["responseSchema"],N);const R=d(n,["routingConfig"]);R!=null&&f(e,["routingConfig"],R);const P=d(n,["seed"]);P!=null&&f(e,["seed"],P);const L=d(n,["speechConfig"]);L!=null&&f(e,["speechConfig"],f_(L));const k=d(n,["stopSequences"]);k!=null&&f(e,["stopSequences"],k);const j=d(n,["temperature"]);j!=null&&f(e,["temperature"],j);const Y=d(n,["thinkingConfig"]);Y!=null&&f(e,["thinkingConfig"],Y);const Q=d(n,["topK"]);Q!=null&&f(e,["topK"],Q);const $=d(n,["topP"]);if($!=null&&f(e,["topP"],$),d(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function M1(n,e){const i={},r=d(e,["model"]);return r!=null&&f(i,["_url","name"],He(n,r)),i}function I1(n,e){const i={},r=d(e,["model"]);return r!=null&&f(i,["_url","name"],He(n,r)),i}function D1(n){const e={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(n,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function k1(n){const e={};if(d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(n,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function U1(n){const e={},i=d(n,["aspectRatio"]);i!=null&&f(e,["aspectRatio"],i);const r=d(n,["imageSize"]);if(r!=null&&f(e,["imageSize"],r),d(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function P1(n){const e={},i=d(n,["aspectRatio"]);i!=null&&f(e,["aspectRatio"],i);const r=d(n,["imageSize"]);r!=null&&f(e,["imageSize"],r);const a=d(n,["outputMimeType"]);a!=null&&f(e,["imageOutputOptions","mimeType"],a);const l=d(n,["outputCompressionQuality"]);return l!=null&&f(e,["imageOutputOptions","compressionQuality"],l),e}function O1(n){const e={},i=d(n,["bytesBase64Encoded"]);i!=null&&f(e,["imageBytes"],Fi(i));const r=d(n,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function u_(n){const e={},i=d(n,["gcsUri"]);i!=null&&f(e,["gcsUri"],i);const r=d(n,["bytesBase64Encoded"]);r!=null&&f(e,["imageBytes"],Fi(r));const a=d(n,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function Zl(n){const e={};if(d(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=d(n,["imageBytes"]);i!=null&&f(e,["bytesBase64Encoded"],Fi(i));const r=d(n,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function wn(n){const e={},i=d(n,["gcsUri"]);i!=null&&f(e,["gcsUri"],i);const r=d(n,["imageBytes"]);r!=null&&f(e,["bytesBase64Encoded"],Fi(r));const a=d(n,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function L1(n,e,i){const r={},a=d(e,["pageSize"]);i!==void 0&&a!=null&&f(i,["_query","pageSize"],a);const l=d(e,["pageToken"]);i!==void 0&&l!=null&&f(i,["_query","pageToken"],l);const c=d(e,["filter"]);i!==void 0&&c!=null&&f(i,["_query","filter"],c);const h=d(e,["queryBase"]);return i!==void 0&&h!=null&&f(i,["_url","models_url"],t_(n,h)),r}function q1(n,e,i){const r={},a=d(e,["pageSize"]);i!==void 0&&a!=null&&f(i,["_query","pageSize"],a);const l=d(e,["pageToken"]);i!==void 0&&l!=null&&f(i,["_query","pageToken"],l);const c=d(e,["filter"]);i!==void 0&&c!=null&&f(i,["_query","filter"],c);const h=d(e,["queryBase"]);return i!==void 0&&h!=null&&f(i,["_url","models_url"],t_(n,h)),r}function H1(n,e){const i={},r=d(e,["config"]);return r!=null&&L1(n,r,i),i}function G1(n,e){const i={},r=d(e,["config"]);return r!=null&&q1(n,r,i),i}function B1(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);const a=d(n,["_self"]);if(a!=null){let l=n_(a);Array.isArray(l)&&(l=l.map(c=>Wd(c))),f(e,["models"],l)}return e}function z1(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);const a=d(n,["_self"]);if(a!=null){let l=n_(a);Array.isArray(l)&&(l=l.map(c=>Zd(c))),f(e,["models"],l)}return e}function V1(n){const e={},i=d(n,["maskMode"]);i!=null&&f(e,["maskMode"],i);const r=d(n,["segmentationClasses"]);r!=null&&f(e,["maskClasses"],r);const a=d(n,["maskDilation"]);return a!=null&&f(e,["dilation"],a),e}function Wd(n){const e={},i=d(n,["name"]);i!=null&&f(e,["name"],i);const r=d(n,["displayName"]);r!=null&&f(e,["displayName"],r);const a=d(n,["description"]);a!=null&&f(e,["description"],a);const l=d(n,["version"]);l!=null&&f(e,["version"],l);const c=d(n,["_self"]);c!=null&&f(e,["tunedModelInfo"],rR(c));const h=d(n,["inputTokenLimit"]);h!=null&&f(e,["inputTokenLimit"],h);const g=d(n,["outputTokenLimit"]);g!=null&&f(e,["outputTokenLimit"],g);const m=d(n,["supportedGenerationMethods"]);m!=null&&f(e,["supportedActions"],m);const _=d(n,["temperature"]);_!=null&&f(e,["temperature"],_);const E=d(n,["maxTemperature"]);E!=null&&f(e,["maxTemperature"],E);const b=d(n,["topP"]);b!=null&&f(e,["topP"],b);const T=d(n,["topK"]);T!=null&&f(e,["topK"],T);const A=d(n,["thinking"]);return A!=null&&f(e,["thinking"],A),e}function Zd(n){const e={},i=d(n,["name"]);i!=null&&f(e,["name"],i);const r=d(n,["displayName"]);r!=null&&f(e,["displayName"],r);const a=d(n,["description"]);a!=null&&f(e,["description"],a);const l=d(n,["versionId"]);l!=null&&f(e,["version"],l);const c=d(n,["deployedModels"]);if(c!=null){let E=c;Array.isArray(E)&&(E=E.map(b=>n1(b))),f(e,["endpoints"],E)}const h=d(n,["labels"]);h!=null&&f(e,["labels"],h);const g=d(n,["_self"]);g!=null&&f(e,["tunedModelInfo"],oR(g));const m=d(n,["defaultCheckpointId"]);m!=null&&f(e,["defaultCheckpointId"],m);const _=d(n,["checkpoints"]);if(_!=null){let E=_;Array.isArray(E)&&(E=E.map(b=>b)),f(e,["checkpoints"],E)}return e}function j1(n){const e={},i=d(n,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const r=d(n,["codeExecutionResult"]);r!=null&&f(e,["codeExecutionResult"],r);const a=d(n,["executableCode"]);a!=null&&f(e,["executableCode"],a);const l=d(n,["fileData"]);l!=null&&f(e,["fileData"],i1(l));const c=d(n,["functionCall"]);c!=null&&f(e,["functionCall"],s1(c));const h=d(n,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const g=d(n,["inlineData"]);g!=null&&f(e,["inlineData"],RN(g));const m=d(n,["text"]);m!=null&&f(e,["text"],m);const _=d(n,["thought"]);_!=null&&f(e,["thought"],_);const E=d(n,["thoughtSignature"]);E!=null&&f(e,["thoughtSignature"],E);const b=d(n,["videoMetadata"]);return b!=null&&f(e,["videoMetadata"],b),e}function F1(n){const e={},i=d(n,["productImage"]);return i!=null&&f(e,["image"],wn(i)),e}function $1(n,e){const i={},r=d(n,["numberOfImages"]);e!==void 0&&r!=null&&f(e,["parameters","sampleCount"],r);const a=d(n,["baseSteps"]);e!==void 0&&a!=null&&f(e,["parameters","baseSteps"],a);const l=d(n,["outputGcsUri"]);e!==void 0&&l!=null&&f(e,["parameters","storageUri"],l);const c=d(n,["seed"]);e!==void 0&&c!=null&&f(e,["parameters","seed"],c);const h=d(n,["safetyFilterLevel"]);e!==void 0&&h!=null&&f(e,["parameters","safetySetting"],h);const g=d(n,["personGeneration"]);e!==void 0&&g!=null&&f(e,["parameters","personGeneration"],g);const m=d(n,["addWatermark"]);e!==void 0&&m!=null&&f(e,["parameters","addWatermark"],m);const _=d(n,["outputMimeType"]);e!==void 0&&_!=null&&f(e,["parameters","outputOptions","mimeType"],_);const E=d(n,["outputCompressionQuality"]);e!==void 0&&E!=null&&f(e,["parameters","outputOptions","compressionQuality"],E);const b=d(n,["enhancePrompt"]);e!==void 0&&b!=null&&f(e,["parameters","enhancePrompt"],b);const T=d(n,["labels"]);return e!==void 0&&T!=null&&f(e,["labels"],T),i}function J1(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],He(n,r));const a=d(e,["source"]);a!=null&&K1(a,i);const l=d(e,["config"]);return l!=null&&$1(l,i),i}function Y1(n){const e={},i=d(n,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>Wl(a))),f(e,["generatedImages"],r)}return e}function K1(n,e){const i={},r=d(n,["prompt"]);e!==void 0&&r!=null&&f(e,["instances[0]","prompt"],r);const a=d(n,["personImage"]);e!==void 0&&a!=null&&f(e,["instances[0]","personImage","image"],wn(a));const l=d(n,["productImages"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(h=>F1(h))),f(e,["instances[0]","productImages"],c)}return i}function Q1(n){const e={},i=d(n,["referenceImage"]);i!=null&&f(e,["referenceImage"],wn(i));const r=d(n,["referenceId"]);r!=null&&f(e,["referenceId"],r);const a=d(n,["referenceType"]);a!=null&&f(e,["referenceType"],a);const l=d(n,["maskImageConfig"]);l!=null&&f(e,["maskImageConfig"],V1(l));const c=d(n,["controlImageConfig"]);c!=null&&f(e,["controlImageConfig"],ON(c));const h=d(n,["styleImageConfig"]);h!=null&&f(e,["styleImageConfig"],h);const g=d(n,["subjectImageConfig"]);return g!=null&&f(e,["subjectImageConfig"],g),e}function c_(n){const e={},i=d(n,["safetyAttributes","categories"]);i!=null&&f(e,["categories"],i);const r=d(n,["safetyAttributes","scores"]);r!=null&&f(e,["scores"],r);const a=d(n,["contentType"]);return a!=null&&f(e,["contentType"],a),e}function d_(n){const e={},i=d(n,["safetyAttributes","categories"]);i!=null&&f(e,["categories"],i);const r=d(n,["safetyAttributes","scores"]);r!=null&&f(e,["scores"],r);const a=d(n,["contentType"]);return a!=null&&f(e,["contentType"],a),e}function X1(n){const e={},i=d(n,["category"]);if(i!=null&&f(e,["category"],i),d(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=d(n,["threshold"]);return r!=null&&f(e,["threshold"],r),e}function W1(n){const e={},i=d(n,["image"]);return i!=null&&f(e,["image"],wn(i)),e}function Z1(n,e){const i={},r=d(n,["mode"]);e!==void 0&&r!=null&&f(e,["parameters","mode"],r);const a=d(n,["maxPredictions"]);e!==void 0&&a!=null&&f(e,["parameters","maxPredictions"],a);const l=d(n,["confidenceThreshold"]);e!==void 0&&l!=null&&f(e,["parameters","confidenceThreshold"],l);const c=d(n,["maskDilation"]);e!==void 0&&c!=null&&f(e,["parameters","maskDilation"],c);const h=d(n,["binaryColorThreshold"]);e!==void 0&&h!=null&&f(e,["parameters","binaryColorThreshold"],h);const g=d(n,["labels"]);return e!==void 0&&g!=null&&f(e,["labels"],g),i}function eR(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],He(n,r));const a=d(e,["source"]);a!=null&&nR(a,i);const l=d(e,["config"]);return l!=null&&Z1(l,i),i}function tR(n){const e={},i=d(n,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>A1(a))),f(e,["generatedMasks"],r)}return e}function nR(n,e){const i={},r=d(n,["prompt"]);e!==void 0&&r!=null&&f(e,["instances[0]","prompt"],r);const a=d(n,["image"]);e!==void 0&&a!=null&&f(e,["instances[0]","image"],wn(a));const l=d(n,["scribbleImage"]);return e!==void 0&&l!=null&&f(e,["instances[0]","scribble"],W1(l)),i}function f_(n){const e={},i=d(n,["languageCode"]);i!=null&&f(e,["languageCode"],i);const r=d(n,["voiceConfig"]);if(r!=null&&f(e,["voiceConfig"],r),d(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function iR(n){const e={},i=d(n,["functionCallingConfig"]);i!=null&&f(e,["functionCallingConfig"],r1(i));const r=d(n,["retrievalConfig"]);return r!=null&&f(e,["retrievalConfig"],r),e}function sR(n){const e={},i=d(n,["functionDeclarations"]);if(i!=null){let _=i;Array.isArray(_)&&(_=_.map(E=>E)),f(e,["functionDeclarations"],_)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(n,["googleSearchRetrieval"]);r!=null&&f(e,["googleSearchRetrieval"],r);const a=d(n,["computerUse"]);a!=null&&f(e,["computerUse"],a);const l=d(n,["fileSearch"]);l!=null&&f(e,["fileSearch"],l);const c=d(n,["codeExecution"]);if(c!=null&&f(e,["codeExecution"],c),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=d(n,["googleMaps"]);h!=null&&f(e,["googleMaps"],D1(h));const g=d(n,["googleSearch"]);g!=null&&f(e,["googleSearch"],k1(g));const m=d(n,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}function h_(n){const e={},i=d(n,["functionDeclarations"]);if(i!=null){let E=i;Array.isArray(E)&&(E=E.map(b=>o1(b))),f(e,["functionDeclarations"],E)}const r=d(n,["retrieval"]);r!=null&&f(e,["retrieval"],r);const a=d(n,["googleSearchRetrieval"]);a!=null&&f(e,["googleSearchRetrieval"],a);const l=d(n,["computerUse"]);if(l!=null&&f(e,["computerUse"],l),d(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=d(n,["codeExecution"]);c!=null&&f(e,["codeExecution"],c);const h=d(n,["enterpriseWebSearch"]);h!=null&&f(e,["enterpriseWebSearch"],h);const g=d(n,["googleMaps"]);g!=null&&f(e,["googleMaps"],g);const m=d(n,["googleSearch"]);m!=null&&f(e,["googleSearch"],m);const _=d(n,["urlContext"]);return _!=null&&f(e,["urlContext"],_),e}function rR(n){const e={},i=d(n,["baseModel"]);i!=null&&f(e,["baseModel"],i);const r=d(n,["createTime"]);r!=null&&f(e,["createTime"],r);const a=d(n,["updateTime"]);return a!=null&&f(e,["updateTime"],a),e}function oR(n){const e={},i=d(n,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&f(e,["baseModel"],i);const r=d(n,["createTime"]);r!=null&&f(e,["createTime"],r);const a=d(n,["updateTime"]);return a!=null&&f(e,["updateTime"],a),e}function aR(n,e){const i={},r=d(n,["displayName"]);e!==void 0&&r!=null&&f(e,["displayName"],r);const a=d(n,["description"]);e!==void 0&&a!=null&&f(e,["description"],a);const l=d(n,["defaultCheckpointId"]);return e!==void 0&&l!=null&&f(e,["defaultCheckpointId"],l),i}function lR(n,e){const i={},r=d(n,["displayName"]);e!==void 0&&r!=null&&f(e,["displayName"],r);const a=d(n,["description"]);e!==void 0&&a!=null&&f(e,["description"],a);const l=d(n,["defaultCheckpointId"]);return e!==void 0&&l!=null&&f(e,["defaultCheckpointId"],l),i}function uR(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","name"],He(n,r));const a=d(e,["config"]);return a!=null&&aR(a,i),i}function cR(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],He(n,r));const a=d(e,["config"]);return a!=null&&lR(a,i),i}function dR(n,e){const i={},r=d(n,["outputGcsUri"]);e!==void 0&&r!=null&&f(e,["parameters","storageUri"],r);const a=d(n,["safetyFilterLevel"]);e!==void 0&&a!=null&&f(e,["parameters","safetySetting"],a);const l=d(n,["personGeneration"]);e!==void 0&&l!=null&&f(e,["parameters","personGeneration"],l);const c=d(n,["includeRaiReason"]);e!==void 0&&c!=null&&f(e,["parameters","includeRaiReason"],c);const h=d(n,["outputMimeType"]);e!==void 0&&h!=null&&f(e,["parameters","outputOptions","mimeType"],h);const g=d(n,["outputCompressionQuality"]);e!==void 0&&g!=null&&f(e,["parameters","outputOptions","compressionQuality"],g);const m=d(n,["enhanceInputImage"]);e!==void 0&&m!=null&&f(e,["parameters","upscaleConfig","enhanceInputImage"],m);const _=d(n,["imagePreservationFactor"]);e!==void 0&&_!=null&&f(e,["parameters","upscaleConfig","imagePreservationFactor"],_);const E=d(n,["labels"]);e!==void 0&&E!=null&&f(e,["labels"],E);const b=d(n,["numberOfImages"]);e!==void 0&&b!=null&&f(e,["parameters","sampleCount"],b);const T=d(n,["mode"]);return e!==void 0&&T!=null&&f(e,["parameters","mode"],T),i}function fR(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],He(n,r));const a=d(e,["image"]);a!=null&&f(i,["instances[0]","image"],wn(a));const l=d(e,["upscaleFactor"]);l!=null&&f(i,["parameters","upscaleConfig","upscaleFactor"],l);const c=d(e,["config"]);return c!=null&&dR(c,i),i}function hR(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>Wl(l))),f(e,["generatedImages"],a)}return e}function pR(n){const e={},i=d(n,["uri"]);i!=null&&f(e,["uri"],i);const r=d(n,["encodedVideo"]);r!=null&&f(e,["videoBytes"],Fi(r));const a=d(n,["encoding"]);return a!=null&&f(e,["mimeType"],a),e}function mR(n){const e={},i=d(n,["gcsUri"]);i!=null&&f(e,["uri"],i);const r=d(n,["bytesBase64Encoded"]);r!=null&&f(e,["videoBytes"],Fi(r));const a=d(n,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function gR(n){const e={},i=d(n,["image"]);i!=null&&f(e,["_self"],wn(i));const r=d(n,["maskMode"]);return r!=null&&f(e,["maskMode"],r),e}function yR(n){const e={},i=d(n,["image"]);i!=null&&f(e,["image"],Zl(i));const r=d(n,["referenceType"]);return r!=null&&f(e,["referenceType"],r),e}function vR(n){const e={},i=d(n,["image"]);i!=null&&f(e,["image"],wn(i));const r=d(n,["referenceType"]);return r!=null&&f(e,["referenceType"],r),e}function p_(n){const e={},i=d(n,["uri"]);i!=null&&f(e,["uri"],i);const r=d(n,["videoBytes"]);r!=null&&f(e,["encodedVideo"],Fi(r));const a=d(n,["mimeType"]);return a!=null&&f(e,["encoding"],a),e}function m_(n){const e={},i=d(n,["uri"]);i!=null&&f(e,["gcsUri"],i);const r=d(n,["videoBytes"]);r!=null&&f(e,["bytesBase64Encoded"],Fi(r));const a=d(n,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _R(n,e){const i={},r=d(n,["displayName"]);return e!==void 0&&r!=null&&f(e,["displayName"],r),i}function ER(n){const e={},i=d(n,["config"]);return i!=null&&_R(i,e),e}function bR(n,e){const i={},r=d(n,["force"]);return e!==void 0&&r!=null&&f(e,["_query","force"],r),i}function SR(n){const e={},i=d(n,["name"]);i!=null&&f(e,["_url","name"],i);const r=d(n,["config"]);return r!=null&&bR(r,e),e}function TR(n){const e={},i=d(n,["name"]);return i!=null&&f(e,["_url","name"],i),e}function xR(n,e){const i={},r=d(n,["customMetadata"]);if(e!==void 0&&r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["customMetadata"],l)}const a=d(n,["chunkingConfig"]);return e!==void 0&&a!=null&&f(e,["chunkingConfig"],a),i}function wR(n){const e={},i=d(n,["name"]);i!=null&&f(e,["name"],i);const r=d(n,["metadata"]);r!=null&&f(e,["metadata"],r);const a=d(n,["done"]);a!=null&&f(e,["done"],a);const l=d(n,["error"]);l!=null&&f(e,["error"],l);const c=d(n,["response"]);return c!=null&&f(e,["response"],CR(c)),e}function AR(n){const e={},i=d(n,["fileSearchStoreName"]);i!=null&&f(e,["_url","file_search_store_name"],i);const r=d(n,["fileName"]);r!=null&&f(e,["fileName"],r);const a=d(n,["config"]);return a!=null&&xR(a,e),e}function CR(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["parent"]);r!=null&&f(e,["parent"],r);const a=d(n,["documentName"]);return a!=null&&f(e,["documentName"],a),e}function NR(n,e){const i={},r=d(n,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);const a=d(n,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),i}function RR(n){const e={},i=d(n,["config"]);return i!=null&&NR(i,e),e}function MR(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);const a=d(n,["fileSearchStores"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["fileSearchStores"],l)}return e}function g_(n,e){const i={},r=d(n,["mimeType"]);e!==void 0&&r!=null&&f(e,["mimeType"],r);const a=d(n,["displayName"]);e!==void 0&&a!=null&&f(e,["displayName"],a);const l=d(n,["customMetadata"]);if(e!==void 0&&l!=null){let h=l;Array.isArray(h)&&(h=h.map(g=>g)),f(e,["customMetadata"],h)}const c=d(n,["chunkingConfig"]);return e!==void 0&&c!=null&&f(e,["chunkingConfig"],c),i}function IR(n){const e={},i=d(n,["fileSearchStoreName"]);i!=null&&f(e,["_url","file_search_store_name"],i);const r=d(n,["config"]);return r!=null&&g_(r,e),e}function DR(n){const e={},i=d(n,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kR="Content-Type",UR="X-Server-Timeout",PR="User-Agent",ef="x-goog-api-client",OR="1.31.0",LR=`google-genai-sdk/${OR}`,qR="v1beta1",HR="v1beta",p0=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class GR{constructor(e){var i,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:qR,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:HR,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),i=new URL(e);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,i,r){const a=[this.getRequestUrlInternal(i)];return r&&a.push(this.getBaseResourcePath()),e!==""&&a.push(e),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,i,r);if(e.queryParams)for(const[c,h]of Object.entries(e.queryParams))a.searchParams.append(c,String(h));let l={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=e.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,i,a.toString(),e.abortSignal),this.unaryApiCall(a,l,e.httpMethod)}patchHttpOptions(e,i){const r=JSON.parse(JSON.stringify(e));for(const[a,l]of Object.entries(i))typeof l=="object"?r[a]=Object.assign(Object.assign({},r[a]),l):l!==void 0&&(r[a]=l);return r}async requestStream(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,i,r);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let l={};return l.body=e.body,l=await this.includeExtraHttpOptionsToRequestInit(l,i,a.toString(),e.abortSignal),this.streamApiCall(a,l,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,i,r,a){if(i&&i.timeout||a){const l=new AbortController,c=l.signal;if(i.timeout&&(i==null?void 0:i.timeout)>0){const h=setTimeout(()=>l.abort(),i.timeout);h&&typeof h.unref=="function"&&h.unref()}a&&a.addEventListener("abort",()=>{l.abort()}),e.signal=c}return i&&i.extraBody!==null&&BR(e,i.extraBody),e.headers=await this.getHeadersInternal(i,r),e}async unaryApiCall(e,i,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:r})).then(async a=>(await m0(a),new Kd(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(e,i,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:r})).then(async a=>(await m0(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(e){var i;return Er(this,arguments,function*(){const a=(i=e==null?void 0:e.body)===null||i===void 0?void 0:i.getReader(),l=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let c="";for(;;){const{done:h,value:g}=yield nt(a.read());if(h){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=l.decode(g,{stream:!0});try{const E=JSON.parse(m);if("error"in E){const b=JSON.parse(JSON.stringify(E.error)),T=b.status,A=b.code,N=`got status: ${T}. ${JSON.stringify(E)}`;if(A>=400&&A<600)throw new Ql({message:N,status:A})}}catch(E){if(E.name==="ApiError")throw E}c+=m;let _=c.match(p0);for(;_;){const E=_[1];try{const b=new Response(E,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield nt(new Kd(b)),c=c.slice(_[0].length),_=c.match(p0)}catch(b){throw new Error(`exception parsing stream chunk ${E}. ${b}`)}}}}finally{a.releaseLock()}})}async apiCall(e,i){return fetch(e,i).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},i=LR+" "+this.clientOptions.userAgentExtra;return e[PR]=i,e[ef]=i,e[kR]="application/json",e}async getHeadersInternal(e,i){const r=new Headers;if(e&&e.headers){for(const[a,l]of Object.entries(e.headers))r.append(a,l);e.timeout&&e.timeout>0&&r.append(UR,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,i),r}getFileName(e){var i;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(i=r.split(/[/\\]/).pop())!==null&&i!==void 0?i:""),r}async uploadFile(e,i){var r;const a={};i!=null&&(a.mimeType=i.mimeType,a.name=i.name,a.displayName=i.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const l=this.clientOptions.uploader,c=await l.stat(e);a.sizeBytes=String(c.size);const h=(r=i==null?void 0:i.mimeType)!==null&&r!==void 0?r:c.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=h;const g={file:a},m=this.getFileName(e),_=se("upload/v1beta/files",g._url),E=await this.fetchUploadUrl(_,a.sizeBytes,a.mimeType,m,g,i==null?void 0:i.httpOptions);return l.upload(e,E,this)}async uploadFileToFileSearchStore(e,i,r){var a;const l=this.clientOptions.uploader,c=await l.stat(i),h=String(c.size),g=(a=r==null?void 0:r.mimeType)!==null&&a!==void 0?a:c.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${e}:uploadToFileSearchStore`,_=this.getFileName(i),E={};r!=null&&g_(r,E);const b=await this.fetchUploadUrl(m,h,g,_,E,r==null?void 0:r.httpOptions);return l.uploadToFileSearchStore(i,b,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,i,r,a,l,c){var h;let g={};c?g=c:g={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i}`,"X-Goog-Upload-Header-Content-Type":`${r}`},a?{"X-Goog-Upload-File-Name":a}:{})};const m=await this.request({path:e,body:JSON.stringify(l),httpMethod:"POST",httpOptions:g});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const _=(h=m==null?void 0:m.headers)===null||h===void 0?void 0:h["x-goog-upload-url"];if(_===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return _}}async function m0(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const i=n.status;let r;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await n.json():r={error:{message:await n.text(),code:n.status,status:n.statusText}};const a=JSON.stringify(r);throw i>=400&&i<600?new Ql({message:a,status:i}):new Error(a)}}function BR(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof n.body=="string"&&n.body.length>0)try{const l=JSON.parse(n.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))i=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(l,c){const h=Object.assign({},l);for(const g in c)if(Object.prototype.hasOwnProperty.call(c,g)){const m=c[g],_=h[g];m&&typeof m=="object"&&!Array.isArray(m)&&_&&typeof _=="object"&&!Array.isArray(_)?h[g]=r(_,m):(_&&m&&typeof _!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${g}". Original type: ${typeof _}, New type: ${typeof m}. Overwriting.`),h[g]=m)}return h}const a=r(i,e);n.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zR="mcp_used/unknown";let VR=!1;function y_(n){for(const e of n)if(jR(e)||typeof e=="object"&&"inputSchema"in e)return!0;return VR}function v_(n){var e;const i=(e=n[ef])!==null&&e!==void 0?e:"";n[ef]=(i+` ${zR}`).trimStart()}function jR(n){return n!==null&&typeof n=="object"&&n instanceof xf}function FR(n,e=100){return Er(this,arguments,function*(){let r,a=0;for(;a<e;){const l=yield nt(n.listTools({cursor:r}));for(const c of l.tools)yield yield nt(c),a++;if(!l.nextCursor)break;r=l.nextCursor}})}class xf{constructor(e=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=i}static create(e,i){return new xf(e,i)}async initialize(){var e,i,r,a;if(this.mcpTools.length>0)return;const l={},c=[];for(const _ of this.mcpClients)try{for(var h=!0,g=(i=void 0,qo(FR(_))),m;m=await g.next(),e=m.done,!e;h=!0){a=m.value,h=!1;const E=a;c.push(E);const b=E.name;if(l[b])throw new Error(`Duplicate function name ${b} found in MCP tools. Please ensure function names are unique.`);l[b]=_}}catch(E){i={error:E}}finally{try{!h&&!e&&(r=g.return)&&await r.call(g)}finally{if(i)throw i.error}}this.mcpTools=c,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),TA(this.mcpTools,this.config)}async callTool(e){await this.initialize();const i=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[r.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const c=await a.callTool({name:r.name,arguments:r.args},void 0,l);i.push({functionResponse:{name:r.name,response:c.isError?{error:c}:c}})}return i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function $R(n,e,i){const r=new mA;let a;i.data instanceof Blob?a=JSON.parse(await i.data.text()):a=JSON.parse(i.data),Object.assign(r,a),e(r)}class JR{constructor(e,i,r){this.apiClient=e,this.auth=i,this.webSocketFactory=r}async connect(e){var i,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),c=QR(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),g=`${a}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${h}`;let m=()=>{};const _=new Promise(k=>{m=k}),E=e.callbacks,b=function(){m({})},T=this.apiClient,A={onopen:b,onmessage:k=>{$R(T,E.onmessage,k)},onerror:(i=E==null?void 0:E.onerror)!==null&&i!==void 0?i:function(k){},onclose:(r=E==null?void 0:E.onclose)!==null&&r!==void 0?r:function(k){}},N=this.webSocketFactory.create(g,KR(c),A);N.connect(),await _;const L={setup:{model:He(this.apiClient,e.model)}};return N.send(JSON.stringify(L)),new YR(N,this.apiClient)}}class YR{constructor(e,i){this.conn=e,this.apiClient=i}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=EN(e);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const i=_N(e);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const i={playbackControl:e};this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(gr.PLAY)}pause(){this.sendPlaybackControl(gr.PAUSE)}stop(){this.sendPlaybackControl(gr.STOP)}resetContext(){this.sendPlaybackControl(gr.RESET_CONTEXT)}close(){this.conn.close()}}function KR(n){const e={};return n.forEach((i,r)=>{e[r]=i}),e}function QR(n){const e=new Headers;for(const[i,r]of Object.entries(n))e.append(i,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const XR="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function WR(n,e,i){const r=new pA;let a;i.data instanceof Blob?a=await i.data.text():i.data instanceof ArrayBuffer?a=new TextDecoder().decode(i.data):a=i.data;const l=JSON.parse(a);if(n.isVertexAI()){const c=TN(l);Object.assign(r,c)}else Object.assign(r,l);e(r)}class ZR{constructor(e,i,r){this.apiClient=e,this.auth=i,this.webSocketFactory=r,this.music=new JR(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var i,r,a,l,c,h;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const g=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let _;const E=this.apiClient.getHeaders();e.config&&e.config.tools&&y_(e.config.tools)&&v_(E);const b=iM(E);if(this.apiClient.isVertexAI())_=`${g}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(b,_);else{const ee=this.apiClient.getApiKey();let fe="BidiGenerateContent",Z="key";ee!=null&&ee.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),fe="BidiGenerateContentConstrained",Z="access_token"),_=`${g}/ws/google.ai.generativelanguage.${m}.GenerativeService.${fe}?${Z}=${ee}`}let T=()=>{};const A=new Promise(ee=>{T=ee}),N=e.callbacks,R=function(){var ee;(ee=N==null?void 0:N.onopen)===null||ee===void 0||ee.call(N),T({})},P=this.apiClient,L={onopen:R,onmessage:ee=>{WR(P,N.onmessage,ee)},onerror:(i=N==null?void 0:N.onerror)!==null&&i!==void 0?i:function(ee){},onclose:(r=N==null?void 0:N.onclose)!==null&&r!==void 0?r:function(ee){}},k=this.webSocketFactory.create(_,nM(b),L);k.connect(),await A;let j=He(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&j.startsWith("publishers/")){const ee=this.apiClient.getProject(),fe=this.apiClient.getLocation();j=`projects/${ee}/locations/${fe}/`+j}let Y={};this.apiClient.isVertexAI()&&((a=e.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Gl.AUDIO]}:e.config.responseModalities=[Gl.AUDIO]),!((l=e.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const Q=(h=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[],$=[];for(const ee of Q)if(this.isCallableTool(ee)){const fe=ee;$.push(await fe.tool())}else $.push(ee);$.length>0&&(e.config.tools=$);const ae={model:j,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?Y=vN(this.apiClient,ae):Y=yN(this.apiClient,ae),delete Y.config,k.send(JSON.stringify(Y)),new tM(k,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const eM={turnComplete:!0};class tM{constructor(e,i){this.conn=e,this.apiClient=i}tLiveClientContent(e,i){if(i.turns!==null&&i.turns!==void 0){let r=[];try{r=pn(i.turns),e.isVertexAI()||(r=r.map(a=>Xl(a)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:r,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(e,i){let r=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?r=i.functionResponses:r=[i.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const l of r){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!e.isVertexAI()&&!("id"in l))throw new Error(XR)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},eM),e);const i=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(i))}sendRealtimeInput(e){let i={};this.apiClient.isVertexAI()?i={realtimeInput:SN(e)}:i={realtimeInput:bN(e)},this.conn.send(JSON.stringify(i))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function nM(n){const e={};return n.forEach((i,r)=>{e[r]=i}),e}function iM(n){const e=new Headers;for(const[i,r]of Object.entries(n))e.append(i,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const g0=10;function y0(n){var e,i,r;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let a=!1;for(const c of(i=n==null?void 0:n.tools)!==null&&i!==void 0?i:[])if(br(c)){a=!0;break}if(!a)return!0;const l=(r=n==null?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function br(n){return"callTool"in n&&typeof n.callTool=="function"}function sM(n){var e,i,r;return(r=(i=(e=n.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(a=>br(a)))!==null&&r!==void 0?r:!1}function v0(n){var e;const i=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((r,a)=>{if(br(r))return;const l=r;l.functionDeclarations&&l.functionDeclarations.length>0&&i.push(a)}),i}function _0(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rM extends ui{constructor(e){super(),this.apiClient=e,this.generateContent=async i=>{var r,a,l,c,h;const g=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!sM(i)||y0(i.config))return await this.generateContentInternal(g);const m=v0(i);if(m.length>0){const N=m.map(R=>`tools[${R}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${N}.`)}let _,E;const b=pn(g.contents),T=(l=(a=(r=g.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&l!==void 0?l:g0;let A=0;for(;A<T&&(_=await this.generateContentInternal(g),!(!_.functionCalls||_.functionCalls.length===0));){const N=_.candidates[0].content,R=[];for(const P of(h=(c=i.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[])if(br(P)){const k=await P.callTool(_.functionCalls);R.push(...k)}A++,E={role:"user",parts:R},g.contents=pn(g.contents),g.contents.push(N),g.contents.push(E),_0(g.config)&&(b.push(N),b.push(E))}return _0(g.config)&&(_.automaticFunctionCallingHistory=b),_},this.generateContentStream=async i=>{var r,a,l,c,h;if(this.maybeMoveToResponseJsonSchem(i),y0(i.config)){const E=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(E)}const g=v0(i);if(g.length>0){const E=g.map(b=>`tools[${b}]`).join(", ");throw new Error(`Incompatible tools found at ${E}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(l=(a=(r=i==null?void 0:i.config)===null||r===void 0?void 0:r.toolConfig)===null||a===void 0?void 0:a.functionCallingConfig)===null||l===void 0?void 0:l.streamFunctionCallArguments,_=(h=(c=i==null?void 0:i.config)===null||c===void 0?void 0:c.automaticFunctionCalling)===null||h===void 0?void 0:h.disable;if(m&&!_)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(r=>{var a;let l;const c=[];if(r!=null&&r.generatedImages)for(const g of r.generatedImages)g&&(g!=null&&g.safetyAttributes)&&((a=g==null?void 0:g.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?l=g==null?void 0:g.safetyAttributes:c.push(g);let h;return l?h={generatedImages:c,positivePromptSafetyAttributes:l,sdkHttpResponse:r.sdkHttpResponse}:h={generatedImages:c,sdkHttpResponse:r.sdkHttpResponse},h}),this.list=async i=>{var r;const c={config:Object.assign(Object.assign({},{queryBase:!0}),i==null?void 0:i.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((r=c.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new xs(ai.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(c),c)},this.editImage=async i=>{const r={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(r.referenceImages=i.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async i=>{let r={numberOfImages:1,mode:"upscale"};i.config&&(r=Object.assign(Object.assign({},r),i.config));const a={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:r};return await this.upscaleImageInternal(a)},this.generateVideos=async i=>{var r,a,l,c,h,g;if((i.prompt||i.image||i.video)&&i.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=i.video)===null||r===void 0)&&r.uri&&(!((a=i.video)===null||a===void 0)&&a.videoBytes)?i.video={uri:i.video.uri,mimeType:i.video.mimeType}:!((c=(l=i.source)===null||l===void 0?void 0:l.video)===null||c===void 0)&&c.uri&&(!((g=(h=i.source)===null||h===void 0?void 0:h.video)===null||g===void 0)&&g.videoBytes)&&(i.source.video={uri:i.source.video.uri,mimeType:i.source.video.mimeType})),await this.generateVideosInternal(i)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var i,r,a;const l=(i=e.config)===null||i===void 0?void 0:i.tools;if(!l)return e;const c=await Promise.all(l.map(async g=>br(g)?await g.tool():g)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(h.config.tools=c,e.config&&e.config.tools&&y_(e.config.tools)){const g=(a=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&a!==void 0?a:{};let m=Object.assign({},g);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),v_(m),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:m})}return h}async initAfcToolsMap(e){var i,r,a;const l=new Map;for(const c of(r=(i=e.config)===null||i===void 0?void 0:i.tools)!==null&&r!==void 0?r:[])if(br(c)){const h=c,g=await h.tool();for(const m of(a=g.functionDeclarations)!==null&&a!==void 0?a:[]){if(!m.name)throw new Error("Function declaration name is required.");if(l.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);l.set(m.name,h)}}return l}async processAfcStream(e){var i,r,a;const l=(a=(r=(i=e.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&a!==void 0?a:g0;let c=!1,h=0;const g=await this.initAfcToolsMap(e);return(function(m,_,E){var b,T;return Er(this,arguments,function*(){for(var A,N,R,P;h<l;){c&&(h++,c=!1);const Y=yield nt(m.processParamsMaybeAddMcpUsage(E)),Q=yield nt(m.generateContentStreamInternal(Y)),$=[],ae=[];try{for(var L=!0,k=(N=void 0,qo(Q)),j;j=yield nt(k.next()),A=j.done,!A;L=!0){P=j.value,L=!1;const ee=P;if(yield yield nt(ee),ee.candidates&&(!((b=ee.candidates[0])===null||b===void 0)&&b.content)){ae.push(ee.candidates[0].content);for(const fe of(T=ee.candidates[0].content.parts)!==null&&T!==void 0?T:[])if(h<l&&fe.functionCall){if(!fe.functionCall.name)throw new Error("Function call name was not returned by the model.");if(_.has(fe.functionCall.name)){const Z=yield nt(_.get(fe.functionCall.name).callTool([fe.functionCall]));$.push(...Z)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${_.keys()}, mising tool: ${fe.functionCall.name}`)}}}}catch(ee){N={error:ee}}finally{try{!L&&!A&&(R=k.return)&&(yield nt(R.call(k)))}finally{if(N)throw N.error}}if($.length>0){c=!0;const ee=new Po;ee.candidates=[{content:{role:"user",parts:$}}],yield yield nt(ee);const fe=[];fe.push(...ae),fe.push({role:"user",parts:$});const Z=pn(E.contents).concat(fe);E.contents=Z}else break}})})(this,g,e)}async generateContentInternal(e){var i,r,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=d0(this.apiClient,e);return h=se("{model}:generateContent",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(E=>{const b=E;return b.sdkHttpResponse={headers:_.headers},b})),c.then(_=>{const E=h0(_),b=new Po;return Object.assign(b,E),b})}else{const m=c0(this.apiClient,e);return h=se("{model}:generateContent",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(E=>{const b=E;return b.sdkHttpResponse={headers:_.headers},b})),c.then(_=>{const E=f0(_),b=new Po;return Object.assign(b,E),b})}}async generateContentStreamInternal(e){var i,r,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=d0(this.apiClient,e);return h=se("{model}:streamGenerateContent?alt=sse",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.requestStream({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),c.then(function(E){return Er(this,arguments,function*(){var b,T,A,N;try{for(var R=!0,P=qo(E),L;L=yield nt(P.next()),b=L.done,!b;R=!0){N=L.value,R=!1;const k=N,j=h0(yield nt(k.json()));j.sdkHttpResponse={headers:k.headers};const Y=new Po;Object.assign(Y,j),yield yield nt(Y)}}catch(k){T={error:k}}finally{try{!R&&!b&&(A=P.return)&&(yield nt(A.call(P)))}finally{if(T)throw T.error}}})})}else{const m=c0(this.apiClient,e);return h=se("{model}:streamGenerateContent?alt=sse",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.requestStream({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),c.then(function(E){return Er(this,arguments,function*(){var b,T,A,N;try{for(var R=!0,P=qo(E),L;L=yield nt(P.next()),b=L.done,!b;R=!0){N=L.value,R=!1;const k=N,j=f0(yield nt(k.json()));j.sdkHttpResponse={headers:k.headers};const Y=new Po;Object.assign(Y,j),yield yield nt(Y)}}catch(k){T={error:k}}finally{try{!R&&!b&&(A=P.return)&&(yield nt(A.call(P)))}finally{if(T)throw T.error}}})})}}async embedContent(e){var i,r,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=ZN(this.apiClient,e);return h=se("{model}:predict",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(E=>{const b=E;return b.sdkHttpResponse={headers:_.headers},b})),c.then(_=>{const E=t1(_),b=new Jy;return Object.assign(b,E),b})}else{const m=WN(this.apiClient,e);return h=se("{model}:batchEmbedContents",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(E=>{const b=E;return b.sdkHttpResponse={headers:_.headers},b})),c.then(_=>{const E=e1(_),b=new Jy;return Object.assign(b,E),b})}}async generateImagesInternal(e){var i,r,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=f1(this.apiClient,e);return h=se("{model}:predict",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(E=>{const b=E;return b.sdkHttpResponse={headers:_.headers},b})),c.then(_=>{const E=p1(_),b=new Yy;return Object.assign(b,E),b})}else{const m=d1(this.apiClient,e);return h=se("{model}:predict",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(E=>{const b=E;return b.sdkHttpResponse={headers:_.headers},b})),c.then(_=>{const E=h1(_),b=new Yy;return Object.assign(b,E),b})}}async editImageInternal(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const h=YN(this.apiClient,e);return l=se("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:g.headers},_})),a.then(g=>{const m=KN(g),_=new iA;return Object.assign(_,m),_})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const h=fR(this.apiClient,e);return l=se("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:g.headers},_})),a.then(g=>{const m=hR(g),_=new sA;return Object.assign(_,m),_})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const h=J1(this.apiClient,e);return l=se("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const m=Y1(g),_=new rA;return Object.assign(_,m),_})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const h=eR(this.apiClient,e);return l=se("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const m=tR(g),_=new oA;return Object.assign(_,m),_})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var i,r,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=I1(this.apiClient,e);return h=se("{name}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c.then(_=>Zd(_))}else{const m=M1(this.apiClient,e);return h=se("{name}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>Wd(_))}}async listInternal(e){var i,r,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=G1(this.apiClient,e);return h=se("{models_url}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(E=>{const b=E;return b.sdkHttpResponse={headers:_.headers},b})),c.then(_=>{const E=z1(_),b=new Ky;return Object.assign(b,E),b})}else{const m=H1(this.apiClient,e);return h=se("{models_url}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(E=>{const b=E;return b.sdkHttpResponse={headers:_.headers},b})),c.then(_=>{const E=B1(_),b=new Ky;return Object.assign(b,E),b})}}async update(e){var i,r,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=cR(this.apiClient,e);return h=se("{model}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c.then(_=>Zd(_))}else{const m=uR(this.apiClient,e);return h=se("{name}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>Wd(_))}}async delete(e){var i,r,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=jN(this.apiClient,e);return h=se("{name}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(E=>{const b=E;return b.sdkHttpResponse={headers:_.headers},b})),c.then(_=>{const E=$N(_),b=new Qy;return Object.assign(b,E),b})}else{const m=VN(this.apiClient,e);return h=se("{name}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(E=>{const b=E;return b.sdkHttpResponse={headers:_.headers},b})),c.then(_=>{const E=FN(_),b=new Qy;return Object.assign(b,E),b})}}async countTokens(e){var i,r,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=GN(this.apiClient,e);return h=se("{model}:countTokens",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(E=>{const b=E;return b.sdkHttpResponse={headers:_.headers},b})),c.then(_=>{const E=zN(_),b=new Xy;return Object.assign(b,E),b})}else{const m=HN(this.apiClient,e);return h=se("{model}:countTokens",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(E=>{const b=E;return b.sdkHttpResponse={headers:_.headers},b})),c.then(_=>{const E=BN(_),b=new Xy;return Object.assign(b,E),b})}}async computeTokens(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const h=DN(this.apiClient,e);return l=se("{model}:computeTokens",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:g.headers},_})),a.then(g=>{const m=kN(g),_=new aA;return Object.assign(_,m),_})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var i,r,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=E1(this.apiClient,e);return h=se("{model}:predictLongRunning",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c.then(_=>{const E=v1(_),b=new Bl;return Object.assign(b,E),b})}else{const m=_1(this.apiClient,e);return h=se("{model}:predictLongRunning",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>{const E=y1(_),b=new Bl;return Object.assign(b,E),b})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oM extends ui{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const i=e.operation,r=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=i.name.split("/operations/")[0];let l;r&&"httpOptions"in r&&(l=r.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:a,config:{httpOptions:l}});return i._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:i.name,config:r});return i._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async get(e){const i=e.operation,r=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=i.name.split("/operations/")[0];let l;r&&"httpOptions"in r&&(l=r.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:a,config:{httpOptions:l}});return i._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:i.name,config:r});return i._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async getVideosOperationInternal(e){var i,r,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=Xw(e);return h=se("{operationName}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c}else{const m=Qw(e);return h=se("{operationName}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c}}async fetchPredictVideosOperationInternal(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const h=Vw(e);return l=se("{resourceName}:fetchPredictOperation",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aM(n){const e={},i=d(n,["data"]);if(i!=null&&f(e,["data"],i),d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(n,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function lM(n){const e={},i=d(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>yM(l))),f(e,["parts"],a)}const r=d(n,["role"]);return r!=null&&f(e,["role"],r),e}function uM(n,e,i){const r={},a=d(e,["expireTime"]);i!==void 0&&a!=null&&f(i,["expireTime"],a);const l=d(e,["newSessionExpireTime"]);i!==void 0&&l!=null&&f(i,["newSessionExpireTime"],l);const c=d(e,["uses"]);i!==void 0&&c!=null&&f(i,["uses"],c);const h=d(e,["liveConnectConstraints"]);i!==void 0&&h!=null&&f(i,["bidiGenerateContentSetup"],gM(n,h));const g=d(e,["lockAdditionalFields"]);return i!==void 0&&g!=null&&f(i,["fieldMask"],g),r}function cM(n,e){const i={},r=d(e,["config"]);return r!=null&&f(i,["config"],uM(n,r,i)),i}function dM(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(n,["fileUri"]);i!=null&&f(e,["fileUri"],i);const r=d(n,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function fM(n){const e={},i=d(n,["id"]);i!=null&&f(e,["id"],i);const r=d(n,["args"]);r!=null&&f(e,["args"],r);const a=d(n,["name"]);if(a!=null&&f(e,["name"],a),d(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function hM(n){const e={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(n,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function pM(n){const e={};if(d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(n,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function mM(n,e){const i={},r=d(n,["generationConfig"]);e!==void 0&&r!=null&&f(e,["setup","generationConfig"],r);const a=d(n,["responseModalities"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","responseModalities"],a);const l=d(n,["temperature"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","temperature"],l);const c=d(n,["topP"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","topP"],c);const h=d(n,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const g=d(n,["maxOutputTokens"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","maxOutputTokens"],g);const m=d(n,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const _=d(n,["seed"]);e!==void 0&&_!=null&&f(e,["setup","generationConfig","seed"],_);const E=d(n,["speechConfig"]);e!==void 0&&E!=null&&f(e,["setup","generationConfig","speechConfig"],Tf(E));const b=d(n,["thinkingConfig"]);e!==void 0&&b!=null&&f(e,["setup","generationConfig","thinkingConfig"],b);const T=d(n,["enableAffectiveDialog"]);e!==void 0&&T!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],T);const A=d(n,["systemInstruction"]);e!==void 0&&A!=null&&f(e,["setup","systemInstruction"],lM(Ut(A)));const N=d(n,["tools"]);if(e!==void 0&&N!=null){let Q=Cr(N);Array.isArray(Q)&&(Q=Q.map($=>_M(Ar($)))),f(e,["setup","tools"],Q)}const R=d(n,["sessionResumption"]);e!==void 0&&R!=null&&f(e,["setup","sessionResumption"],vM(R));const P=d(n,["inputAudioTranscription"]);e!==void 0&&P!=null&&f(e,["setup","inputAudioTranscription"],P);const L=d(n,["outputAudioTranscription"]);e!==void 0&&L!=null&&f(e,["setup","outputAudioTranscription"],L);const k=d(n,["realtimeInputConfig"]);e!==void 0&&k!=null&&f(e,["setup","realtimeInputConfig"],k);const j=d(n,["contextWindowCompression"]);e!==void 0&&j!=null&&f(e,["setup","contextWindowCompression"],j);const Y=d(n,["proactivity"]);return e!==void 0&&Y!=null&&f(e,["setup","proactivity"],Y),i}function gM(n,e){const i={},r=d(e,["model"]);r!=null&&f(i,["setup","model"],He(n,r));const a=d(e,["config"]);return a!=null&&f(i,["config"],mM(a,i)),i}function yM(n){const e={},i=d(n,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const r=d(n,["codeExecutionResult"]);r!=null&&f(e,["codeExecutionResult"],r);const a=d(n,["executableCode"]);a!=null&&f(e,["executableCode"],a);const l=d(n,["fileData"]);l!=null&&f(e,["fileData"],dM(l));const c=d(n,["functionCall"]);c!=null&&f(e,["functionCall"],fM(c));const h=d(n,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const g=d(n,["inlineData"]);g!=null&&f(e,["inlineData"],aM(g));const m=d(n,["text"]);m!=null&&f(e,["text"],m);const _=d(n,["thought"]);_!=null&&f(e,["thought"],_);const E=d(n,["thoughtSignature"]);E!=null&&f(e,["thoughtSignature"],E);const b=d(n,["videoMetadata"]);return b!=null&&f(e,["videoMetadata"],b),e}function vM(n){const e={},i=d(n,["handle"]);if(i!=null&&f(e,["handle"],i),d(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function _M(n){const e={},i=d(n,["functionDeclarations"]);if(i!=null){let _=i;Array.isArray(_)&&(_=_.map(E=>E)),f(e,["functionDeclarations"],_)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(n,["googleSearchRetrieval"]);r!=null&&f(e,["googleSearchRetrieval"],r);const a=d(n,["computerUse"]);a!=null&&f(e,["computerUse"],a);const l=d(n,["fileSearch"]);l!=null&&f(e,["fileSearch"],l);const c=d(n,["codeExecution"]);if(c!=null&&f(e,["codeExecution"],c),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=d(n,["googleMaps"]);h!=null&&f(e,["googleMaps"],hM(h));const g=d(n,["googleSearch"]);g!=null&&f(e,["googleSearch"],pM(g));const m=d(n,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EM(n){const e=[];for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const r=n[i];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const a=Object.keys(r).map(l=>`${i}.${l}`);e.push(...a)}else e.push(i)}return e.join(",")}function bM(n,e){let i=null;const r=n.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const l=r.setup;typeof l=="object"&&l!==null?(n.bidiGenerateContentSetup=l,i=l):delete n.bidiGenerateContentSetup}else r!==void 0&&delete n.bidiGenerateContentSetup;const a=n.fieldMask;if(i){const l=EM(i);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)l?n.fieldMask=l:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];a.length>0&&(h=a.map(m=>c.includes(m)?`generationConfig.${m}`:m));const g=[];l&&g.push(l),h.length>0&&g.push(...h),g.length>0?n.fieldMask=g.join(","):delete n.fieldMask}else delete n.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?n.fieldMask=a.join(","):delete n.fieldMask;return n}class SM extends ui{constructor(e){super(),this.apiClient=e}async create(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=cM(this.apiClient,e);l=se("auth_tokens",h._url),c=h._query,delete h.config,delete h._url,delete h._query;const g=bM(h,e.config);return a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),a.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TM(n,e){const i={},r=d(n,["force"]);return e!==void 0&&r!=null&&f(e,["_query","force"],r),i}function xM(n){const e={},i=d(n,["name"]);i!=null&&f(e,["_url","name"],i);const r=d(n,["config"]);return r!=null&&TM(r,e),e}function wM(n){const e={},i=d(n,["name"]);return i!=null&&f(e,["_url","name"],i),e}function AM(n,e){const i={},r=d(n,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);const a=d(n,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),i}function CM(n){const e={},i=d(n,["parent"]);i!=null&&f(e,["_url","parent"],i);const r=d(n,["config"]);return r!=null&&AM(r,e),e}function NM(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(n,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);const a=d(n,["documents"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["documents"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RM extends ui{constructor(e){super(),this.apiClient=e,this.list=async i=>new xs(ai.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:i.parent,config:r.config}),await this.listInternal(i),i)}async get(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=wM(e);return l=se("{name}",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async delete(e){var i,r;let a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=xM(e);a=se("{name}",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=CM(e);return l=se("{parent}/documents",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const m=NM(g),_=new lA;return Object.assign(_,m),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MM extends ui{constructor(e,i=new RM(e)){super(),this.apiClient=e,this.documents=i,this.list=async(r={})=>new xs(ai.PAGED_ITEM_FILE_SEARCH_STORES,a=>this.listInternal(a),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=ER(e);return l=se("fileSearchStores",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async get(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=TR(e);return l=se("{name}",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async delete(e){var i,r;let a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=SR(e);a=se("{name}",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=RR(e);return l=se("fileSearchStores",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const m=MR(g),_=new uA;return Object.assign(_,m),_})}}async uploadToFileSearchStoreInternal(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=IR(e);return l=se("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const m=DR(g),_=new cA;return Object.assign(_,m),_})}}async importFile(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=AR(e);return l=se("{file_search_store_name}:importFile",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const m=wR(g),_=new vf;return Object.assign(_,m),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IM(n,e){const i={},r=d(n,["name"]);return r!=null&&f(i,["_url","name"],r),i}function DM(n,e){const i={},r=d(n,["name"]);return r!=null&&f(i,["_url","name"],r),i}function kM(n,e){const i={},r=d(n,["sdkHttpResponse"]);return r!=null&&f(i,["sdkHttpResponse"],r),i}function UM(n,e){const i={},r=d(n,["sdkHttpResponse"]);return r!=null&&f(i,["sdkHttpResponse"],r),i}function PM(n,e,i){const r={};if(d(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=d(n,["tunedModelDisplayName"]);if(e!==void 0&&a!=null&&f(e,["displayName"],a),d(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=d(n,["epochCount"]);e!==void 0&&l!=null&&f(e,["tuningTask","hyperparameters","epochCount"],l);const c=d(n,["learningRateMultiplier"]);if(c!=null&&f(r,["tuningTask","hyperparameters","learningRateMultiplier"],c),d(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const h=d(n,["batchSize"]);e!==void 0&&h!=null&&f(e,["tuningTask","hyperparameters","batchSize"],h);const g=d(n,["learningRate"]);if(e!==void 0&&g!=null&&f(e,["tuningTask","hyperparameters","learningRate"],g),d(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(d(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function OM(n,e,i){const r={};let a=d(i,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const T=d(n,["validationDataset"]);e!==void 0&&T!=null&&f(e,["supervisedTuningSpec"],E0(T))}else if(a==="PREFERENCE_TUNING"){const T=d(n,["validationDataset"]);e!==void 0&&T!=null&&f(e,["preferenceOptimizationSpec"],E0(T))}const l=d(n,["tunedModelDisplayName"]);e!==void 0&&l!=null&&f(e,["tunedModelDisplayName"],l);const c=d(n,["description"]);e!==void 0&&c!=null&&f(e,["description"],c);let h=d(i,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const T=d(n,["epochCount"]);e!==void 0&&T!=null&&f(e,["supervisedTuningSpec","hyperParameters","epochCount"],T)}else if(h==="PREFERENCE_TUNING"){const T=d(n,["epochCount"]);e!==void 0&&T!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],T)}let g=d(i,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const T=d(n,["learningRateMultiplier"]);e!==void 0&&T!=null&&f(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],T)}else if(g==="PREFERENCE_TUNING"){const T=d(n,["learningRateMultiplier"]);e!==void 0&&T!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],T)}let m=d(i,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const T=d(n,["exportLastCheckpointOnly"]);e!==void 0&&T!=null&&f(e,["supervisedTuningSpec","exportLastCheckpointOnly"],T)}else if(m==="PREFERENCE_TUNING"){const T=d(n,["exportLastCheckpointOnly"]);e!==void 0&&T!=null&&f(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],T)}let _=d(i,["config","method"]);if(_===void 0&&(_="SUPERVISED_FINE_TUNING"),_==="SUPERVISED_FINE_TUNING"){const T=d(n,["adapterSize"]);e!==void 0&&T!=null&&f(e,["supervisedTuningSpec","hyperParameters","adapterSize"],T)}else if(_==="PREFERENCE_TUNING"){const T=d(n,["adapterSize"]);e!==void 0&&T!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],T)}if(d(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const E=d(n,["labels"]);e!==void 0&&E!=null&&f(e,["labels"],E);const b=d(n,["beta"]);return e!==void 0&&b!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","beta"],b),r}function LM(n,e){const i={},r=d(n,["baseModel"]);r!=null&&f(i,["baseModel"],r);const a=d(n,["preTunedModel"]);a!=null&&f(i,["preTunedModel"],a);const l=d(n,["trainingDataset"]);l!=null&&YM(l);const c=d(n,["config"]);return c!=null&&PM(c,i),i}function qM(n,e){const i={},r=d(n,["baseModel"]);r!=null&&f(i,["baseModel"],r);const a=d(n,["preTunedModel"]);a!=null&&f(i,["preTunedModel"],a);const l=d(n,["trainingDataset"]);l!=null&&KM(l,i,e);const c=d(n,["config"]);return c!=null&&OM(c,i,e),i}function HM(n,e){const i={},r=d(n,["name"]);return r!=null&&f(i,["_url","name"],r),i}function GM(n,e){const i={},r=d(n,["name"]);return r!=null&&f(i,["_url","name"],r),i}function BM(n,e,i){const r={},a=d(n,["pageSize"]);e!==void 0&&a!=null&&f(e,["_query","pageSize"],a);const l=d(n,["pageToken"]);e!==void 0&&l!=null&&f(e,["_query","pageToken"],l);const c=d(n,["filter"]);return e!==void 0&&c!=null&&f(e,["_query","filter"],c),r}function zM(n,e,i){const r={},a=d(n,["pageSize"]);e!==void 0&&a!=null&&f(e,["_query","pageSize"],a);const l=d(n,["pageToken"]);e!==void 0&&l!=null&&f(e,["_query","pageToken"],l);const c=d(n,["filter"]);return e!==void 0&&c!=null&&f(e,["_query","filter"],c),r}function VM(n,e){const i={},r=d(n,["config"]);return r!=null&&BM(r,i),i}function jM(n,e){const i={},r=d(n,["config"]);return r!=null&&zM(r,i),i}function FM(n,e){const i={},r=d(n,["sdkHttpResponse"]);r!=null&&f(i,["sdkHttpResponse"],r);const a=d(n,["nextPageToken"]);a!=null&&f(i,["nextPageToken"],a);const l=d(n,["tunedModels"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(h=>__(h))),f(i,["tuningJobs"],c)}return i}function $M(n,e){const i={},r=d(n,["sdkHttpResponse"]);r!=null&&f(i,["sdkHttpResponse"],r);const a=d(n,["nextPageToken"]);a!=null&&f(i,["nextPageToken"],a);const l=d(n,["tuningJobs"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(h=>tf(h))),f(i,["tuningJobs"],c)}return i}function JM(n,e){const i={},r=d(n,["name"]);r!=null&&f(i,["model"],r);const a=d(n,["name"]);return a!=null&&f(i,["endpoint"],a),i}function YM(n,e){const i={};if(d(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=d(n,["examples"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),f(i,["examples","examples"],a)}return i}function KM(n,e,i){const r={};let a=d(i,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const c=d(n,["gcsUri"]);e!==void 0&&c!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(a==="PREFERENCE_TUNING"){const c=d(n,["gcsUri"]);e!==void 0&&c!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}let l=d(i,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const c=d(n,["vertexDatasetResource"]);e!==void 0&&c!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(l==="PREFERENCE_TUNING"){const c=d(n,["vertexDatasetResource"]);e!==void 0&&c!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}if(d(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function __(n,e){const i={},r=d(n,["sdkHttpResponse"]);r!=null&&f(i,["sdkHttpResponse"],r);const a=d(n,["name"]);a!=null&&f(i,["name"],a);const l=d(n,["state"]);l!=null&&f(i,["state"],Zv(l));const c=d(n,["createTime"]);c!=null&&f(i,["createTime"],c);const h=d(n,["tuningTask","startTime"]);h!=null&&f(i,["startTime"],h);const g=d(n,["tuningTask","completeTime"]);g!=null&&f(i,["endTime"],g);const m=d(n,["updateTime"]);m!=null&&f(i,["updateTime"],m);const _=d(n,["description"]);_!=null&&f(i,["description"],_);const E=d(n,["baseModel"]);E!=null&&f(i,["baseModel"],E);const b=d(n,["_self"]);return b!=null&&f(i,["tunedModel"],JM(b)),i}function tf(n,e){const i={},r=d(n,["sdkHttpResponse"]);r!=null&&f(i,["sdkHttpResponse"],r);const a=d(n,["name"]);a!=null&&f(i,["name"],a);const l=d(n,["state"]);l!=null&&f(i,["state"],Zv(l));const c=d(n,["createTime"]);c!=null&&f(i,["createTime"],c);const h=d(n,["startTime"]);h!=null&&f(i,["startTime"],h);const g=d(n,["endTime"]);g!=null&&f(i,["endTime"],g);const m=d(n,["updateTime"]);m!=null&&f(i,["updateTime"],m);const _=d(n,["error"]);_!=null&&f(i,["error"],_);const E=d(n,["description"]);E!=null&&f(i,["description"],E);const b=d(n,["baseModel"]);b!=null&&f(i,["baseModel"],b);const T=d(n,["tunedModel"]);T!=null&&f(i,["tunedModel"],T);const A=d(n,["preTunedModel"]);A!=null&&f(i,["preTunedModel"],A);const N=d(n,["supervisedTuningSpec"]);N!=null&&f(i,["supervisedTuningSpec"],N);const R=d(n,["preferenceOptimizationSpec"]);R!=null&&f(i,["preferenceOptimizationSpec"],R);const P=d(n,["tuningDataStats"]);P!=null&&f(i,["tuningDataStats"],P);const L=d(n,["encryptionSpec"]);L!=null&&f(i,["encryptionSpec"],L);const k=d(n,["partnerModelTuningSpec"]);k!=null&&f(i,["partnerModelTuningSpec"],k);const j=d(n,["customBaseModel"]);j!=null&&f(i,["customBaseModel"],j);const Y=d(n,["experiment"]);Y!=null&&f(i,["experiment"],Y);const Q=d(n,["labels"]);Q!=null&&f(i,["labels"],Q);const $=d(n,["outputUri"]);$!=null&&f(i,["outputUri"],$);const ae=d(n,["pipelineJob"]);ae!=null&&f(i,["pipelineJob"],ae);const ee=d(n,["serviceAccount"]);ee!=null&&f(i,["serviceAccount"],ee);const fe=d(n,["tunedModelDisplayName"]);fe!=null&&f(i,["tunedModelDisplayName"],fe);const Z=d(n,["veoTuningSpec"]);return Z!=null&&f(i,["veoTuningSpec"],Z),i}function QM(n,e){const i={},r=d(n,["sdkHttpResponse"]);r!=null&&f(i,["sdkHttpResponse"],r);const a=d(n,["name"]);a!=null&&f(i,["name"],a);const l=d(n,["metadata"]);l!=null&&f(i,["metadata"],l);const c=d(n,["done"]);c!=null&&f(i,["done"],c);const h=d(n,["error"]);return h!=null&&f(i,["error"],h),i}function E0(n,e){const i={},r=d(n,["gcsUri"]);r!=null&&f(i,["validationDatasetUri"],r);const a=d(n,["vertexDatasetResource"]);return a!=null&&f(i,["validationDatasetUri"],a),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XM extends ui{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new xs(ai.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(i),i),this.get=async i=>await this.getInternal(i),this.tune=async i=>{var r;if(this.apiClient.isVertexAI())if(i.baseModel.startsWith("projects/")){const a={tunedModelName:i.baseModel};!((r=i.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(a.checkpointId=i.config.preTunedModelCheckpointId);const l=Object.assign(Object.assign({},i),{preTunedModel:a});return l.baseModel=void 0,await this.tuneInternal(l)}else{const a=Object.assign({},i);return await this.tuneInternal(a)}else{const a=Object.assign({},i),l=await this.tuneMldevInternal(a);let c="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?c=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(c=l.name.split("/operations/")[0]),{name:c,state:Yd.JOB_STATE_QUEUED}}}}async getInternal(e){var i,r,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=GM(e);return h=se("{name}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(E=>{const b=E;return b.sdkHttpResponse={headers:_.headers},b})),c.then(_=>tf(_))}else{const m=HM(e);return h=se("{name}",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(E=>{const b=E;return b.sdkHttpResponse={headers:_.headers},b})),c.then(_=>__(_))}}async listInternal(e){var i,r,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=jM(e);return h=se("tuningJobs",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(E=>{const b=E;return b.sdkHttpResponse={headers:_.headers},b})),c.then(_=>{const E=$M(_),b=new Wy;return Object.assign(b,E),b})}else{const m=VM(e);return h=se("tunedModels",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(E=>{const b=E;return b.sdkHttpResponse={headers:_.headers},b})),c.then(_=>{const E=FM(_),b=new Wy;return Object.assign(b,E),b})}}async cancel(e){var i,r,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const m=DM(e);return h=se("{name}:cancel",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(E=>{const b=E;return b.sdkHttpResponse={headers:_.headers},b})),c.then(_=>{const E=UM(_),b=new Zy;return Object.assign(b,E),b})}else{const m=IM(e);return h=se("{name}:cancel",m._url),g=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(E=>{const b=E;return b.sdkHttpResponse={headers:_.headers},b})),c.then(_=>{const E=kM(_),b=new Zy;return Object.assign(b,E),b})}}async tuneInternal(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const h=qM(e,e);return l=se("tuningJobs",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:g.headers},_})),a.then(g=>tf(g))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=LM(e);return l=se("tunedModels",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:g.headers},_})),a.then(g=>QM(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WM{async download(e,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const ZM=1024*1024*8,eI=3,tI=1e3,nI=2,Vl="x-goog-upload-status";async function iI(n,e,i){var r;const a=await E_(n,e,i),l=await(a==null?void 0:a.json());if(((r=a==null?void 0:a.headers)===null||r===void 0?void 0:r[Vl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return l.file}async function sI(n,e,i){var r;const a=await E_(n,e,i),l=await(a==null?void 0:a.json());if(((r=a==null?void 0:a.headers)===null||r===void 0?void 0:r[Vl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const c=Jv(l),h=new _f;return Object.assign(h,c),h}async function E_(n,e,i){var r,a;let l=0,c=0,h=new Kd(new Response),g="upload";for(l=n.size;c<l;){const m=Math.min(ZM,l-c),_=n.slice(c,c+m);c+m>=l&&(g+=", finalize");let E=0,b=tI;for(;E<eI&&(h=await i.request({path:"",body:_,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":String(c),"Content-Length":String(m)}}}),!(!((r=h==null?void 0:h.headers)===null||r===void 0)&&r[Vl]));)E++,await oI(b),b=b*nI;if(c+=m,((a=h==null?void 0:h.headers)===null||a===void 0?void 0:a[Vl])!=="active")break;if(l<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return h}async function rI(n){return{size:n.size,type:n.type}}function oI(n){return new Promise(e=>setTimeout(e,n))}class aI{async upload(e,i,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await iI(e,i,r)}async uploadToFileSearchStore(e,i,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await sI(e,i,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await rI(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lI{create(e,i,r){return new uI(e,i,r)}}class uI{constructor(e,i,r){this.url=e,this.headers=i,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const b0="x-goog-api-key";class cI{constructor(e){this.apiKey=e}async addAuthHeaders(e,i){if(e.get(b0)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(b0,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dI="gl-node/";class fI{constructor(e){var i;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=e.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=e.apiKey;const r=Bw(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const a=new cI(this.apiKey);this.apiClient=new GR({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:dI+"web",uploader:new aI,downloader:new WM}),this.models=new rM(this.apiClient),this.live=new ZR(this.apiClient,a,new lI),this.batches=new gC(this.apiClient),this.chats=new XC(this.models,this.apiClient),this.caches=new YC(this.apiClient),this.files=new aN(this.apiClient),this.operations=new oM(this.apiClient),this.authTokens=new SM(this.apiClient),this.tunings=new XM(this.apiClient),this.fileSearchStores=new MM(this.apiClient)}}const hI=()=>{const n="PLACEHOLDER_API_KEY";return new fI({apiKey:n})},pI=async(n,e="ENGLISH")=>{try{const i=hI(),r=n.length>3e4?n.substring(0,3e4):n;let a="";e==="HINDI"?a="Generate all questions, options, and explanations in HINDI language only. Populate the 'question_text', 'option_a' etc fields with Hindi text.":e==="BILINGUAL"?a="Generate content in BOTH English and Hindi. Populate 'question_text' with English and 'question_text_hindi' with Hindi translation. Do the same for options and explanation.":a="Generate content in ENGLISH language only.";const c=(await i.models.generateContent({model:"gemini-2.5-flash",contents:`Analyze the provided study material and generate as many high-quality multiple-choice questions as possible (aim for 20 to 50 questions depending on the length and depth of the content). Ensure comprehensive coverage of all key topics, facts, and concepts in the text.
      
      ${a}

      Material:
      ${r}
      `,config:{responseMimeType:"application/json",responseSchema:{type:ot.ARRAY,items:{type:ot.OBJECT,properties:{question_text:{type:ot.STRING},option_a:{type:ot.STRING},option_b:{type:ot.STRING},option_c:{type:ot.STRING},option_d:{type:ot.STRING},correct_option:{type:ot.STRING,enum:["A","B","C","D"]},explanation:{type:ot.STRING},question_text_hindi:{type:ot.STRING},option_a_hindi:{type:ot.STRING},option_b_hindi:{type:ot.STRING},option_c_hindi:{type:ot.STRING},option_d_hindi:{type:ot.STRING},explanation_hindi:{type:ot.STRING}},required:["question_text","option_a","option_b","option_c","option_d","correct_option","explanation"]}}}})).text||"[]";return JSON.parse(c)}catch(i){return console.error("Quiz generation error:",i),[]}};function mI(){const[n,e]=K.useState(we.HOME),[i,r]=K.useState([]),[a,l]=K.useState([]),[c,h]=K.useState([]),[g,m]=K.useState([]),[_,E]=K.useState([]),[b,T]=K.useState([]),[A,N]=K.useState([]),[R,P]=K.useState(!0),[L,k]=K.useState(null),[j,Y]=K.useState(!1),[Q,$]=K.useState("LOGIN"),[ae,ee]=K.useState(""),[fe,Z]=K.useState([]),[ne,ye]=K.useState(null),[Be,Pe]=K.useState("ENGLISH"),[H,W]=K.useState([]),[ie,Ce]=K.useState(null),[ke,M]=K.useState(""),[z,te]=K.useState("ALL"),[X,he]=K.useState("ALL"),[ce,Oe]=K.useState(!1),[Ye,it]=K.useState("upload"),[$i,Un]=K.useState(!1),[ws,Rr]=K.useState(!1),[Pn,On]=K.useState(""),[sn,Mr]=K.useState(null),[_e,Pt]=K.useState({title:"",description:"",type:tt.NOTES,format:"Notes",subject:"",content:"",categoryId:"",requiredTier:yt.FREE,adsEnabled:!0,batchId:"",loginRequired:!1}),[Ir,Dr]=K.useState([]),[St,Ji]=K.useState({title:"",image_url:"",link_url:"",html_content:""}),[Rt,eu]=K.useState([]),[di,As]=K.useState(null),[je,rn]=K.useState({title:"",description:"",duration:20,totalMarks:10,language:"ENGLISH",isPremium:!1,price:0,imageUrl:""}),fi=K.useRef(null),[kr,Fo]=K.useState(""),[Ln,Mt]=K.useState(""),[mn,dt]=K.useState(!1),[$o,Jo]=K.useState(!1),[Yo,Yi]=K.useState(null),[An,hi]=K.useState(null),[Ue,Ot]=K.useState({name:"",location:"HOME_HERO",ad_code:"",ad_format:"BANNER",target_type:"ALL",device_target:"ALL",start_date:"",end_date:"",run_indefinitely:!0}),[pi,gn]=K.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{},isDestructive:!1,showCancel:!0,confirmLabel:"Confirm"});K.useEffect(()=>{const w=async()=>{const{data:{session:Te}}=await Ee.auth.getSession();if(Te!=null&&Te.user){const ve=await xd(Te.user.id);k(ve),Cn(Te.user.id)}Promise.all([Ur(),qn(),Ki(),Qi(),Xi(),mi(),Hn(),Pr(),Cs()]).catch(ve=>console.error("Initial data fetch failed:",ve))},{data:{subscription:J}}=Ee.auth.onAuthStateChange(async(Te,ve)=>{if(console.log("Auth Event:",Te),Te==="PASSWORD_RECOVERY")$("UPDATE_PASSWORD"),Y(!0);else if(Te==="SIGNED_IN"||Te==="TOKEN_REFRESHED"){if(ve!=null&&ve.user){const It=await xd(ve.user.id);k(It),Cn(ve.user.id)}}else Te==="SIGNED_OUT"&&k(null)});return w(),()=>{J.unsubscribe()}},[]);const Ur=async()=>{try{const{data:w,error:J}=await Ee.from("site_settings").select("*").eq("key","enable_subscriptions").single();w?P(w.value==="true"):J&&J.code!=="PGRST116"&&J.code!=="42P01"&&console.error("Settings fetch error:",JSON.stringify(J))}catch(w){console.error("Fetch Settings Error:",w)}},mi=async()=>{try{const{data:w,error:J}=await Ee.from("materials").select("*, exam_categories (name), batches (title)").order("created_at",{ascending:!1});if(J)throw J;if(w){const Te=w.map(ve=>{var It,Lt,We,Is;return{id:ve.id.toString(),title:ve.title,description:ve.description,type:ve.type,format:ve.format||"Notes",subject:ve.subject,uploadDate:ve.created_at,tags:ve.tags||[],isPremium:ve.is_premium||!1,requiredTier:ve.required_tier||(ve.is_premium?yt.SILVER:yt.FREE),loginRequired:ve.login_required??!1,content:ve.content,adsEnabled:ve.ads_enabled??!0,categoryId:(It=ve.category_id)==null?void 0:It.toString(),categoryName:((Lt=ve.exam_categories)==null?void 0:Lt.name)||"General",batchId:(We=ve.batch_id)==null?void 0:We.toString(),batchTitle:(Is=ve.batches)==null?void 0:Is.title}});r(Te),l(Te.filter(ve=>ve.type===tt.HTML))}}catch(w){console.error("Error fetching materials:",w),r([])}},Cn=async w=>{try{const{data:J}=await Ee.from("user_purchases").select("item_id").eq("user_id",w);J&&W(J.map(Te=>Te.item_id))}catch{}},Cs=async()=>{try{const{data:w}=await Ee.from("subscription_plans").select("*").order("tier_level");w&&N(w)}catch{}},Ki=async()=>{try{const{data:w}=await Ee.from("banners").select("*").eq("is_active",!0).order("created_at",{ascending:!1});w&&T(w)}catch{}},Qi=async()=>{try{const{data:w}=await Ee.from("exam_categories").select("*").order("name");w&&h(w.map(J=>({id:J.id.toString(),name:J.name})))}catch(w){console.error("Error fetching categories:",w)}},Xi=async()=>{try{const{data:w}=await Ee.from("material_formats").select("*").order("name");w&&m(w.map(J=>({id:J.id.toString(),name:J.name})))}catch(w){console.error("Error fetching formats:",w)}},qn=async()=>{try{const{data:w}=await Ee.from("advertisements").select("*").order("created_at",{ascending:!1});w&&E(w)}catch(w){console.error("Error fetching ads:",w)}},Hn=async()=>{try{const{data:w}=await Ee.from("quizzes").select("*").order("created_at",{ascending:!1});w&&Z(w)}catch(w){console.error("Error fetching quizzes:",w)}},Pr=async()=>{try{const{data:w}=await Ee.from("batches").select("*");w&&Dr(w)}catch(w){console.error("Error fetching batches:",w)}},Or=async()=>{if(ce)try{const{data:w}=await Ee.from("profiles").select("*").order("created_at",{ascending:!1});w&&eu(w)}catch(w){console.error("Error fetching users",w)}},yn=async()=>{if(!$o){Jo(!0);try{await Promise.all([Ur(),qn(),Ki(),Qi(),Xi(),mi(),Hn(),Pr(),Cs()]),ce&&await Or(),await new Promise(w=>setTimeout(w,500))}catch(w){console.error("Refresh failed:",w),Se("Error","Failed to sync with database.")}finally{Jo(!1)}}},Xe=()=>gn(w=>({...w,isOpen:!1})),Se=(w,J)=>gn({isOpen:!0,title:w,message:J,showCancel:!1,confirmLabel:"OK",isDestructive:!1,onConfirm:Xe}),Gn=(w="FREE")=>{switch(w){case"FREE":return 0;case"SILVER":return 1;case"GOLD":return 2;case"DIAMOND":return 3;default:return 0}},Lr=(w="FREE",J="FREE")=>!R||ce?!0:Gn(w)>=Gn(J),Ko=w=>{const J=w.requiredTier||(w.isPremium?yt.SILVER:yt.FREE);if(!R){Ce(w),e(we.DETAILS);return}if(J===yt.FREE){if(w.loginRequired&&!L){ee("This material is Free, but you must register to view it."),$("LOGIN"),Y(!0);return}Ce(w),e(we.DETAILS);return}if(!L){ee("This is premium content. Please login to access."),$("LOGIN"),Y(!0);return}const Te=L.subscription_tier||yt.FREE;Lr(Te,J)?(Ce(w),e(we.DETAILS)):Se("Access Denied",`This content requires ${J} Plan or higher. You are currently on ${Te}. Please upgrade.`)},Qo=()=>{ce?(Oe(!1),e(we.HOME),Un(!1)):e(we.ADMIN_LOGIN)},Xo=()=>{Oe(!0),e(we.UPLOAD),yn()},Wi=async()=>{if(kr.trim()){dt(!0);try{const{error:w}=await Ee.from("exam_categories").insert([{name:kr}]);if(w)throw w;Fo(""),Qi(),Se("Success","Category Added")}catch(w){Se("Error",w.message)}finally{dt(!1)}}},qr=w=>{gn({isOpen:!0,title:"Delete Category",message:"Are you sure?",isDestructive:!0,showCancel:!0,confirmLabel:"Delete",onConfirm:async()=>{const{error:J}=await Ee.from("exam_categories").delete().eq("id",w);J||(Qi(),Xe())}})},gi=async()=>{if(Ln.trim()){dt(!0);try{const{error:w}=await Ee.from("material_formats").insert([{name:Ln}]);if(w)throw w;Mt(""),Xi(),Se("Success","Format Added")}catch(w){Se("Error",w.message)}finally{dt(!1)}}},yi=w=>{gn({isOpen:!0,title:"Delete Format",message:"Are you sure?",isDestructive:!0,showCancel:!0,confirmLabel:"Delete",onConfirm:async()=>{const{error:J}=await Ee.from("material_formats").delete().eq("id",w);J||(Xi(),Xe())}})},Zi=async()=>{if(!Ue.name||!Ue.ad_code){Se("Error","Name and Code required");return}dt(!0);try{const w={name:Ue.name,location:Ue.location,ad_code:Ue.ad_code,is_active:!0,ad_format:Ue.ad_format,target_type:Ue.target_type,device_target:Ue.device_target,start_date:Ue.run_indefinitely?null:Ue.start_date,end_date:Ue.run_indefinitely?null:Ue.end_date};if(An){const{error:J}=await Ee.from("advertisements").update(w).eq("id",An);if(J)throw J;Se("Success","Ad Updated Successfully")}else{const{error:J}=await Ee.from("advertisements").insert([w]);if(J)throw J;Se("Success","Ad Created Successfully")}Ot({name:"",location:"HOME_HERO",ad_code:"",ad_format:"BANNER",target_type:"ALL",device_target:"ALL",start_date:"",end_date:"",run_indefinitely:!0}),hi(null),qn()}catch(w){Se("Error",w.message)}finally{dt(!1)}},vi=w=>{hi(w.id),Ot({name:w.name,location:w.location,ad_code:w.ad_code,ad_format:w.ad_format,target_type:w.target_type,device_target:w.device_target,start_date:w.start_date||"",end_date:w.end_date||"",run_indefinitely:!w.start_date}),window.scrollTo({top:0,behavior:"smooth"})},ft=()=>{hi(null),Ot({name:"",location:"HOME_HERO",ad_code:"",ad_format:"BANNER",target_type:"ALL",device_target:"ALL",start_date:"",end_date:"",run_indefinitely:!0})},Wo=w=>{gn({isOpen:!0,title:"Delete Ad",message:"Delete this advertisement?",isDestructive:!0,showCancel:!0,confirmLabel:"Delete",onConfirm:async()=>{const{error:J}=await Ee.from("advertisements").delete().eq("id",w);J||(qn(),Xe())}})},Zo=async w=>{await Ee.from("advertisements").update({is_active:!w.is_active}).eq("id",w.id),qn()},Bn=w=>{gn({isOpen:!0,title:"Delete Material",message:"This action cannot be undone.",isDestructive:!0,showCancel:!0,confirmLabel:"Delete",onConfirm:async()=>{const{error:J}=await Ee.from("materials").delete().eq("id",w);J||(mi(),Xe())}})},_i=async()=>{if(!St.title)return Se("Error","Title is required");if(!St.image_url&&!St.html_content)return Se("Error","Must provide Image URL OR HTML Code");try{const{error:w}=await Ee.from("banners").insert([{title:St.title,image_url:St.image_url||"HTML_BANNER",link_url:St.link_url,html_content:St.html_content}]);if(w)throw w;Ji({title:"",image_url:"",link_url:"",html_content:""}),Ki(),Se("Success","Banner Added")}catch(w){Se("Error",w.message)}},tu=async w=>{const{error:J}=await Ee.from("banners").delete().eq("id",w);J||Ki()},Hr=async w=>{try{const{error:J}=await Ee.from("subscription_plans").update({name:w.name,price:w.price,features:w.features,is_active:w.is_active}).eq("id",w.id);if(J)throw J;Cs(),Se("Success","Plan Updated")}catch(J){Se("Error",J.message)}},ea=async(w,J)=>{try{const{error:Te}=await Ee.from("site_settings").upsert([{key:w,value:J}]);if(Te)throw Te;w==="enable_subscriptions"&&P(J==="true"),Se("Success","Settings Updated. Logic applied.")}catch(Te){Se("Error",Te.message)}},nu=w=>{gn({isOpen:!0,title:"Delete Quiz",message:"This will remove all questions and results.",isDestructive:!0,showCancel:!0,confirmLabel:"Delete",onConfirm:async()=>{const{error:J}=await Ee.from("quizzes").delete().eq("id",w);J||(Hn(),Xe())}})},Ns=w=>{As(w.id),rn({title:w.title,description:w.description,duration:w.duration_minutes,totalMarks:w.total_marks,language:w.language||"ENGLISH",isPremium:w.is_premium||!1,price:w.price||0,imageUrl:w.image_url||""}),it("quizzes")},Rs=async()=>{if(di)try{const{error:w}=await Ee.from("quizzes").update({title:je.title,description:je.description,duration_minutes:je.duration,total_marks:je.totalMarks,language:je.language,is_premium:je.isPremium,price:je.price,image_url:je.imageUrl}).eq("id",di);if(w)throw w;Se("Success","Quiz Updated!"),As(null),rn({title:"",description:"",duration:20,totalMarks:10,language:"ENGLISH",isPremium:!1,price:0,imageUrl:""}),Hn()}catch(w){Se("Error",w.message)}},vn=async w=>{Yi(w.id);try{const J=await pI(w.content,Be);if(J.length===0)throw new Error("AI could not generate questions. Content might be too short.");const{data:Te,error:ve}=await Ee.from("quizzes").insert([{title:`Mock Test: ${w.title}`,description:`Auto-generated from ${w.title}`,duration_minutes:20,total_marks:J.length,is_published:!0,category_id:w.categoryId?parseInt(w.categoryId):null,language:Be,is_premium:!1}]).select().single();if(ve)throw ve;const It=J.map(We=>({quiz_id:Te.id,question_text:We.question_text,option_a:We.option_b,option_b:We.option_b,option_c:We.option_c,option_d:We.option_d,correct_option:We.correct_option,marks:1,explanation:We.explanation,question_text_hindi:We.question_text_hindi,option_a_hindi:We.option_a_hindi,option_b_hindi:We.option_b_hindi,option_c_hindi:We.option_c_hindi,option_d_hindi:We.option_d_hindi,explanation_hindi:We.explanation_hindi})),{error:Lt}=await Ee.from("questions").insert(It);if(Lt)throw Lt;Se("Success",`Created ${Be} Mock Test "${Te.title}" with ${J.length} questions!`),Hn()}catch(J){console.error("Conversion Error",J),Se("Conversion Failed",J.message||"Could not convert material to quiz.")}finally{Yi(null)}},Ht=w=>{if(w.target.files&&w.target.files[0]){const J=w.target.files[0];if(J.size>50*1024*1024){Se("File Too Large","Max 50MB"),fi.current&&(fi.current.value=""),Mr(null);return}Mr(J)}},ta=async w=>{w.preventDefault(),Rr(!0),On("Uploading...");try{let J=_e.content;const Te=_e.type===tt.PDF||_e.type===tt.PPT||_e.type===tt.HTML;if(sn&&Te){const It=sn.name.split(".").pop(),Lt=sn.name.replace(/[^a-zA-Z0-9]/g,"_").replace(`_${It}`,""),We=`${Date.now()}_${Lt}.${It}`;On("Processing File...");const{data:Is,error:zr}=await Ee.storage.from("materials").upload(We,sn,{cacheControl:"3600",upsert:!1});if(zr)throw zr;On("Getting Link..."),J=Ee.storage.from("materials").getPublicUrl(We).data.publicUrl}if((_e.type===tt.HTML||_e.type===tt.NOTES)&&!sn&&!J.trim())throw new Error("Please paste content or select a file.");On("Saving to DB...");const{error:ve}=await Ee.from("materials").insert([{title:_e.title,description:_e.description,type:_e.type,format:_e.format,subject:_e.subject,content:J||"No content",tags:[_e.subject],is_premium:_e.requiredTier!==yt.FREE,required_tier:_e.requiredTier,login_required:_e.loginRequired,ads_enabled:_e.adsEnabled,category_id:_e.categoryId?parseInt(_e.categoryId):null,batch_id:_e.batchId?_e.batchId:null}]);if(ve)throw ve;Se("Success","Uploaded Successfully!"),Pt({title:"",description:"",type:tt.NOTES,format:"Notes",subject:"",content:"",categoryId:"",requiredTier:yt.FREE,adsEnabled:!0,batchId:"",loginRequired:!1}),Mr(null),mi()}catch(J){console.error("Upload Error:",J),Se("Error",J.message||"Upload Failed")}finally{Rr(!1),On(""),fi.current&&(fi.current.value="")}},iu=async()=>{const{data:{session:w}}=await Ee.auth.getSession();if(w!=null&&w.user){const J=await xd(w.user.id);k(J),Cn(w.user.id)}Y(!1),ee("")},Gr=async w=>{if(!L){ee("Please login to purchase."),$("LOGIN"),Y(!0);return}gn({isOpen:!0,title:"Unlock Premium Quiz",message:`Unlock "${w.title}" for ${w.price}?`,confirmLabel:`Pay ${w.price}`,onConfirm:async()=>{try{await Ee.from("user_purchases").insert({user_id:L.id,item_id:w.id,item_type:"QUIZ",amount_paid:w.price||0}),await Cn(L.id),Xe(),Se("Success","Mock Test Unlocked!")}catch{Se("Error","Payment Failed")}},showCancel:!0,isDestructive:!1})},na=()=>v.jsxs("div",{className:`fixed inset-y-0 left-0 w-64 bg-slate-900 text-white z-[60] transform transition-transform duration-300 shadow-2xl flex flex-col ${$i?"translate-x-0":"-translate-x-full"}`,children:[v.jsxs("div",{className:"p-6 border-b border-slate-800 flex justify-between items-center flex-shrink-0",children:[v.jsx("span",{className:"font-bold text-lg tracking-wider",children:"ADMIN PANEL"}),v.jsx("button",{onClick:()=>Un(!1),className:"p-1 hover:bg-slate-800 rounded text-slate-400",children:v.jsx(of,{className:"h-5 w-5"})})]}),v.jsx("div",{className:"flex-1 overflow-y-auto py-4 space-y-1",children:[{id:"upload",label:"Upload Content",icon:_g},{id:"materials",label:"Manage Library",icon:CS},{id:"quizzes",label:"Quizzes / Mocks",icon:pd},{id:"users",label:"User Management",icon:md},{id:"subscriptions",label:"Subscriptions",icon:pg},{id:"banners",label:"Banners & Offers",icon:gg},{id:"ads",label:"Ad Manager",icon:uS},{id:"categories",label:"Categories",icon:md},{id:"formats",label:"Formats",icon:mg},{id:"settings",label:"General Settings",icon:BS}].map(w=>v.jsxs("button",{onClick:()=>{it(w.id),Un(!1),w.id==="users"&&Or(),w.id==="subscriptions"&&Cs()},className:`w-full flex items-center gap-3 px-6 py-3 text-sm font-bold transition-colors ${Ye===w.id?"bg-primary text-white border-r-4 border-white":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[v.jsx(w.icon,{className:"h-4 w-4"})," ",w.label]},w.id))}),v.jsx("div",{className:"p-4 bg-slate-800 flex-shrink-0",children:v.jsx("button",{onClick:Qo,className:"w-full py-2 bg-rose-600 text-white rounded font-bold text-xs",children:"EXIT ADMIN"})})]}),Ms=()=>v.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 animate-in fade-in duration-500",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Mock Tests"}),v.jsx("button",{onClick:()=>e(we.DASHBOARD),className:"text-primary font-bold hover:underline",children:"Back to Library"})]}),v.jsx(kn,{ads:_,location:"HOME_HERO"}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-6",children:fe.map((w,J)=>{const Te=H.includes(w.id),ve=(L==null?void 0:L.subscription_tier)===yt.GOLD||(L==null?void 0:L.subscription_tier)===yt.DIAMOND,It=!w.is_premium||w.price===0,We=R?w.is_premium&&(!L||!Te&&!ve&&!ce):!1;return v.jsxs("div",{className:`bg-white rounded-2xl border border-indigo-100 shadow-sm hover:shadow-lg transition-all overflow-hidden flex flex-col ${We?"opacity-90":""} animate-in fade-in zoom-in`,style:{animationDelay:`${J*100}ms`},children:[v.jsxs("div",{className:"h-32 bg-slate-100 relative",children:[w.image_url?v.jsx("img",{src:w.image_url,alt:w.title,className:"w-full h-full object-cover"}):v.jsx("div",{className:"w-full h-full bg-gradient-to-br from-indigo-400 to-purple-500 flex items-center justify-center",children:v.jsx(pd,{className:"text-white opacity-50 h-10 w-10"})}),We&&v.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center backdrop-blur-[2px]",children:v.jsx("div",{className:"bg-white/20 p-3 rounded-full backdrop-blur-md border border-white/30",children:v.jsx(Ho,{className:"h-6 w-6 text-white"})})}),v.jsx("div",{className:"absolute top-2 right-2",children:R?It?v.jsx("span",{className:"bg-green-500 text-white text-[10px] font-bold px-2 py-1 rounded-full shadow",children:"FREE"}):v.jsxs("span",{className:"bg-amber-500 text-white text-[10px] font-bold px-2 py-1 rounded-full shadow",children:["PREMIUM ",w.price]}):v.jsx("span",{className:"bg-blue-500 text-white text-[10px] font-bold px-2 py-1 rounded-full shadow",children:"OPEN ACCESS"})})]}),v.jsxs("div",{className:"p-5 flex-1 flex flex-col",children:[v.jsx("h3",{className:"text-lg font-bold mb-2 line-clamp-1",children:w.title}),v.jsx("div",{className:"mt-auto",children:We?v.jsxs("button",{onClick:()=>{L?Gr(w):(ee("Please login to access this test."),$("LOGIN"),Y(!0))},className:"w-full py-3 bg-slate-900 text-white font-bold rounded-xl shadow-md flex items-center justify-center gap-2 hover:bg-slate-800 transition-colors",children:[v.jsx(oS,{className:"h-4 w-4"})," ",L?`Buy for ${w.price}`:"Login to Start"]}):v.jsx("button",{onClick:()=>{ye(w),e(we.MOCK_TEST_ATTEMPT)},className:"w-full py-3 bg-primary text-white font-bold rounded-xl shadow-md flex items-center justify-center gap-2 hover:bg-primaryDark transition-colors",children:"Start Test"})})]})]},w.id)})})]}),su=()=>{let w=i.filter(J=>J.title.toLowerCase().includes(ke.toLowerCase()));return z!=="ALL"&&(w=w.filter(J=>J.categoryId===z)),X!=="ALL"&&(w=w.filter(J=>J.format===X)),v.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 flex flex-col md:flex-row gap-8 animate-in fade-in duration-500",children:[v.jsxs("div",{className:"w-full md:w-64 flex-shrink-0 space-y-6",children:[v.jsx(kn,{ads:_,location:"DASHBOARD_SIDEBAR",isAdmin:ce}),v.jsxs("div",{onClick:()=>e(we.MOCK_TEST_LIST),className:"bg-gradient-to-r from-purple-600 to-indigo-600 p-5 rounded-2xl shadow-lg cursor-pointer text-white relative overflow-hidden group hover:scale-105 transition-transform",children:[v.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:v.jsx(pd,{className:"h-24 w-24"})}),v.jsx("h3",{className:"font-bold text-lg mb-1",children:"Mock Tests"}),v.jsx("p",{className:"text-indigo-100 text-xs mb-3",children:"Premium & Free Tests"}),v.jsx("div",{className:"bg-white/20 w-fit px-3 py-1 rounded-full text-xs font-bold backdrop-blur-sm group-hover:bg-white/30 transition-colors",children:"Start Now "})]}),v.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-indigo-50 shadow-sm",children:[v.jsxs("h3",{className:"font-bold text-slate-400 text-xs uppercase mb-3 flex items-center gap-2",children:[v.jsx(md,{className:"h-3 w-3"})," Categories"]}),v.jsxs("div",{className:"space-y-1 mb-6",children:[v.jsx("button",{onClick:()=>te("ALL"),className:`block w-full text-left py-1.5 px-3 rounded-lg text-sm transition-colors ${z==="ALL"?"bg-indigo-50 text-primary font-bold":"text-slate-600 hover:bg-slate-50"}`,children:"All"}),c.map(J=>v.jsx("button",{onClick:()=>te(J.id),className:`block w-full text-left py-1.5 px-3 rounded-lg text-sm transition-colors ${z===J.id?"bg-indigo-50 text-primary font-bold":"text-slate-600 hover:bg-slate-50"}`,children:J.name},J.id))]})]})]}),v.jsxs("div",{className:"flex-1",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Library"}),v.jsxs("div",{className:"relative w-64",children:[v.jsx(HS,{className:"absolute left-3 top-2.5 h-4 w-4 text-slate-400"}),v.jsx("input",{type:"text",placeholder:"Search...",className:"w-full pl-10 pr-4 py-2 border rounded-xl",value:ke,onChange:J=>M(J.target.value)})]})]}),w.length>0?v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map(J=>v.jsx(N0,{material:J,onClick:Ko},J.id))}):v.jsx("div",{className:"text-center py-20 bg-white rounded-3xl border border-dashed border-slate-200",children:v.jsx("h3",{className:"text-slate-500",children:"No materials found."})})]})]})},Gt=()=>ce?v.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8 animate-in fade-in duration-300",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("button",{onClick:()=>Un(!0),className:"p-2 bg-white border border-slate-200 rounded-xl shadow-sm hover:bg-slate-50 text-slate-700",children:v.jsx(A0,{className:"h-6 w-6"})}),v.jsx("h1",{className:"text-2xl font-bold",children:"Admin Dashboard"})]}),v.jsxs("div",{className:"flex items-center gap-2 text-xs text-green-600 bg-green-50 px-3 py-1 rounded-full border border-green-100",children:[v.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})," System Online"]})]}),na(),Ye==="settings"&&v.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-indigo-100 shadow-sm",children:[v.jsx("h3",{className:"font-bold text-xl mb-6",children:"General Site Settings"}),v.jsxs("div",{className:"bg-slate-50 p-6 rounded-2xl border border-slate-200 flex items-center justify-between mb-4",children:[v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold text-slate-800",children:"Enable Subscription System"}),v.jsx("p",{className:"text-sm text-slate-500 mt-1 max-w-lg",children:'If disabled, all content (PDFs, Quizzes) will be accessible to all users without payment or tier restrictions. Use this for maintenance or "Free Access" events.'})]}),v.jsx("button",{onClick:()=>ea("enable_subscriptions",(!R).toString()),className:`relative w-14 h-8 rounded-full transition-colors ${R?"bg-green-500":"bg-slate-300"}`,children:v.jsx("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full shadow transition-transform ${R?"left-7":"left-1"}`})})]})]}),Ye==="subscriptions"&&v.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-indigo-100 shadow-sm",children:[v.jsx("h3",{className:"font-bold text-xl mb-6",children:"Subscription Plans Manager"}),!R&&v.jsxs("div",{className:"bg-amber-50 text-amber-800 p-4 rounded-xl border border-amber-200 mb-6 text-sm font-bold flex items-center gap-2",children:[v.jsx(Ho,{className:"h-4 w-4"})," NOTE: Subscriptions are currently DISABLED globally in Settings. These plans are not visible to users."]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:A.map(w=>v.jsx("div",{className:`p-6 rounded-2xl border relative overflow-hidden ${w.is_active?"":"opacity-60 grayscale"} bg-gradient-to-br ${w.color_theme||"from-slate-100 to-slate-200"}`,children:v.jsxs("div",{className:"relative z-10",children:[v.jsxs("div",{className:"flex justify-between items-start mb-4",children:[v.jsx("div",{className:"bg-white/80 backdrop-blur-sm px-3 py-1 rounded-full text-xs font-bold shadow-sm",children:w.name}),v.jsx("button",{onClick:()=>Hr({...w,is_active:!w.is_active}),className:`p-2 rounded-full ${w.is_active?"bg-green-500 text-white":"bg-slate-500 text-white"}`,children:v.jsx(QS,{className:"h-4 w-4"})})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"text-xs font-bold uppercase opacity-60",children:"Price ()"}),v.jsx("input",{type:"number",className:"w-full bg-white/50 border border-white/40 rounded p-2 font-bold",value:w.price,onChange:J=>{const Te=A.map(ve=>ve.id===w.id?{...ve,price:parseInt(J.target.value)}:ve);N(Te)}})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"text-xs font-bold uppercase opacity-60",children:"Features (Comma Separated)"}),v.jsx("textarea",{className:"w-full bg-white/50 border border-white/40 rounded p-2 text-xs h-20",value:w.features.join(", "),onChange:J=>{const Te=A.map(ve=>ve.id===w.id?{...ve,features:J.target.value.split(",").map(It=>It.trim())}:ve);N(Te)}})]}),v.jsx("button",{onClick:()=>Hr(w),className:"w-full py-2 bg-white text-slate-900 font-bold rounded-lg shadow hover:bg-slate-50 text-sm",children:"Update Plan"})]})},w.id))})]}),Ye==="users"&&v.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-indigo-100 shadow-sm",children:[v.jsx("h3",{className:"font-bold text-xl mb-6",children:"Registered Students"}),Rt.length===0?v.jsx("p",{className:"text-slate-500 text-sm",children:"No users found."}):v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-sm text-left",children:[v.jsx("thead",{className:"bg-slate-50 text-slate-500 font-bold uppercase text-xs",children:v.jsxs("tr",{children:[v.jsx("th",{className:"p-3",children:"Name"}),v.jsx("th",{className:"p-3",children:"Email"}),v.jsx("th",{className:"p-3",children:"Tier"})]})}),v.jsx("tbody",{className:"divide-y",children:Rt.map(w=>v.jsxs("tr",{children:[v.jsxs("td",{className:"p-3 font-bold",children:[w.full_name," ",w.last_name]}),v.jsx("td",{className:"p-3",children:w.email}),v.jsx("td",{className:"p-3",children:v.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-bold ${w.subscription_tier==="DIAMOND"?"bg-cyan-100 text-cyan-800":w.subscription_tier==="GOLD"?"bg-amber-100 text-amber-800":"bg-slate-100 text-slate-600"}`,children:w.subscription_tier||"FREE"})})]},w.id))})]})})]}),Ye==="materials"&&v.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-indigo-100 shadow-sm",children:[v.jsx("h3",{className:"font-bold text-xl mb-6",children:"Manage Library"}),v.jsxs("div",{className:"space-y-4",children:[i.length===0&&v.jsx("p",{className:"text-slate-500 text-sm",children:"No materials found."}),i.map(w=>v.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-xl border border-slate-200",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:"p-2 bg-white rounded-lg border text-xs font-bold uppercase",children:w.type}),v.jsxs("div",{children:[v.jsx("div",{className:"font-bold text-slate-800",children:w.title}),v.jsxs("div",{className:"text-xs text-slate-500",children:[w.subject,"  ",new Date(w.uploadDate).toLocaleDateString()]})]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("button",{onClick:()=>vn(w),disabled:Yo===w.id,className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg text-xs font-bold flex items-center gap-1",children:[Yo===w.id?v.jsx(Ml,{className:"h-4 w-4 animate-spin"}):v.jsx(gg,{className:"h-4 w-4"})," Quiz"]}),v.jsx("button",{onClick:()=>Bn(w.id),className:"p-2 text-rose-500 hover:bg-rose-50 rounded-lg",children:v.jsx(ur,{className:"h-4 w-4"})})]})]},w.id))]})]}),Ye==="quizzes"&&v.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-indigo-100 shadow-sm",children:[v.jsx("h3",{className:"font-bold text-xl mb-6",children:"Manage Quizzes"}),v.jsxs("div",{className:"bg-slate-50 p-6 rounded-2xl mb-8 border border-slate-200",children:[v.jsx("h4",{className:"font-bold text-sm uppercase text-slate-500 mb-4",children:di?"Edit Quiz":"Create New Quiz"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[v.jsx("input",{type:"text",placeholder:"Quiz Title",className:"border p-2 rounded-lg",value:je.title,onChange:w=>rn({...je,title:w.target.value})}),v.jsx("input",{type:"number",placeholder:"Duration (mins)",className:"border p-2 rounded-lg",value:je.duration,onChange:w=>rn({...je,duration:parseInt(w.target.value)})}),v.jsx("input",{type:"number",placeholder:"Total Marks",className:"border p-2 rounded-lg",value:je.totalMarks,onChange:w=>rn({...je,totalMarks:parseInt(w.target.value)})}),v.jsxs("select",{className:"border p-2 rounded-lg",value:je.language,onChange:w=>rn({...je,language:w.target.value}),children:[v.jsx("option",{value:"ENGLISH",children:"English"}),v.jsx("option",{value:"HINDI",children:"Hindi"}),v.jsx("option",{value:"BILINGUAL",children:"Bilingual"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("input",{type:"checkbox",checked:je.isPremium,onChange:w=>rn({...je,isPremium:w.target.checked})}),v.jsx("label",{children:"Premium?"})]}),je.isPremium&&v.jsx("input",{type:"number",placeholder:"Price (INR)",className:"border p-2 rounded-lg",value:je.price,onChange:w=>rn({...je,price:parseInt(w.target.value)})})]}),v.jsx("textarea",{placeholder:"Description",className:"w-full border p-2 rounded-lg mb-4",value:je.description,onChange:w=>rn({...je,description:w.target.value})}),v.jsxs("div",{className:"flex gap-2",children:[di?v.jsx("button",{onClick:Rs,className:"bg-indigo-600 text-white px-4 py-2 rounded-lg font-bold",children:"Update Quiz"}):v.jsx("div",{className:"text-xs text-slate-500 font-bold p-2",children:'Use "AI Convert" from Library to create new quizzes easily.'}),di&&v.jsx("button",{onClick:()=>{As(null),rn({title:"",description:"",duration:20,totalMarks:10,language:"ENGLISH",isPremium:!1,price:0,imageUrl:""})},className:"bg-slate-200 text-slate-600 px-4 py-2 rounded-lg font-bold",children:"Cancel"})]})]}),v.jsxs("div",{className:"space-y-4",children:[fe.length===0&&v.jsx("p",{className:"text-slate-500 text-sm",children:"No quizzes found."}),fe.map(w=>{var J;return v.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-50 rounded-xl border border-slate-200",children:[v.jsxs("div",{children:[v.jsx("div",{className:"font-bold",children:w.title}),v.jsxs("div",{className:"text-xs text-slate-500",children:[((J=w.questions)==null?void 0:J.length)||0," Questions  ",w.language,"  ",w.is_premium?`${w.price}`:"Free"]})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:()=>Ns(w),className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg",children:v.jsx(yg,{className:"h-4 w-4"})}),v.jsx("button",{onClick:()=>nu(w.id),className:"p-2 text-rose-500 hover:bg-rose-50 rounded-lg",children:v.jsx(ur,{className:"h-4 w-4"})})]})]},w.id)})]})]}),Ye==="banners"&&v.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-indigo-100 shadow-sm",children:[v.jsx("h3",{className:"font-bold text-xl mb-6",children:"Manage Banners"}),v.jsxs("div",{className:"mb-8 bg-slate-50 p-6 rounded-2xl border border-slate-200",children:[v.jsx("h4",{className:"font-bold text-sm uppercase text-slate-500 mb-4",children:"Add New Banner"}),v.jsxs("div",{className:"space-y-4",children:[v.jsx("input",{type:"text",placeholder:"Title",className:"w-full border p-2 rounded-lg",value:St.title,onChange:w=>Ji({...St,title:w.target.value})}),v.jsx("input",{type:"text",placeholder:"Image URL (Leave empty if using HTML)",className:"w-full border p-2 rounded-lg",value:St.image_url,onChange:w=>Ji({...St,image_url:w.target.value})}),v.jsx("input",{type:"text",placeholder:"Link URL",className:"w-full border p-2 rounded-lg",value:St.link_url,onChange:w=>Ji({...St,link_url:w.target.value})}),v.jsx("textarea",{placeholder:"HTML Content (Optional - Overrides Image)",className:"w-full border p-2 rounded-lg font-mono text-xs",value:St.html_content,onChange:w=>Ji({...St,html_content:w.target.value})}),v.jsx("button",{onClick:_i,className:"bg-primary text-white px-6 py-2 rounded-lg font-bold shadow-md",children:"Add Banner"})]})]}),v.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[b.length===0&&v.jsx("p",{className:"text-slate-500 text-sm",children:"No banners found."}),b.map(w=>v.jsxs("div",{className:"flex items-center gap-4 bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[w.image_url&&w.image_url!=="HTML_BANNER"?v.jsx("img",{src:w.image_url,className:"w-24 h-16 object-cover rounded-lg bg-slate-100"}):v.jsx("div",{className:"w-24 h-16 bg-slate-100 rounded-lg flex items-center justify-center text-xs font-mono",children:"HTML"}),v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:"font-bold",children:w.title}),v.jsx("div",{className:"text-xs text-slate-400 truncate",children:w.link_url||"No Link"})]}),v.jsx("button",{onClick:()=>tu(w.id),className:"p-2 text-rose-500 hover:bg-rose-50 rounded-lg",children:v.jsx(ur,{className:"h-4 w-4"})})]},w.id))]})]}),Ye==="categories"&&v.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-indigo-100 shadow-sm",children:[v.jsx("h3",{className:"font-bold text-xl mb-6",children:"Manage Categories"}),v.jsxs("div",{className:"flex gap-2 mb-6",children:[v.jsx("input",{type:"text",placeholder:"New Category Name",className:"flex-1 border p-3 rounded-xl bg-slate-50",value:kr,onChange:w=>Fo(w.target.value)}),v.jsx("button",{onClick:Wi,disabled:mn,className:"bg-primary text-white px-6 py-3 rounded-xl font-bold shadow-md",children:"Add"})]}),v.jsxs("div",{className:"space-y-2",children:[c.length===0&&v.jsx("p",{className:"text-slate-500 text-sm",children:"No categories found."}),c.map(w=>v.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 rounded-xl border border-slate-200",children:[v.jsx("span",{className:"font-bold text-slate-700",children:w.name}),v.jsx("button",{onClick:()=>qr(w.id),className:"text-rose-500 hover:bg-rose-100 p-2 rounded-lg",children:v.jsx(ur,{className:"h-4 w-4"})})]},w.id))]})]}),Ye==="formats"&&v.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-indigo-100 shadow-sm",children:[v.jsx("h3",{className:"font-bold text-xl mb-6",children:"Manage Formats"}),v.jsxs("div",{className:"flex gap-2 mb-6",children:[v.jsx("input",{type:"text",placeholder:"New Format Name",className:"flex-1 border p-3 rounded-xl bg-slate-50",value:Ln,onChange:w=>Mt(w.target.value)}),v.jsx("button",{onClick:gi,disabled:mn,className:"bg-primary text-white px-6 py-3 rounded-xl font-bold shadow-md",children:"Add"})]}),v.jsxs("div",{className:"space-y-2",children:[g.length===0&&v.jsx("p",{className:"text-slate-500 text-sm",children:"No formats found."}),g.map(w=>v.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 rounded-xl border border-slate-200",children:[v.jsx("span",{className:"font-bold text-slate-700",children:w.name}),v.jsx("button",{onClick:()=>yi(w.id),className:"text-rose-500 hover:bg-rose-100 p-2 rounded-lg",children:v.jsx(ur,{className:"h-4 w-4"})})]},w.id))]})]}),Ye==="ads"&&v.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-indigo-100 shadow-sm",children:[v.jsx("h3",{className:"font-bold text-xl mb-6",children:"Ad Manager"}),v.jsxs("div",{className:"bg-slate-50 p-6 rounded-2xl mb-8 border border-slate-200",children:[v.jsx("h4",{className:"font-bold text-sm uppercase text-slate-500 mb-4",children:An?"Edit Advertisement":"Create Advertisement"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[v.jsx("input",{type:"text",placeholder:"Ad Name",className:"border p-2 rounded-lg",value:Ue.name,onChange:w=>Ot({...Ue,name:w.target.value})}),v.jsxs("select",{className:"border p-2 rounded-lg",value:Ue.location,onChange:w=>Ot({...Ue,location:w.target.value}),children:[v.jsx("option",{value:"HOME_HERO",children:"Home Hero"}),v.jsx("option",{value:"HOME_FOOTER",children:"Home Footer"}),v.jsx("option",{value:"DASHBOARD_SIDEBAR",children:"Dashboard Sidebar"}),v.jsx("option",{value:"DETAILS_FOOTER",children:"Details Footer"}),v.jsx("option",{value:"MOCK_SIDEBAR",children:"Mock Sidebar"}),v.jsx("option",{value:"STICKY_FOOTER",children:"Sticky Footer"})]}),v.jsxs("select",{className:"border p-2 rounded-lg",value:Ue.ad_format,onChange:w=>Ot({...Ue,ad_format:w.target.value}),children:[v.jsx("option",{value:"BANNER",children:"Banner"}),v.jsx("option",{value:"RECTANGLE",children:"Rectangle"}),v.jsx("option",{value:"LEADERBOARD",children:"Leaderboard"}),v.jsx("option",{value:"POPUNDER",children:"Popunder (Hidden)"}),v.jsx("option",{value:"NATIVE",children:"Native"}),v.jsx("option",{value:"INTERSTITIAL",children:"Interstitial"})]}),v.jsxs("select",{className:"border p-2 rounded-lg",value:Ue.target_type,onChange:w=>Ot({...Ue,target_type:w.target.value}),children:[v.jsx("option",{value:"ALL",children:"All Content"}),v.jsx("option",{value:"PDF",children:"PDF Only"}),v.jsx("option",{value:"HTML",children:"HTML Only"}),v.jsx("option",{value:"QUIZ",children:"Quiz Only"})]}),v.jsxs("select",{className:"border p-2 rounded-lg",value:Ue.device_target,onChange:w=>Ot({...Ue,device_target:w.target.value}),children:[v.jsx("option",{value:"ALL",children:"All Devices"}),v.jsx("option",{value:"MOBILE",children:"Mobile Only"}),v.jsx("option",{value:"DESKTOP",children:"Desktop Only"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("input",{type:"checkbox",checked:Ue.run_indefinitely,onChange:w=>Ot({...Ue,run_indefinitely:w.target.checked})}),v.jsx("label",{className:"text-sm",children:"Run Indefinitely"})]})]}),v.jsx("textarea",{placeholder:"Ad Code (HTML/JS)",className:"w-full border p-2 rounded-lg font-mono text-xs h-24 mb-4",value:Ue.ad_code,onChange:w=>Ot({...Ue,ad_code:w.target.value})}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:Zi,className:"bg-indigo-600 text-white px-6 py-2 rounded-lg font-bold",children:An?"Update Ad":"Create Ad"}),An&&v.jsx("button",{onClick:ft,className:"bg-slate-200 text-slate-600 px-6 py-2 rounded-lg font-bold",children:"Cancel"})]})]}),v.jsxs("div",{className:"space-y-4",children:[_.length===0&&v.jsx("p",{className:"text-slate-500 text-sm",children:"No ads found."}),_.map(w=>v.jsxs("div",{className:`p-4 rounded-xl border flex justify-between items-center ${w.is_active?"bg-white border-slate-200":"bg-slate-50 border-slate-200 opacity-60"}`,children:[v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"font-bold text-slate-800",children:w.name}),v.jsx("span",{className:"text-[10px] px-2 py-0.5 bg-slate-100 rounded border",children:w.location}),v.jsx("span",{className:"text-[10px] px-2 py-0.5 bg-slate-100 rounded border",children:w.ad_format})]}),v.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:["Impressions: ",w.impressions||0]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("button",{onClick:()=>Zo(w),className:`p-2 rounded-lg text-xs font-bold ${w.is_active?"bg-green-100 text-green-700":"bg-slate-200 text-slate-600"}`,children:w.is_active?"Active":"Paused"}),v.jsx("button",{onClick:()=>vi(w),className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg",children:v.jsx(yg,{className:"h-4 w-4"})}),v.jsx("button",{onClick:()=>Wo(w.id),className:"p-2 text-rose-500 hover:bg-rose-50 rounded-lg",children:v.jsx(ur,{className:"h-4 w-4"})})]})]},w.id))]})]}),Ye==="upload"&&v.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-indigo-100 shadow-sm",children:[v.jsx("h3",{className:"font-bold text-xl mb-6",children:"Upload Content"}),v.jsxs("form",{onSubmit:ta,className:"space-y-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold uppercase text-slate-500 mb-1",children:"Title"}),v.jsx("input",{type:"text",className:"w-full border p-3 rounded-xl bg-slate-50",value:_e.title,onChange:w=>Pt({..._e,title:w.target.value}),required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold uppercase text-slate-500 mb-1",children:"Description"}),v.jsx("textarea",{className:"w-full border p-3 rounded-xl bg-slate-50",value:_e.description,onChange:w=>Pt({..._e,description:w.target.value}),required:!0})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold uppercase text-slate-500 mb-1",children:"Type"}),v.jsxs("select",{className:"w-full border p-3 rounded-xl bg-slate-50",value:_e.type,onChange:w=>Pt({..._e,type:w.target.value}),children:[v.jsx("option",{value:tt.NOTES,children:"Notes"}),v.jsx("option",{value:tt.PDF,children:"PDF Document"}),v.jsx("option",{value:tt.PPT,children:"PPT Presentation"}),v.jsx("option",{value:tt.HTML,children:"HTML / Web Page"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold uppercase text-slate-500 mb-1",children:"Category"}),v.jsxs("select",{className:"w-full border p-3 rounded-xl bg-slate-50",value:_e.categoryId,onChange:w=>Pt({..._e,categoryId:w.target.value}),children:[v.jsx("option",{value:"",children:"Select Category"}),c.map(w=>v.jsx("option",{value:w.id,children:w.name},w.id))]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold uppercase text-slate-500 mb-1",children:"Format"}),v.jsx("select",{className:"w-full border p-3 rounded-xl bg-slate-50",value:_e.format,onChange:w=>Pt({..._e,format:w.target.value}),children:g.map(w=>v.jsx("option",{value:w.name,children:w.name},w.id))})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold uppercase text-slate-500 mb-1",children:"Batch"}),v.jsxs("select",{className:"w-full border p-3 rounded-xl bg-slate-50",value:_e.batchId,onChange:w=>Pt({..._e,batchId:w.target.value}),children:[v.jsx("option",{value:"",children:"None"}),Ir.map(w=>v.jsx("option",{value:w.id,children:w.title},w.id))]})]})]}),v.jsxs("div",{className:"flex flex-col md:flex-row gap-6 p-4 bg-slate-50 rounded-xl border border-slate-100",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("label",{className:"block text-xs font-bold uppercase text-slate-500 mb-1",children:"Required Subscription Tier"}),v.jsxs("select",{className:"w-full border p-3 rounded-xl bg-white",value:_e.requiredTier,onChange:w=>Pt({..._e,requiredTier:w.target.value}),children:[v.jsx("option",{value:yt.FREE,children:"Free Content"}),v.jsx("option",{value:yt.SILVER,children:"Silver Plan (Basic Premium)"}),v.jsx("option",{value:yt.GOLD,children:"Gold Plan"}),v.jsx("option",{value:yt.DIAMOND,children:"Diamond Plan (Highest)"})]}),_e.requiredTier===yt.FREE&&v.jsxs("div",{className:"mt-3 flex items-center gap-2 p-3 bg-white border border-slate-200 rounded-lg transition-all animate-in fade-in",children:[v.jsx("input",{type:"checkbox",id:"loginRequired",checked:_e.loginRequired,onChange:w=>Pt({..._e,loginRequired:w.target.checked}),className:"h-5 w-5 accent-primary cursor-pointer"}),v.jsxs("label",{htmlFor:"loginRequired",className:"text-sm font-bold text-slate-700 cursor-pointer flex items-center gap-2",children:[v.jsx(tT,{className:"h-4 w-4 text-slate-500"})," Require Login?",v.jsx("span",{className:"text-xs font-normal text-slate-500",children:"(Users must register to view this free content)"})]})]})]}),v.jsxs("div",{className:"flex items-center gap-2 pt-6",children:[v.jsx("input",{type:"checkbox",id:"adsEnabled",checked:_e.adsEnabled,onChange:w=>Pt({..._e,adsEnabled:w.target.checked}),className:"h-5 w-5 accent-primary cursor-pointer"}),v.jsx("label",{htmlFor:"adsEnabled",className:"text-sm font-bold text-slate-700 cursor-pointer",children:"Enable Ads"})]})]}),_e.type===tt.HTML&&v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold uppercase text-slate-500 mb-1",children:"Paste HTML Code (Optional)"}),v.jsx("textarea",{className:"w-full border p-3 rounded-xl bg-slate-50 font-mono text-sm h-40 select-text",placeholder:"<html>...</html>",value:_e.content,onChange:w=>Pt({..._e,content:w.target.value})}),v.jsx("div",{className:"text-center text-xs text-slate-400 my-2",children:"- OR -"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold uppercase text-slate-500 mb-1",children:_e.type===tt.HTML?"Upload HTML File (Optional)":"Upload File"}),v.jsxs("div",{className:`border-2 border-dashed rounded-xl p-8 text-center transition-colors ${sn?"border-green-400 bg-green-50":"border-indigo-200 hover:border-primary"}`,children:[v.jsx("input",{type:"file",ref:fi,onChange:Ht,className:"hidden",id:"file-upload",accept:_e.type===tt.HTML?".html,.htm":".pdf,.ppt,.pptx"}),v.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer flex flex-col items-center",children:sn?v.jsxs(v.Fragment,{children:[v.jsx(mg,{className:"h-10 w-10 text-green-500 mb-2"}),v.jsx("span",{className:"font-bold text-green-700",children:sn.name}),v.jsx("span",{className:"text-xs text-green-600 mt-1",children:"Ready to upload"})]}):v.jsxs(v.Fragment,{children:[v.jsx(_g,{className:"h-10 w-10 text-indigo-300 mb-2"}),v.jsx("span",{className:"text-slate-500 font-medium",children:"Click to browse or drag file here"}),v.jsx("span",{className:"text-xs text-slate-400 mt-1",children:_e.type===tt.HTML?"HTML files supported":"PDF, PPT up to 50MB"})]})})]})]}),v.jsx("button",{type:"submit",disabled:ws,className:"w-full bg-primary hover:bg-primaryDark text-white font-bold py-4 rounded-xl shadow-xl shadow-indigo-200 transition-all flex items-center justify-center gap-2",children:ws?Pn:"Upload Material"})]})]})]}):v.jsx("div",{children:"Denied"}),Br=()=>ie?v.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 animate-in fade-in zoom-in duration-300",children:[v.jsxs("button",{onClick:()=>e(we.DASHBOARD),className:"flex items-center gap-2 text-slate-500 hover:text-primary mb-6 transition-colors font-bold",children:[v.jsx(jl,{className:"h-4 w-4"})," Back to Library"]}),v.jsxs("div",{className:"bg-white rounded-3xl shadow-xl overflow-hidden border border-indigo-50 relative",children:[v.jsxs(ww,{children:[v.jsx(Aw,{user:null,userProfile:L}),v.jsx("div",{className:"p-2 bg-slate-50 border-b",children:v.jsx(kn,{ads:_,location:"DETAILS_FOOTER",contentContext:ie.type,isAdmin:ce,materialAdsEnabled:ie.adsEnabled})}),v.jsx("div",{className:"bg-white h-[80vh] overflow-y-auto relative z-10 p-1",children:ie.type===tt.NOTES?v.jsxs("div",{className:"p-8 prose max-w-none font-serif text-lg leading-relaxed whitespace-pre-wrap select-none",children:[v.jsx("div",{className:"absolute opacity-0 pointer-events-none select-text h-1 w-1 overflow-hidden",children:"WARNING: COPYRIGHT CONTENT. DO NOT SCRAPE."}),ie.content]}):ie.type===tt.HTML?v.jsx("iframe",{srcDoc:ie.content,className:"w-full h-full border-0 bg-white",sandbox:"allow-scripts allow-same-origin allow-popups",title:"Interactive Document"}):v.jsx("div",{className:"w-full h-full bg-slate-100 flex flex-col items-center justify-center relative",children:v.jsx("iframe",{src:`https://docs.google.com/gview?url=${encodeURIComponent(ie.content)}&embedded=true`,className:"w-full h-full border-0",title:"Document Viewer"})})})]}),v.jsxs("div",{className:"p-6 border-t border-indigo-50 bg-surface",children:[v.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:ie.title}),v.jsx("p",{className:"text-slate-600 mb-4",children:ie.description}),v.jsxs("div",{className:"flex gap-2",children:[ie.tags.map(w=>v.jsxs("span",{className:"px-3 py-1 bg-white border border-indigo-100 text-primary text-xs rounded-full font-bold",children:["#",w]},w)),ie.type===tt.HTML&&v.jsxs("span",{className:"px-3 py-1 bg-blue-50 border border-blue-100 text-blue-600 text-xs rounded-full font-bold flex items-center gap-1",children:[v.jsx(x0,{className:"h-3 w-3"})," Interactive PDF"]}),R&&ie.requiredTier!==yt.FREE&&v.jsxs("span",{className:`px-3 py-1 text-xs rounded-full font-bold flex items-center gap-1 border ${ie.requiredTier===yt.DIAMOND?"bg-cyan-50 border-cyan-200 text-cyan-700":ie.requiredTier===yt.GOLD?"bg-amber-50 border-amber-200 text-amber-700":"bg-slate-50 border-slate-200 text-slate-600"}`,children:[v.jsx(pg,{className:"h-3 w-3"})," ",ie.requiredTier]})]})]})]})]}):null;return v.jsxs("div",{className:"min-h-screen bg-surface font-sans text-slate-900 pb-20 relative",children:[v.jsx(uT,{currentView:n,onChangeView:e,isAdmin:ce,onToggleAdmin:Qo,onRefresh:yn,isRefreshing:$o}),n===we.HOME&&v.jsx(Tw,{onGetStarted:()=>e(we.DASHBOARD),ads:_,banners:b,featuredHtml:a,onChangeView:e,onMaterialClick:Ko}),n===we.DASHBOARD&&su(),n===we.UPLOAD&&Gt(),n===we.DETAILS&&Br(),n===we.ADMIN_LOGIN&&v.jsx(Cw,{onLoginSuccess:Xo,onCancel:()=>e(we.HOME)}),n===we.MOCK_TEST_LIST&&Ms(),n===we.MOCK_TEST_ATTEMPT&&ne&&v.jsx(Mw,{quiz:ne,ads:_,onFinish:()=>e(we.MOCK_TEST_LIST)}),(n===we.TERMS||n===we.PRIVACY||n===we.REFUND||n===we.CONTACT)&&v.jsx(Rw,{view:n,onBack:()=>e(we.HOME)}),!L&&(n===we.MOCK_TEST_LIST||n===we.DASHBOARD)&&v.jsx("div",{className:"fixed bottom-24 right-4 z-40 animate-bounce",children:v.jsx("button",{onClick:()=>{$("LOGIN"),Y(!0)},className:"bg-primary text-white px-6 py-3 rounded-full font-bold shadow-lg flex items-center gap-2 hover:bg-primaryDark transition-all",children:"Login / Register"})}),j&&v.jsx(Lw,{onClose:()=>Y(!1),onSuccess:iu,initialMode:Q,customMessage:ae}),pi.isOpen&&v.jsx(xw,{...pi,onCancel:()=>gn(w=>({...w,isOpen:!1}))}),v.jsx(Nw,{children:null}),v.jsx("div",{className:"fixed bottom-0 left-0 w-full z-[100] bg-white border-t border-slate-200 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)]",children:v.jsx(kn,{ads:_,location:"STICKY_FOOTER",isAdmin:ce})})]})}const b_=document.getElementById("root");if(!b_)throw new Error("Could not find root element to mount to");const gI=qb.createRoot(b_);gI.render(v.jsx(Mb.StrictMode,{children:v.jsx(mI,{})}));
